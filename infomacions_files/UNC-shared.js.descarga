/*
 *  Copyright 2017 Adobe Systems Incorporated. All rights reserved.
 *  This file is licensed to you under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License. You may obtain a copy
 *  of the License at http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software distributed under
 *  the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS
 *  OF ANY KIND, either express or implied. See the License for the specific language
 *  governing permissions and limitations under the License.
 */
/*! For license information please see UNC-shared.js.LICENSE.txt */
var UNC;!function(){var e={7780:function(e,t,n){"use strict";var i=n(6153);e.exports=i},6153:function(e,t,n){var i,r,o,a;function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c.apply(this,arguments)}function l(){"use strict";l=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),s=new P(i||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",h="suspendedYield",g="executing",m="completed",v={};function y(){}function _(){}function C(){}var E={};u(E,a,(function(){return this}));var S=Object.getPrototypeOf,N=S&&S(S(R([])));N&&N!==n&&i.call(N,a)&&(E=N);var O=C.prototype=y.prototype=Object.create(E);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(r,o,a,s){var c=d(e[r],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==b(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function w(t,n,i){var r=p;return function(o,a){if(r===g)throw new Error("Generator is already running");if(r===m){if("throw"===o)throw a;return{value:e,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var c=A(s,i);if(c){if(c===v)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===p)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=g;var l=d(t,n,i);if("normal"===l.type){if(r=i.done?m:h,l.arg===v)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=m,i.method="throw",i.arg=l.arg)}}}function A(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),v;var o=d(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(b(t)+" is not iterable")}return _.prototype=C,r(O,"constructor",{value:C,configurable:!0}),r(C,"constructor",{value:_,configurable:!0}),_.displayName=u(C,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,u(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},T(I.prototype),u(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new I(f(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(O),u(O,c,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=R,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;D(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:R(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),v}},t}function u(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){u(o,i,r,a,s,"next",e)}function s(e){u(o,i,r,a,s,"throw",e)}a(void 0)}))}}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=p(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function p(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,y(i.key),i)}}function v(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=b(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:String(t)}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}e=n.nmd(e),self,a=function(){return function(){var e={687:function(e,t,n){"use strict";var i=n(458);e.exports=i},458:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var i=n(795),r=n.n(i),o=n(877),a=n.n(o),u=new(function(){function e(){g(this,e)}return v(e,[{key:"debug",value:function(){if(window.logLevel&&window.logLevel>=4){var e=Array.prototype.slice.call(arguments);console.debug.apply(console,e)}}},{key:"error",value:function(){if(!window.logLevel||0!==window.logLevel){var e=Array.prototype.slice.call(arguments);console.error.apply(console,e)}}},{key:"warn",value:function(){if(window.logLevel&&window.logLevel>=2){var e=Array.prototype.slice.call(arguments);console.warn.apply(console,e)}}},{key:"log",value:function(){if(window.logLevel&&window.logLevel>=3){var e=Array.prototype.slice.call(arguments);console.info.apply(console,e)}}},{key:"info",value:function(){if(window.logLevel&&window.logLevel>=3){var e=Array.prototype.slice.call(arguments);console.info.apply(console,e)}}}]),e}()),p=function(e){return"function"==typeof e&&e()},h=function(e,t){return e.indexOf(t)>-1},m=new(function(){function e(){g(this,e),this.userAgentData=null,this.featureflags=[]}return v(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.featureflags=t,this.isUserAgentClientPresent()?this.getUserAgentData(e):(p(e),h(this.featureflags,"temp_enable_cchome_apps_logs")&&console.log("UACH is not available on current environment. Please refer user agent strings"))}},{key:"isUserAgentClientPresent",value:function(){return h(this.featureflags,"temp_cch_14970")&&!!navigator.userAgentData}},{key:"getUserAgentData",value:function(e){var t=this;navigator.userAgentData.getHighEntropyValues(["architecture","bitness","brands","mobile","model","platform","platformVersion","uaFullVersion","fullVersionList"]).then((function(n){t.userAgentData=n,p(e),h(t.featureflags,"temp_enable_cchome_apps_logs")&&console.log("UACH is available on current environment",t.userAgentData)})).catch((function(n){p(e),h(t.featureflags,"temp_enable_cchome_apps_logs")&&console.error("navigator.userAgentData failed to execute",n)}))}},{key:"compareVersionNumbers",value:function(e,t){for(var n=e.split(".").map((function(e){return parseInt(e,10)})),i=t.split(".").map((function(e){return parseInt(e,10)})),r=n.length>i.length?n:i,o=0;o<r.length;o++){if(void 0===n[o]?n[o]=0:void 0===i[o]&&(i[o]=0),n[o]>i[o])return 1;if(n[o]<i[o])return-1}return 0}},{key:"isWin",value:function(){return this.userAgentData?this.userAgentData.platform.toLowerCase().includes("windows"):r()&&r().os&&r().os.family?r().os.family.toLowerCase().includes("windows"):-1!==navigator.appVersion.indexOf("Win")}},{key:"isLinux",value:function(){return!!(r()&&r().os&&r().os.family)&&("linux"===r().os.family.toLowerCase()||"ubuntu"===r().os.family.toLowerCase())}},{key:"isWindowsPhone",value:function(){return navigator.userAgent.toLowerCase().indexOf("windows phone")>-1}},{key:"isMobileOrTab",value:function(){return h(this.featureflags,"temp_cch_14970")?!!(this.isWindowsPhone()||this.isIPad()||this.isIPhone()||this.isAndroid()||this.isTouchDevice()&&!this.isWin()&&!this.isLinux()&&!this.isMacOS()||this.isChromeOS())&&(h(this.featureflags,"temp_enable_cchome_apps_logs")&&console.log("Running on mobile/tab"),!0):(!this.isWin()||this.isARM())&&!this.isLinux()&&this.isTouchDevice()||this.isChromeOS()}},{key:"isTouchDevice",value:function(){return!("undefined"==typeof window||!("ontouchstart"in window||window.DocumentTouch&&"undefined"!=typeof document&&document instanceof window.DocumentTouch))||!("undefined"==typeof navigator||!window.navigator.maxTouchPoints&&!window.navigator.msMaxTouchPoints)}},{key:"isARM",value:function(){if(this.userAgentData)return"arm"===this.userAgentData.architecture;var e=navigator.userAgent.toLowerCase().match("arm;".toLowerCase());return e&&e.length>0}},{key:"isChromeOS",value:function(){return-1!==navigator.userAgent.indexOf("CrOS")}},{key:"isSafari",value:function(){return!(!r()||!r().name)&&r().name.toLowerCase().includes("safari")}},{key:"isFirefox",value:function(){return!(!r()||!r().name)&&r().name.toLowerCase().includes("firefox")}},{key:"isEdgeOrIE",value:function(){return!(!r()||!r().name)&&(r().name.toLowerCase().includes("microsoft edge")||r().name.toLowerCase().includes("ie"))}},{key:"isEdge",value:function(){if(this.userAgentData){var e,t=d(this.userAgentData.brands);try{for(t.s();!(e=t.n()).done;)if("Microsoft Edge"===e.value.brand)return!0}catch(e){t.e(e)}finally{t.f()}return!1}return!(!r()||!r().name)&&(r().name.toLowerCase().includes("edge")||-1!==navigator.userAgent.search(/\bedg\//i))}},{key:"isChrome",value:function(){if(this.userAgentData){var e,t=d(this.userAgentData.brands);try{for(t.s();!(e=t.n()).done;)if("Google Chrome"===e.value.brand)return!0}catch(e){t.e(e)}finally{t.f()}return!1}return!(!r()||!r().name)&&r().name.toLowerCase().includes("chrome")&&!(-1!==navigator.userAgent.search(/\bedg\//i))}},{key:"isEdgeBeta",value:function(){return!(!r()||!r().name)&&r().name.toLowerCase().includes("chrome")&&-1!==navigator.userAgent.search(/\bedg\//i)}},{key:"isInternetExplorer",value:function(){return!(!r()||!r().name)&&r().name.toLowerCase().includes("ie")}},{key:"isIPad",value:function(){return!!(r()&&r().os&&r().os.family&&"ios"===r().os.family.toLowerCase()&&r().product&&"ipad"===r().product.toLowerCase())||this.isMacOS()&&this.isSafari()&&!this.isIPhone()&&this.isTouchDevice()}},{key:"isIPadOS",value:function(){if(r()&&r().os&&r().os.family&&"ios"===r().os.family.toLowerCase()&&r().product&&"ipad"===r().product.toLowerCase())return!0;var e=screen.availWidth;return screen.availHeight<screen.availWidth&&(e=screen.availHeight),this.isMacOS()&&this.isTouchDevice()&&(e*devicePixelRatio>=1300||e*devicePixelRatio==768)}},{key:"isIPhone",value:function(){return r()&&r().os&&r().os.family&&"ios"===r().os.family.toLowerCase()&&r().product&&"iphone"===r().product.toLowerCase()}},{key:"isIOS",value:function(){if(r()&&r().os&&r().os.family&&"ios"===r().os.family.toLowerCase()&&r().product&&"iphone"===r().product.toLowerCase())return!0;var e=screen.availWidth;return screen.availHeight<screen.availWidth&&(e=screen.availHeight),this.isMacOS()&&this.isTouchDevice()&&e*devicePixelRatio<1300&&e*devicePixelRatio!=768}},{key:"isAndroid",value:function(){return this.userAgentData?"android"===this.userAgentData.platform.toLowerCase():r()&&r().os&&r().os.family&&"android"===r().os.family.toLowerCase()}},{key:"getBrowser",value:function(){return this.isFirefox()?"firefox":this.isEdge()?"edge":this.isSafari()?"safari":this.isChrome()?"chrome":this.isInternetExplorer()?"ie":null}},{key:"isMacOS",value:function(){return this.userAgentData?"macos"===this.userAgentData.platform.toLowerCase():r()&&r().os&&r().os.family?r().os.family.toLowerCase().includes("os x"):!!navigator.userAgent.toLowerCase().match("mac os x")}},{key:"isNotMacOrWin",value:function(){return!this.isMacOS()&&!this.isWin()}},{key:"is64bitWindows",value:function(){return this.userAgentData?"64"===this.userAgentData.bitness&&"windows"===this.userAgentData.platform.toLowerCase():!(!window.navigator.cpuClass||"x64"!==window.navigator.cpuClass)||window.navigator.platform.toLowerCase().indexOf("win64")>=0||null!==navigator.userAgent.match(/wow64|win64/i)}},{key:"is64bitMac",value:function(){return this.userAgentData?"64"===this.userAgentData.bitness&&"macos"===this.userAgentData.platform.toLowerCase():!(!window.navigator.cpuClass||"x64"!==window.navigator.cpuClass)||"macintel"===window.navigator.platform.toLowerCase()||1===this.compareVersionNumbers(r().os.version,"10.7.0")}},{key:"getOSVersion",value:function(){return this.userAgentData&&!this.isWin()?this.userAgentData.platformVersion:r()&&r().os&&r().os.version?r().os.version:""}},{key:"getMacVersion",value:function(){if(this.isMacOS()&&this.getOSVersion())return this.getOSVersion();var e=navigator.userAgent.toLowerCase();if(e.match("mac os x")){var t,n=e.match(/mac os x ([9][_|\.][0-9]+[_|\.][0-9]+)|mac os x ([1]+[0-9][_|\.][0-9]+[_|\.][0-9]+)/);return n&&0!==n.length||(n=e.match(/mac os x ([9][_|\.][0-9]+)|mac os x ([1]+[0-9][_|\.][0-9]+)/))instanceof Array&&(n[1]?n[1]+=".0":n[2]+=".0"),n&&n.length>0&&(t=(t=n[1]?n[1]:n[2]).replace(/_/g,".")),t}return null}},{key:"isDeprecatedWinOS",value:function(){var e=navigator.userAgent.toLowerCase(),t=e.match("Windows NT 5.2".toLowerCase())||e.match("Windows NT 5.1".toLowerCase())||e.match("Windows NT 5.0".toLowerCase())||e.match("Windows NT 6.0".toLowerCase());return t&&t.length>0}},{key:"isDeprecatedMacOS",value:function(){var e=this.getMacVersion();if(e&&null!==e){var t=e.split(".");return parseInt(t[0],10)<10||"10"===t[0]&&t[1]&&parseInt(t[1],10)<11}return!1}},{key:"isNUJDeprecatedOS",value:function(){if(this.isWin())return this.isWin7or8();if(this.isMacOS()){var e=this.getMacVersion();if(e&&null!==e){var t=e.split(".");return"10"===t[0]&&t[1]&&"11"===t[1]||parseInt(t[0],10)<10||"10"===t[0]&&t[1]&&parseInt(t[1],10)<11}}return this.isLinux()||this.isChromeOS()}},{key:"isWin7or8",value:function(){return this.userAgentData?"0.1.0"===this.userAgentData.platformVersion||"0.2.0"===this.userAgentData.platformVersion:!!this.isWin()&&("8"===r().os.version||"8.1"===r().os.version||"7"===r().os.version)}},{key:"getOSName",value:function(){return this.isWin()?"Windows":this.isChromeOS()?"ChromeOS":this.isAndroid()||this.isLinux()&&this.isTouchDevice()?"Android":this.isLinux()&&!this.isTouchDevice()?"Linux":this.isMacOS()&&!this.isTouchDevice()?"MacOS":this.isIOS()?"IOS":this.isIPadOS()?"IPadOS":window.navigator.platform}}]),e}()),y=[],_=[],C={},E=!1,S=function(){function e(t){var n=this;g(this,e),m.init(),this.eventsObject={},this.sourcesObject={},this.contentsObject={},this.usersObject={},this.uiObject={},this.environmentObject={},this.consumerObject={},this.experimentObject={},this.customObject={},this.searchObject={},this.trnObject={},this.contextObject={},this.metricsCollection=[],this.initData={},t&&t.project&&(this.initData.project=t.project),this.initData.hostName="https://cc-api-data-stage.adobe.io",void 0===t||"production"!==t.environment&&"prod"!==t.environment||(this.initData.hostName="https://cc-api-data.adobe.io"),t&&(u.debug("[Ingest] initData = ",t),Object.keys(t).forEach((function(e){t.hasOwnProperty(e)&&(n.initData[e]=t[e])}))),this.haveIMSObject="undefined"!=typeof adobeIMS&&adobeIMS.isSignedInUser()}var t,n,i;return v(e,[{key:"deferredPost",value:function(e,t){y.push(e),_.push(t),C={deferredInitDataArray:_,deferredPostArrays:y}}},{key:"isVisitorGuidDefined",value:function(e){return e[0].events[0].data["event.visitor_guid"]||E}},{key:"waitForAlloyEcid",value:(i=f(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n="",t.prev=1,n=this.getEcidFromLocalStorage()){t.next=9;break}return t.next=5,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;return new Promise((function(r,o){var a=null,s=null,c=t.split(".").reduce((function(e,t){return e&&e[t]}),e);if(c)return r(c);a=setInterval((function(){(c=t.split(".").reduce((function(e,t){return e&&e[t]}),e))&&(null!==a&&clearInterval(a),null!==s&&clearTimeout(s),r(c))}),n),s=setTimeout((function(){null!==a&&clearInterval(a),o(new Error("Object never appeared after ".concat(i," ms")))}),i)}))}(window,"alloy");case 5:return t.next=7,window.alloy_getIdentity;case 7:n=t.sent.identity.ECID,e.visitorGuid=n;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n="";case 14:return t.abrupt("return",n);case 15:case"end":return t.stop()}}),t,this,[[1,11]])}))),function(){return i.apply(this,arguments)})},{key:"getEcidFromLocalStorage",value:function(){var t="";if(e.storageAvailable("localStorage")){if(null!==(t=localStorage.getItem("adobe_home_ecid")))try{t=(t=JSON.parse(t)).value?t.value:"".concat(t)}catch(e){t=a().v4()}}else u.info("Ingest was unable to load the ECID from localStorage.");return t}},{key:"getInstance",value:function(){var e;if(!window.Visitor)return e;try{e=void 0!==this.initData.visitorGUID?Visitor.getInstance(this.initData.visitorGUID):Visitor.getInstance("D6FAAFAD54CA9F560A4C98A5@AdobeOrg")}catch(e){u.warn(e)}return e}},{key:"getMCID",value:function(){var e="";try{if(!(e=this.getEcidFromLocalStorage())){if(!window.Visitor)return null;var t=this.getInstance();return void 0!==t?t.getMarketingCloudVisitorID():null}}catch(t){e=null}return e}},{key:"getVisitorGuid",value:function(){var t="";try{if(!(t=this.getEcidFromLocalStorage())){if(!window.Visitor)return e.generateVisitorGuid();var n=this.getInstance();return void 0!==n?n.getMarketingCloudVisitorID():e.generateVisitorGuid()}}catch(e){t=a().v4()}return t}},{key:"initAnalytics",value:function(){if(void 0===e.visitorGuid)if("undefined"!=typeof Visitor){E=!0;var t=this.getMCID();t&&(e.visitorGuid=t)}else if(window&&void 0!==window.alloy){var n=this.getMCID();n&&(e.visitorGuid=n)}u.log("Ingest.visitorGuid = ",e.visitorGuid)}},{key:"initArrays",value:function(e){this.eventsObject={},this.sourcesObject={},this.contentsObject={},this.usersObject={},this.uiObject={},this.environmentObject={},this.consumerObject={},this.experimentObject={},this.customObject={},this.searchObject={},this.trnObject={},this.contextObject={},e&&(this.metricsCollection=[])}},{key:"getIMSTokenAndLocale",value:function(){return adobeIMS.version.startsWith("v2-")?{locale:adobeIMS.adobeIdData.locale,token:adobeIMS.getAccessToken().token}:{locale:adobeIMS.getLocale(),token:adobeIMS.getAccessToken()}}},{key:"getDefaultHeaders",value:function(){var e={"x-api-key":this.initData.xApiKey,"content-type":"application/json"},t="";return this.haveIMSObject?t=this.getIMSTokenAndLocale().token:this.objectExists(this.initData.userIMSData)&&(t=this.initData.userIMSData.accessToken),t&&(e.Authorization="Bearer ".concat(t)),e}},{key:"flattenObj",value:function(e,t,n){var i=this;try{Object.keys(e).forEach((function(r){var o=e[r],a=n?"".concat(n,".").concat(r):r;o&&"object"==b(o)?i.flattenObj(o,t,a):t[a]=o}))}catch(e){t=e}return t}},{key:"getBody",value:function(e,t,n,i,r,o,a,s,l,f,d,p){var h={event:c({},arguments.length>12&&void 0!==arguments[12]?arguments[12]:{},e),source:t,content:n,user:i,ui:r,consumer:o,env:a,exp:s,custom:l,search:f,trn:d,context:p},g={time:this.getTimeString(),project:this.initData.project,environment:this.initData.environment,ingesttype:"dunamis",data:this.flattenObj(h,{})},m={events:[g]};try{window&&window.sessionStorage&&"true"===window.sessionStorage.getItem("IngestAnalyticsDataLog")&&u.debug("[Ingest Analytics] Event Data: ",JSON.stringify(g),g)}catch(e){}return m}},{key:"initializeDefaultData",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.initArrays(e),this.initAnalytics(),{events:this.getDefaultEventData(this.eventsObject),source:this.getDefaultSourceData(this.sourcesObject),contents:this.getDefaultContentData(this.contentsObject),user:this.getDefaultUserData(this.usersObject),ui:this.getDefaultUIData(this.uiObject),consumer:this.getDefaultConsumerData(this.consumerObject),env:this.getDefaultEnvironmentData(this.environmentObject),exp:this.getDefaultExperimentData(this.experimentObject),custom:this.getDefaultCustomData(this.customObject),search:this.getDefaultSearchData(this.searchObject),trn:this.getDefaultTrnData(this.trnObject),context:this.getDefaultConextData(this.contextObject),eventsArray:[]}}},{key:"isIMS_SignedIn",value:function(){var e=!1;return(this.haveIMSObject||this.objectExists(this.initData.userIMSData))&&(e=!0),e}},{key:"getParamsAppendedUrl",value:function(t){var n=t;if(e.storageAvailable("sessionStorage")&&sessionStorage.getItem("ingest_url_params")){var i=JSON.parse(sessionStorage.getItem("ingest_url_params"));Object.keys(i).forEach((function(e){if(-1===n.indexOf("&".concat(e,"="))&&-1===n.indexOf("?".concat(e,"="))){var t=-1===n.indexOf("?")?"?":"&";n="".concat(n).concat(t).concat(e,"=").concat(i[e])}}))}return n}},{key:"getDefaultEventData",value:function(t){if(e.storageAvailable("sessionStorage")){var n=sessionStorage.getItem("ingestSessionId");n||(n=a().v4(),sessionStorage.setItem("ingestSessionId",n)),t.session_guid=n}t.guid=a().v4(),this.haveIMSObject?t.language=this.getIMSTokenAndLocale().locale:this.objectExists(this.initData.userIMSData)&&(t.language=this.initData.userIMSData.locale);var i=window.document.referrer,r=window.document.location.href;if(this.initData.useLocalReferrer&&e.storageAvailable("sessionStorage")){u.log("used eventData.referrer");var o=sessionStorage.getItem(this.initData.referrerStorageName);if(o){var s=JSON.parse(o);i=s.referrer,s.url&&(r=s.url)}}t.referrer=i,t.url=this.getParamsAppendedUrl(r),u.log("referrer = ",t.referrer),u.log("url = ",t.url),t.category="WEB",t.visitor_guid=e.visitorGuid,t.mcid_guid=e.visitorGuid,t.dts_end=this.getTimeString(),t.link_type="o",this.initData.userAgent?t.user_agent=this.initData.userAgent:t.user_agent=navigator.userAgent,this.initData.category?t.category=this.initData.category:t.category="WEB","boolean"==typeof this.initData.offline?t.offline=this.initData.offline:t.offline=!0;var c="";return this.haveIMSObject&&!adobeIMS.version.startsWith("v2-")?c=adobeIMS.getUserProfile()&&adobeIMS.getUserProfile().userId?adobeIMS.getUserProfile().userId:null:this.objectExists(this.initData.userIMSData)&&(c=this.initData.userIMSData.adobeId),c&&(t.user_guid=c),this.initData.sessionGuid&&(t.session_guid=this.initData.sessionGuid),t}},{key:"getDefaultSourceData",value:function(e){return e.client_id=this.initData.clientId,this.initData.version?e.version=this.initData.version:e.version="1.0",this.initData.platformType?e.platform=this.initData.platformType:e.platform="Web",this.initData.device?e.device=this.initData.device:e.device=m.getOSName(),this.initData.source&&(e.name=this.initData.source),this.initData.osVersion?e.os_version=this.initData.osVersion:e.os_version=this.getOSVersion(),e}},{key:"getDefaultContentData",value:function(t){if(e.storageAvailable("sessionStorage")){var n=sessionStorage.getItem("stakeholder");this.objectExists(n)&&n.length>0&&(t.author="true"===n?"stakeholder":"designer")}return t}},{key:"getDefaultUserData",value:function(t){var n=[];if(this.haveIMSObject&&!adobeIMS.version.startsWith("v2-")?(n=adobeIMS.getUserProfile().serviceAccounts)&&n.length>0&&(n[0].serviceLevel&&(t.service_level=n[0].serviceLevel),n[0].serviceStatus&&(t.service_status=n[0].serviceStatus,t.service_code=n[0].serviceCode)):this.objectExists(this.initData.userIMSData)&&this.objectExists(this.initData.userIMSData.serviceAccounts)&&(n=this.initData.userIMSData.serviceAccounts.serviceAccount)&&n.length>0&&(t.service_level=n[0].serviceLevel,t.service_status=n[0].serviceStatus,t.service_code=n[0].serviceCode),e.storageAvailable("sessionStorage")){var i=sessionStorage.getItem("subscriptionPlan");this.objectExists(i)&&i.length>0&&(t.service_code=i)}return t}},{key:"getDefaultUIData",value:function(e){return e}},{key:"getDefaultConsumerData",value:function(e){return this.initData.source&&(e.name=this.initData.source),this.initData.componentName&&(e.name=this.initData.componentName),this.initData.componentVersion&&(e.version=this.initData.componentVersion),e}},{key:"getDefaultEnvironmentData",value:function(e){return this.initData.envComponentName&&(e["com.name"]=this.initData.envComponentName),this.initData.envComponentVersion&&(e["com.version"]=this.initData.envComponentVersion),e}},{key:"getDefaultExperimentData",value:function(e){return e}},{key:"getDefaultCustomData",value:function(e){return e}},{key:"getDefaultSearchData",value:function(e){return e}},{key:"getDefaultTrnData",value:function(e){return e}},{key:"getDefaultConextData",value:function(e){return e}},{key:"objectExists",value:function(e){return null!=e}},{key:"setDataValue",value:function(e,t,n){switch(e){case"event":this.eventsObject[t]=n;break;case"source":this.sourcesObject[t]=n;break;case"content":this.contentsObject[t]=n;break;case"user":this.usersObject[t]=n;break;case"ui":this.uiObject[t]=n;break;case"consumer":this.consumerObject[t]=n;break;case"env":this.environmentObject[t]=n;break;case"exp":this.experimentObject[t]=n;break;case"custom":this.customObject[t]=n;break;case"search":this.searchObject[t]=n;break;case"trn":this.trnObject[t]=n;break;case"context":this.contextObject[t]=n}}},{key:"getDevice",value:function(){return window.navigator.platform}},{key:"getOSVersion",value:function(){return r().os.version?r().os.version:""}},{key:"getPlatformData",value:function(){return r()}},{key:"addToCollection",value:function(){this.metricsCollection.push(this.getBody(this.eventsObject,this.sourcesObject,this.contentsObject,this.usersObject,this.uiObject,this.consumerObject,this.environmentObject,this.experimentObject,this.customObject,this.searchObject,this.trnObject,this.contextObject)),this.initializeDefaultData(!1)}},{key:"getContextGuid",value:function(){var t;return e.storageAvailable("sessionStorage")&&(t=sessionStorage.getItem("context.guid")),"string"!=typeof t&&(t=a().v4(),e.storageAvailable("sessionStorage")&&sessionStorage.setItem("context.guid",t)),t}},{key:"getEvents",value:function(e){var t,n=[],i=d(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.push(r.events[0])}}catch(e){i.e(e)}finally{i.f()}return{events:n}}},{key:"sendToIngest",value:function(t){var n=this;if(!this.objectExists(this.initData.dontPostAnalytics)||!0!==this.initData.dontPostAnalytics){var i=5e3;this.objectExists(this.initData.timeOutForScripts)&&(i=this.initData.timeOutForScripts);var r=this.metricsCollection.slice();return new Promise((function(o,a){var c=n.haveIMSObject?adobeIMS.getProfile().catch((function(){return null})):Promise.resolve(null);Promise.all([c]).then((function(c){var l=s(c,1)[0];if(l&&r.forEach((function(e){e.events.forEach((function(e){e.data["event.user_guid"]||(e.data["event.user_guid"]=l.userId),l.serviceAccounts&&l.serviceAccounts.length>0&&(!e.data["user.service_level"]&&l.serviceAccounts[0].serviceLevel&&(e.data["user.service_level"]=l.serviceAccounts[0].serviceLevel),!e.data["user.service_status"]&&l.serviceAccounts[0].serviceStatus&&(e.data["user.service_status"]=l.serviceAccounts[0].serviceStatus),!e.data["user.service_code"]&&l.serviceAccounts[0].serviceCode&&(e.data["user.service_code"]=l.serviceAccounts[0].serviceCode))}))})),setTimeout((function(){e.initDeferredPost(t)}),i),!n.isVisitorGuidDefined(r))return n.deferredPost(r,n.initData),o();var u=n.createPromiseToPostEvents(r,l);u&&u.then?u.then(o).catch((function(e){return a(e)})):o()})).catch((function(e){t&&"function"==typeof t&&t("error",{message:"Ingest-React: sendToIngest error - Promise All",data:e})}))})).catch((function(e){t&&"function"==typeof t&&t("error",{message:"Ingest-React: sendToIngest error",data:e})}))}}},{key:"createPromiseToPostEvents",value:function(e,t){if(!this.objectExists(window.visitorset)||window.visitorset){if(!this.objectExists(this.initData.sendEventsToHost)||!0!==this.initData.sendEventsToHost||!this.objectExists(this.initData.eventsCallBack))return this.logToIngest(e,t);this.initData.eventsCallBack(e)}}},{key:"getTimeString",value:function(){var e=new Date,t="",n=-e.getTimezoneOffset();return n>=0?t="+":(t="-",n*=-1),t+=("0"+parseInt(n/60)).slice(-2)+("0"+n%60).slice(-2),e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+"T"+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)+"."+(e.getMilliseconds()/1e3).toFixed(3).slice(2,5)+t}},{key:"logToIngest",value:(n=f(l().mark((function e(t,n){var i,r,o,a=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.initData.apiKey?"/ingest/?api_key=".concat(this.initData.apiKey):this.initData.path,r=function(){return a.objectExists(a.initData.setTimeOut)?(u.debug("set time out"),a.initData.setTimeOut):(u.debug("default timeout"),6e4)},o=function(){var e=new AbortController;return setTimeout((function(){return e.abort()}),r()),e},e.abrupt("return",new Promise((function(e,s){var c=a.initData.hostName;0!==c.indexOf("https://")&&(c="https://".concat(a.initData.hostName));try{var l="",f="";a.haveIMSObject&&!adobeIMS.version.startsWith("v2-")?(l=adobeIMS.getUserProfile().account_type,f=adobeIMS.getUserProfile().authId):a.objectExists(a.initData.userIMSData)?(l=a.initData.userIMSData.accountType,a.initData.userIMSData.authId&&(f=a.initData.userIMSData.authId)):n&&(l=n.account_type,n.authId&&(f=n.authId));var d=function(t){u.debug("Ingest-React: logToIngest: Event successfully posted"),e(t)};if(!l||"type1"===l||"type2e"===l&&f.includes("@AdobeID")||a.initData.sendEnterprise&&!0===a.initData.sendEnterprise)if(a.initData.optOutAnalytics)u.debug("Ingest-React: User opts out"),e("User opts out");else{var p=c+i;if("fetch"===a.initData.requestType&&window.fetch)fetch(p,{keepalive:!0,signal:o().signal,method:"POST",headers:a.getDefaultHeaders(),body:JSON.stringify(a.getEvents(t))}).then((function(e){return d(e)})).catch((function(e){e&&"AbortError"===e.name?(u.debug("Ingest-React: logToIngest: fetch api Request timed out while sending ingest data"),s(Error("Ingest-React: logToIngest (Fetch): Request got timed out"))):(u.debug("Ingest-React: logToIngest: Error in sending ingest data"),e instanceof Error?(e.message="Ingest-React: logToIngest (Fetch): Error ".concat(e.message),s(e)):s(Error("Ingest-React: logToIngest (Fetch): Got UNKNOWN error response ".concat(e))))}));else{window.XMLHttpRequest||(u.debug("Ingest-React: logToIngest - XMLHttpRequest is not supported in browser!"),s(Error("Ingest-React: logToIngest - XMLHttpRequest is not supported in browser"))),a.httpRequest=new XMLHttpRequest,a.httpRequest||(u.debug("Ingest-React: logToIngest: Cannot create an XMLHTTP instance"),s(Error("Ingest-React: logToIngest: Cannot create an XMLHTTP instance"))),a.httpRequest.onload=function(){d(a.httpRequest.responseText)},a.httpRequest.onerror=function(e){u.debug("Ingest-React: logToIngest: Error in sending ingest data"),e instanceof Error?(e.message="Ingest-React: logToIngest: Got error response in XMLHttpRequest: ".concat(e.message),s(e)):s(Error("Ingest-React: logToIngest: UNKNOWN Error in XMLHTTPRequest, ".concat(e)))},a.httpRequest.ontimeout=function(){u.debug("Ingest-React: logToIngest: Request timed out while sending ingest data"),a.httpRequest.abort(),s(Error("Ingest-React: logToIngest: Request got timed out"))},a.httpRequest.open("POST",c+i);var h=a.getDefaultHeaders();for(var g in h)a.httpRequest.setRequestHeader(g,h[g]);a.httpRequest.timeout=r(),navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox")>0&&(a.httpRequest.responseType="text"),a.httpRequest.send(JSON.stringify(a.getEvents(t)))}}else u.debug("Ingest-React: User is Enterprise user or offline"),e("Enterprise User or offline")}catch(e){u.debug("Ingest-React: logToIngest: Error in sending ingest data"),e instanceof Error?(e.message="Ingest-React: logToIngest: Caught error: ".concat(e.message),s(e)):s(Error("Ingest-React: logToIngest: Caught UNKNOWN error, ".concat(e)))}})));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})}],[{key:"getStorageName",value:function(){return"INIT_INGEST_DATA"}},{key:"initDeferredPost",value:(t=f(l().mark((function t(n){var i,r,o,a,s,c,u,f,p,h,g,m;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===Object.getOwnPropertyNames(C).length){t.next=11;break}if(i=C.deferredPostArrays||[],r=C.deferredInitDataArray||[],!i.length){t.next=11;break}return o=new e,a=0,t.next=7,o.waitForAlloyEcid();case 7:s=t.sent,c=d(i);try{for(c.s();!(u=c.n()).done;){f=u.value,o.initData=r[a++],p=d(f);try{for(p.s();!(h=p.n()).done;)g=h.value,"undefined"!=typeof Visitor||E?(g.events[0].data["event.visitor_guid"]=e.visitorGuid,g.events[0].data["event.mcid_guid"]=e.visitorGuid):s&&(m=s,g.events[0].data["event.visitor_guid"]=m,g.events[0].data["event.mcid_guid"]=m)}catch(e){p.e(e)}finally{p.f()}o.createPromiseToPostEvents(f).catch((function(e){n&&"function"==typeof n&&n("error",{message:"Ingest-React: initDeferredPost sendToIngest error",data:e})}))}}catch(e){c.e(e)}finally{c.f()}C={},y=[],_=[];case 11:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})},{key:"generateVisitorGuid",value:function(){var e="";try{(e=this.getEcidFromLocalStorage())||(e=a().v4())}catch(t){e=a().v4()}return e}},{key:"storageAvailable",value:function(e){var t;try{if("cookie"===e){var n=navigator.cookieEnabled;return n||(document.cookie="testcookie",n=-1!==document.cookie.indexOf("testcookie")),n}t=window[e];var i="__storage_test__";return t.setItem(i,i),t.removeItem(i),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&void 0!==t&&0!==t.length}}}]),e}();S.visitorGuid},795:function(e,t,n){var i;e=n.nmd(e),function(){"use strict";var r={function:!0,object:!0},o=r["undefined"==typeof window?"undefined":b(window)]&&window||this,a=r[b(t)]&&t,s=r.object&&e&&!e.nodeType&&e,c=a&&s&&"object"==b(n.g)&&n.g;!c||c.global!==c&&c.window!==c&&c.self!==c||(o=c);var l=Math.pow(2,53)-1,u=/\bOpera/,f=Object.prototype,d=f.hasOwnProperty,p=f.toString;function h(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function g(e){return e=C(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:h(e)}function m(e,t){for(var n in e)d.call(e,n)&&t(e[n],n,e)}function v(e){return null==e?h(e):p.call(e).slice(8,-1)}function y(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function _(e,t){var n=null;return function(e,t){var n=-1,i=e?e.length:0;if("number"==typeof i&&i>-1&&i<=l)for(;++n<i;)t(e[n],n);else m(e,t)}(e,(function(i,r){n=t(n,i,r,e)})),n}function C(e){return String(e).replace(/^ +| +$/g,"")}var E=function e(t){var n=o,i=t&&"object"==b(t)&&"String"!=v(t);i&&(n=t,t=null);var r=n.navigator||{},a=r.userAgent||"";t||(t=a);var s,c,l,f,d,h=i?!!r.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(p.toString()),E="Object",S=i?E:"ScriptBridgingProxyObject",N=i?E:"Environment",O=i&&n.java?"JavaPackage":v(n.java),T=i?E:"RuntimeObject",I=/\bJava/.test(O)&&n.java,w=I&&v(n.environment)==N,A=I?"a":"α",k=I?"b":"β",D=n.document||{},P=n.operamini||n.opera,R=u.test(R=i&&P?P["[[Class]]"]:v(P))?R:P=null,x=t,F=[],L=null,U=t==a,M=U&&P&&"function"==typeof P.version&&P.version(),j=_([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,n){return e||RegExp("\\b"+(n.pattern||y(n))+"\\b","i").exec(t)&&(n.label||n)})),W=_(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],(function(e,n){return e||RegExp("\\b"+(n.pattern||y(n))+"\\b","i").exec(t)&&(n.label||n)})),H=B([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),q=_({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}},(function(e,n,i){return e||(n[H]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(H)]||RegExp("\\b"+y(i)+"(?:\\b|\\w*\\d)","i").exec(t))&&i})),V=_(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],(function(e,n){var i=n.pattern||y(n);return!e&&(e=RegExp("\\b"+i+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var i={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(i=i[/[\d.]+$/.exec(e)])&&(e="Windows "+i),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),g(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,i,n.label||n)),e}));function B(e){return _(e,(function(e,n){var i=n.pattern||y(n);return!e&&(e=RegExp("\\b"+i+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+i+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+i+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(i,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=g(e[0].replace(RegExp(i,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function G(e){return _(e,(function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}if(j&&(j=[j]),/\bAndroid\b/.test(V)&&!H&&(s=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(H=C(s[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),q&&!H?H=B([q]):q&&H&&(H=H.replace(RegExp("^("+y(q)+")[-_.\\s]","i"),q+" ").replace(RegExp("^("+y(q)+")[-_.]?(\\w)","i"),q+" $2")),(s=/\bGoogle TV\b/.exec(H))&&(H=s[0]),/\bSimulator\b/i.test(t)&&(H=(H?H+" ":"")+"Simulator"),"Opera Mini"==W&&/\bOPiOS\b/.test(t)&&F.push("running in Turbo/Uncompressed mode"),"IE"==W&&/\blike iPhone OS\b/.test(t)?(q=(s=e(t.replace(/like iPhone OS/,""))).manufacturer,H=s.product):/^iP/.test(H)?(W||(W="Safari"),V="iOS"+((s=/ OS ([\d_]+)/i.exec(t))?" "+s[1].replace(/_/g,"."):"")):"Konqueror"==W&&/^Linux\b/i.test(V)?V="Kubuntu":q&&"Google"!=q&&(/Chrome/.test(W)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(H))||/\bAndroid\b/.test(V)&&/^Chrome/.test(W)&&/\bVersion\//i.test(t)?(W="Android Browser",V=/\bAndroid\b/.test(V)?V:"Android"):"Silk"==W?(/\bMobi/i.test(t)||(V="Android",F.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&F.unshift("accelerated")):"UC Browser"==W&&/\bUCWEB\b/.test(t)?F.push("speed mode"):"PaleMoon"==W&&(s=/\bFirefox\/([\d.]+)\b/.exec(t))?F.push("identifying as Firefox "+s[1]):"Firefox"==W&&(s=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(V||(V="Firefox OS"),H||(H=s[1])):!W||(s=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(W))?(W&&!H&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(s+"/")+8))&&(W=null),(s=H||q||V)&&(H||q||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(V))&&(W=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(V)?V:s)+" Browser")):"Electron"==W&&(s=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&F.push("Chromium "+s),M||(M=G(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",y(W),"(?:Firefox|Minefield|NetFront)"])),(s=("iCab"==j&&parseFloat(M)>3?"WebKit":/\bOpera\b/.test(W)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(j)&&"WebKit"||!j&&/\bMSIE\b/i.test(t)&&("Mac OS"==V?"Tasman":"Trident")||"WebKit"==j&&/\bPlayStation\b(?! Vita\b)/i.test(W)&&"NetFront")&&(j=[s]),"IE"==W&&(s=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(W+=" Mobile",V="Windows Phone "+(/\+$/.test(s)?s:s+".x"),F.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(W="IE Mobile",V="Windows Phone 8.x",F.unshift("desktop mode"),M||(M=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=W&&"Trident"==j&&(s=/\brv:([\d.]+)/.exec(t))&&(W&&F.push("identifying as "+W+(M?" "+M:"")),W="IE",M=s[1]),U){if(f="global",d=null!=(l=n)?b(l[f]):"number",/^(?:boolean|number|string|undefined)$/.test(d)||"object"==d&&!l[f])v(s=n.runtime)==S?(W="Adobe AIR",V=s.flash.system.Capabilities.os):v(s=n.phantom)==T?(W="PhantomJS",M=(s=s.version||null)&&s.major+"."+s.minor+"."+s.patch):"number"==typeof D.documentMode&&(s=/\bTrident\/(\d+)/i.exec(t))?(M=[M,D.documentMode],(s=+s[1]+4)!=M[1]&&(F.push("IE "+M[1]+" mode"),j&&(j[1]=""),M[1]=s),M="IE"==W?String(M[1].toFixed(1)):M[0]):"number"==typeof D.documentMode&&/^(?:Chrome|Firefox)\b/.test(W)&&(F.push("masking as "+W+" "+M),W="IE",M="11.0",j=["Trident"],V="Windows");else if(I&&(x=(s=I.lang.System).getProperty("os.arch"),V=V||s.getProperty("os.name")+" "+s.getProperty("os.version")),w){try{M=n.require("ringo/engine").version.join("."),W="RingoJS"}catch(e){(s=n.system)&&s.global.system==n.system&&(W="Narwhal",V||(V=s[0].os||null))}W||(W="Rhino")}else"object"==b(n.process)&&!n.process.browser&&(s=n.process)&&("object"==b(s.versions)&&("string"==typeof s.versions.electron?(F.push("Node "+s.versions.node),W="Electron",M=s.versions.electron):"string"==typeof s.versions.nw&&(F.push("Chromium "+M,"Node "+s.versions.node),W="NW.js",M=s.versions.nw)),W||(W="Node.js",x=s.arch,V=s.platform,M=(M=/[\d.]+/.exec(s.version))?M[0]:null));V=V&&g(V)}if(M&&(s=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(M)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(U&&r.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(L=/b/i.test(s)?"beta":"alpha",M=M.replace(RegExp(s+"\\+?$"),"")+("beta"==L?k:A)+(/\d+\+?/.exec(s)||"")),"Fennec"==W||"Firefox"==W&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(V))W="Firefox Mobile";else if("Maxthon"==W&&M)M=M.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(H))"Xbox 360"==H&&(V=null),"Xbox 360"==H&&/\bIEMobile\b/.test(t)&&F.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(W)&&(!W||H||/Browser|Mobi/.test(W))||"Windows CE"!=V&&!/Mobi/i.test(t))if("IE"==W&&U)try{null===n.external&&F.unshift("platform preview")}catch(e){F.unshift("embedded")}else(/\bBlackBerry\b/.test(H)||/\bBB10\b/.test(t))&&(s=(RegExp(H.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||M)?(V=((s=[s,/BB10/.test(t)])[1]?(H=null,q="BlackBerry"):"Device Software")+" "+s[0],M=null):this!=m&&"Wii"!=H&&(U&&P||/Opera/.test(W)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==W&&/\bOS X (?:\d+\.){2,}/.test(V)||"IE"==W&&(V&&!/^Win/.test(V)&&M>5.5||/\bWindows XP\b/.test(V)&&M>8||8==M&&!/\bTrident\b/.test(t)))&&!u.test(s=e.call(m,t.replace(u,"")+";"))&&s.name&&(s="ing as "+s.name+((s=s.version)?" "+s:""),u.test(W)?(/\bIE\b/.test(s)&&"Mac OS"==V&&(V=null),s="identify"+s):(s="mask"+s,W=R?g(R.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(s)&&(V=null),U||(M=null)),j=["Presto"],F.push(s));else W+=" Mobile";(s=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(s=[parseFloat(s.replace(/\.(\d)$/,".0$1")),s],"Safari"==W&&"+"==s[1].slice(-1)?(W="WebKit Nightly",L="alpha",M=s[1].slice(0,-1)):M!=s[1]&&M!=(s[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(M=null),s[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==s[0]&&537.36==s[2]&&parseFloat(s[1])>=28&&"WebKit"==j&&(j=["Blink"]),U&&(h||s[1])?(j&&(j[1]="like Chrome"),s=s[1]||((s=s[0])<530?1:s<532?2:s<532.05?3:s<533?4:s<534.03?5:s<534.07?6:s<534.1?7:s<534.13?8:s<534.16?9:s<534.24?10:s<534.3?11:s<535.01?12:s<535.02?"13+":s<535.07?15:s<535.11?16:s<535.19?17:s<536.05?18:s<536.1?19:s<537.01?20:s<537.11?"21+":s<537.13?23:s<537.18?24:s<537.24?25:s<537.36?26:"Blink"!=j?"27":"28")):(j&&(j[1]="like Safari"),s=(s=s[0])<400?1:s<500?2:s<526?3:s<533?4:s<534?"4+":s<535?5:s<537?6:s<538?7:s<601?8:s<602?9:s<604?10:s<606?11:s<608?12:"12"),j&&(j[1]+=" "+(s+="number"==typeof s?".x":/[.+]/.test(s)?"":"+")),"Safari"==W&&(!M||parseInt(M)>45)?M=s:"Chrome"==W&&/\bHeadlessChrome/i.test(t)&&F.unshift("headless")),"Opera"==W&&(s=/\bzbov|zvav$/.exec(V))?(W+=" ",F.unshift("desktop mode"),"zvav"==s?(W+="Mini",M=null):W+="Mobile",V=V.replace(RegExp(" *"+s+"$"),"")):"Safari"==W&&/\bChrome\b/.exec(j&&j[1])?(F.unshift("desktop mode"),W="Chrome Mobile",M=null,/\bOS X\b/.test(V)?(q="Apple",V="iOS 4.3+"):V=null):/\bSRWare Iron\b/.test(W)&&!M&&(M=G("Chrome")),M&&0==M.indexOf(s=/[\d.]+$/.exec(V))&&t.indexOf("/"+s+"-")>-1&&(V=C(V.replace(s,""))),V&&-1!=V.indexOf(W)&&!RegExp(W+" OS").test(V)&&(V=V.replace(RegExp(" *"+y(W)+" *"),"")),j&&!/\b(?:Avant|Nook)\b/.test(W)&&(/Browser|Lunascape|Maxthon/.test(W)||"Safari"!=W&&/^iOS/.test(V)&&/\bSafari\b/.test(j[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(W)&&j[1])&&(s=j[j.length-1])&&F.push(s),F.length&&(F=["("+F.join("; ")+")"]),q&&H&&H.indexOf(q)<0&&F.push("on "+q),H&&F.push((/^on /.test(F[F.length-1])?"":"on ")+H),V&&(s=/ ([\d.+]+)$/.exec(V),c=s&&"/"==V.charAt(V.length-s[0].length-1),V={architecture:32,family:s&&!c?V.replace(s[0],""):V,version:s?s[1]:null,toString:function(){var e=this.version;return this.family+(e&&!c?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(s=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(x))&&!/\bi686\b/i.test(x)?(V&&(V.architecture=64,V.family=V.family.replace(RegExp(" *"+s),"")),W&&(/\bWOW64\b/i.test(t)||U&&/\w(?:86|32)$/.test(r.cpuClass||r.platform)&&!/\bWin64; x64\b/i.test(t))&&F.unshift("32-bit")):V&&/^OS X/.test(V.family)&&"Chrome"==W&&parseFloat(M)>=39&&(V.architecture=64),t||(t=null);var z={};return z.description=t,z.layout=j&&j[0],z.manufacturer=q,z.name=W,z.prerelease=L,z.product=H,z.ua=t,z.version=W&&M,z.os=V||{architecture:null,family:null,version:null,toString:function(){return"null"}},z.parse=e,z.toString=function(){return this.description||""},z.version&&F.unshift(M),z.name&&F.unshift(W),V&&W&&(V!=String(V).split(" ")[0]||V!=W.split(" ")[0]&&!H)&&F.push(H?"("+V+")":"on "+V),F.length&&(z.description=F.join(" ")),z}();o.platform=E,void 0===(i=function(){return E}.call(t,n,t,e))||(e.exports=i)}.call(this)},877:function(e,t,n){var i=n(570),r=n(171),o=r;o.v1=i,o.v4=r,e.exports=o},327:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var i=n||0,r=t;return[r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]]].join("")}},217:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},570:function(e,t,n){var i,r,o=n(217),a=n(327),s=0,c=0;e.exports=function(e,t,n){var l=t&&n||0,u=t||[],f=(e=e||{}).node||i,d=void 0!==e.clockseq?e.clockseq:r;if(null==f||null==d){var p=o();null==f&&(f=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=r=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:c+1,m=h-s+(g-c)/1e4;if(m<0&&void 0===e.clockseq&&(d=d+1&16383),(m<0||h>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,c=g,r=d;var v=(1e4*(268435455&(h+=122192928e5))+g)%4294967296;u[l++]=v>>>24&255,u[l++]=v>>>16&255,u[l++]=v>>>8&255,u[l++]=255&v;var y=h/4294967296*1e4&268435455;u[l++]=y>>>8&255,u[l++]=255&y,u[l++]=y>>>24&15|16,u[l++]=y>>>16&255,u[l++]=d>>>8|128,u[l++]=255&d;for(var b=0;b<6;++b)u[l+b]=f[b];return t||a(u)}},171:function(e,t,n){var i=n(217),r=n(327);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||r(a)}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==("undefined"==typeof globalThis?"undefined":b(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==("undefined"==typeof window?"undefined":b(window)))return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n(687)}()},"object"==b(t)&&"object"==b(e)?e.exports=a():(r=[],void 0===(o="function"==typeof(i=a)?i.apply(t,r):i)||(e.exports=o))},9590:function(e,t,n){e.exports=n(9230)},9230:function(e,t,n){"use strict";var i=n(8135),r=n(2754);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a,s,c=i(n(9894)),l=i(n(87)),u=i(n(7296)),f=i(n(2e3)),d=i(n(1803)),p=i(n(6368)),h=i(n(2143)),g=i(n(4626)),m=i(n(1514)),v=n(6499),y=i(n(8098)),b=n(7873),_=i(n(9008)),C=i(n(8647)),E=i(n(8366)),S=r(n(4383)),N=i(n(3074)),O=r(n(5466));n(3828),n(3858),n(6333),n(6961),n(6396);var T={quiet:{variant:"primary",quiet:!0},minimal:{variant:"secondary",quiet:!0},icon:{variant:"action",quiet:!0}},I=(0,_.default)(o=(0,S.default)((s=a=function(e){function t(){var e,n;(0,u.default)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(0,d.default)(this,(e=(0,p.default)(t)).call.apply(e,[this].concat(r))),(0,m.default)((0,h.default)(n),"onClick",(function(e){if(n.props.disabled)e.preventDefault();else if(n.props.onClick){for(var t,i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];(t=n.props).onClick.apply(t,[e].concat(r))}})),(0,m.default)((0,h.default)(n),"onKeyDownSpace",(function(e){" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),n.buttonRef.click())})),(0,m.default)((0,h.default)(n),"setButtonRef",(function(e){return n.buttonRef=e})),n}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.autoFocus&&requestAnimationFrame((function(){return e.focus()}))}},{key:"focus",value:function(){this.buttonRef&&!this.props.disabled&&this.buttonRef.focus&&this.buttonRef.focus()}},{key:"render",value:function(){var e=this.props,t=e.element,n=void 0===t?"button":t,i=e.label,r=e.children,o=e.variant,a=void 0===o?"secondary":o,s=e.logic,u=e.quiet,f=e.icon,d=e.selected,p=e.block,h=e.className,g=e.disabled,_=e.invalid,N=e.onMouseDown,I=e.onMouseUp,w=e.autoFocus,A=e.holdAffordance,k=(0,l.default)(e,["element","label","children","variant","logic","quiet","icon","selected","block","className","disabled","invalid","onMouseDown","onMouseUp","autoFocus","holdAffordance"]);if(T[a]){var D=T[a],P=(D.quiet?"quiet ":"")+'"'.concat(D.variant,'"');console.warn('The "'.concat(a,'" variant of Button is deprecated. Please use the ').concat(P," variant instead.")),a=D.variant,u=D.quiet}var R=!1,x="spectrum-Button";"action"===a||"toggle"===a?(x="spectrum-ActionButton",R=A,"toggle"===a&&(u=!0),a=""):s?x="spectrum-LogicButton":"clear"===a?(x="spectrum-ClearButton",a=""):"field"===a?(x="spectrum-FieldButton",a=""):"tool"===a&&(x="spectrum-Tool",R=A,a=""),"button"!==n&&(k.role="button",k.tabIndex=g?null:k.tabIndex||0,k["aria-disabled"]=g||null,"a"===n&&g&&k.href&&(k.href=null),k.onKeyDown=g?null:this.onKeyDownSpace);var F=i||("string"==typeof r?r:null),L=null;void 0!==k["aria-expanded"]?L=k["aria-expanded"]:k["aria-haspopup"]&&(L=d||null);var U="string"==typeof n?(0,E.default)(k):k;return O.default.createElement(n,(0,c.default)({},U,{className:(0,y.default)(x,u?"".concat(x,"--quiet"):"",a?"".concat(x,"--").concat(a):"",(0,m.default)({"is-selected":d,"is-disabled":g,"is-invalid":_,"spectrum-Button--block":p},S.FOCUS_RING_CLASSNAME,w),h),disabled:g,"aria-invalid":_||null,"aria-expanded":L,onClick:this.onClick,onMouseDown:(0,v.chain)(this.onMouseDown,v.focusAfterMouseEvent.bind(this,N)),onMouseUp:(0,v.chain)(this.onMouseUp,v.focusAfterMouseEvent.bind(this,I)),ref:this.setButtonRef}),(0,b.cloneIcon)(f,{size:"S"}),F&&O.default.createElement("span",{className:x+"-label"},F),R&&O.default.createElement(C.default,{role:"presentation",size:null,className:"spectrum-Tool-hold"}),"string"!=typeof r&&r)}}]),t}(O.Component),(0,m.default)(a,"propTypes",{variant:N.default.oneOf(["cta","primary","secondary","warning","action","toggle","and","or","icon","quiet","minimal","dropdown","clear","field","tool","overBackground"]),quiet:N.default.bool,logic:N.default.bool,disabled:N.default.bool,selected:N.default.bool,invalid:N.default.bool,icon:N.default.element,label:N.default.string,block:N.default.bool,element:N.default.oneOfType([N.default.string,N.default.func]),autoFocus:N.default.bool,onClick:N.default.func,holdAffordance:N.default.bool}),(0,m.default)(a,"defaultProps",{autoFocus:!1,block:!1,disabled:!1,element:"button",invalid:!1,label:"",logic:!1,quiet:!1,selected:!1,variant:"secondary",holdAffordance:!1}),o=s))||o)||o;t.default=I},9742:function(e,t,n){"use strict";var i=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.autoFocusButton,n=e.confirmLabel,i=e.secondaryLabel,c=e.cancelLabel,l=e.confirmDisabled,u=e.onConfirm,f=e.onCancel,d=e.className,p=e.variant,h=s[p]||"primary",g=function(e){" "!==e.key&&"Enter"!==e.key||e.stopPropagation()};return a.default.createElement("div",{className:(0,o.default)("react-spectrum-Dialog-buttons",d)},c&&a.default.createElement(r.default,{variant:"secondary",label:c,onClick:f,autoFocus:"cancel"===t,onKeyDown:g}),i&&a.default.createElement(r.default,{variant:"secondary",label:i,onClick:u?u.bind(null,"secondary"):null,autoFocus:"secondary"===t,disabled:l||null,onKeyDown:g}),n&&a.default.createElement(r.default,{variant:h,label:n,onClick:u?u.bind(null,"primary"):null,autoFocus:"confirm"===t,disabled:l||null,onKeyDown:g}))};var r=i(n(9590)),o=i(n(8098)),a=i(n(5466));n(7127);var s={confirmation:"cta",information:"primary",error:"primary",destructive:"warning"}},9724:function(e,t,n){"use strict";var i=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.title,n=e.variant,i=e.fullscreen,a=e.confirmDisabled,g=e.confirmLabel,m=e.secondaryLabel,v=e.cancelLabel,y=e.onConfirm,b=e.onCancel,_=e.onClose,C=e.className,E=e.autoFocusButton,S=e.id,N=e.isDismissible,O=(0,o.default)(e,["title","variant","fullscreen","confirmDisabled","confirmLabel","secondaryLabel","cancelLabel","onConfirm","onCancel","onClose","className","autoFocusButton","id","isDismissible"]),T=h[n];return p.default.createElement("div",(0,r.default)({},(0,f.default)(O),{className:(0,c.default)("spectrum-Dialog-header","spectrum-Dialog-header--".concat(n),C)}),p.default.createElement(d.default,{size:3,className:"spectrum-Dialog-title",id:S},t),T&&p.default.createElement(T,{size:null,className:"spectrum-Dialog-typeIcon"}),N&&!i&&p.default.createElement(s.default,{className:"spectrum-Dialog-closeButton",variant:"action",onClick:_,quiet:!0,icon:p.default.createElement(l.default,{size:"L"})}),i&&g&&p.default.createElement(u.default,{autoFocusButton:E,variant:n,cancelLabel:v,secondaryLabel:m,confirmLabel:g,confirmDisabled:a,onConfirm:y,onCancel:b}))};var r=i(n(9894)),o=i(n(87)),a=i(n(6163)),s=i(n(9590)),c=i(n(8098)),l=i(n(8018)),u=i(n(9742)),f=i(n(8366)),d=i(n(3456)),p=i(n(5466)),h={error:a.default}},691:function(e,t,n){e.exports=n(7514)},7514:function(e,t,n){"use strict";var i=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,a,s=i(n(87)),c=i(n(7296)),l=i(n(2e3)),u=i(n(1803)),f=i(n(6368)),d=i(n(4626)),p=i(n(1514)),h=i(n(3023)),g=n(6499),m=i(n(3258)),v=i(n(8366)),y=n(4407),b=i(n(7249)),_=i(n(3074)),C=i(n(5466)),E=(0,h.default)((a=o=function(e){function t(e){var n;return(0,c.default)(this,t),(n=(0,u.default)(this,(0,f.default)(t).call(this,e))).dropdownId=(0,m.default)(),n.state={open:!1},n}return(0,d.default)(t,e),(0,l.default)(t,[{key:"onOpen",value:function(e){this.setState({open:!0}),this.props.onOpen&&this.props.onOpen(e)}},{key:"onClose",value:function(e){this.setState({open:!1}),this.props.onClose&&this.props.onClose(e)}},{key:"onMenuClose",value:function(){this.overlayTrigger.hide()}},{key:"onSelect",value:function(){var e;(this.props.closeOnSelect&&this.onMenuClose(),this.props.onSelect)&&(e=this.props).onSelect.apply(e,arguments)}},{key:"onClick",value:function(e){this.props.onClick&&this.props.onClick(e)}},{key:"onKeyDownTrigger",value:function(e){if(!("function"==typeof e.isDefaultPrevented&&e.isDefaultPrevented()||e.defaultPrevented)&&this.triggerRef)switch(e.key){case"Enter":case"ArrowDown":case" ":e.preventDefault(),e.stopPropagation(),this.triggerRef.onClick()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.alignRight,i=t.closeOnSelect,r=t.flip,o=t.trigger,a=t.onLongClick,c=(0,s.default)(t,["alignRight","closeOnSelect","flip","trigger","onLongClick"]),l=C.default.Children.toArray(this.props.children),u=l.find((function(e){return e.props.dropdownTrigger}))||l[0],f=u.props.id||this.dropdownId+"-trigger",d=l.find((function(e){return e.props.dropdownMenu||e.type===y.Menu}))||l[1],p=d.props.id||this.dropdownId+"-menu";return delete c.onOpen,delete c.onClose,delete c.onClick,C.default.createElement("div",(0,v.default)(c),l.map((function(t,s){return t===u?C.default.createElement(b.default,{target:e,trigger:o,placement:n?"bottom right":"bottom left",ref:function(t){return e.overlayTrigger=t},onLongClick:a,onClick:e.onClick,onShow:e.onOpen,closeOnSelect:i,key:s,onHide:e.onClose,flip:r,delayHide:0},C.default.cloneElement(u,{id:f,"aria-haspopup":u.props["aria-haspopup"]||"true","aria-expanded":e.state.open||null,"aria-controls":e.state.open?p:null,onKeyDown:(0,g.chain)(u.props.onKeyDown,e.onKeyDownTrigger),ref:function(t){e.triggerRef=t;var n=u.ref;"function"==typeof n&&n(t)}}),C.default.cloneElement(d,{id:p,"aria-labelledby":d.props["aria-labelledby"]||f,onClose:e.onMenuClose,onSelect:e.onSelect,autoFocus:!0,closeOnSelect:i})):t!==d?t:void 0})))}}]),t}(C.default.Component),(0,p.default)(o,"propTypes",{closeOnSelect:_.default.bool,trigger:_.default.oneOf(["click","longClick","hover","focus"]),onOpen:_.default.func,onClose:_.default.func,onSelect:_.default.func,alignRight:_.default.bool,flip:_.default.bool}),(0,p.default)(o,"defaultProps",{closeOnSelect:!0,trigger:"click"}),r=a))||r;t.default=E},3456:function(e,t,n){e.exports=n(940)},940:function(e,t,n){"use strict";var i=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=i(n(9894)),o=i(n(87)),a=i(n(8098)),s=i(n(8366)),c=i(n(3074)),l=i(n(5466)),u={1:"display",2:"pageTitle",3:"subtitle1",4:"subtitle2",5:"subtitle3",6:"subtitle3"},f={display:"h1",pageTitle:"h2",subtitle1:"h2",subtitle2:"h3",subtitle3:"h4"};function d(e){var t=e.variant,n=e.size,i=void 0===n?1:n,c=e.children,d=e.className,p=(0,o.default)(e,["variant","size","children","className"]);t=t||u[i]||"display";var h=f[t];return l.default.createElement(h,(0,r.default)({className:(0,a.default)("spectrum-Heading","spectrum-Heading--".concat(t),d)},(0,s.default)(p)),c)}d.displayName="Heading",d.propTypes={variant:c.default.oneOf(["display","pageTitle","subtitle1","subtitle2","subtitle3"]),className:c.default.string}},4018:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 36 36"},i.createElement("path",{d:"M17.127 2.579L.4 32.512A1 1 0 0 0 1.272 34h33.456a1 1 0 0 0 .873-1.488L18.873 2.579a1 1 0 0 0-1.746 0zM20 29.5a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5zm0-6a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-12a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5z"}))},5704:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 48 48"},i.createElement("path",{d:"M44.37 39.036L25.752 5.186a2 2 0 0 0-3.5 0L3.63 39.036A2 2 0 0 0 5.383 42h37.234a2 2 0 0 0 1.753-2.964zM24 39a3 3 0 1 1 3-3 3 3 0 0 1-3 3zm-2.4-10V15a1 1 0 0 1 1-1h2.8a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-2.8a1 1 0 0 1-1-1z"}))},3794:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=a(n(2477)),o=a(n(5466));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return o.default.createElement(r.default,i({},e,{icon:{18:n(4018),24:n(5704)}}))};s.displayName="Alert",t.default=s},9484:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 36 36"},i.createElement("path",{d:"M16 36a4.407 4.407 0 0 0 4-4h-8a4.407 4.407 0 0 0 4 4zm9.143-24.615c0-3.437-3.206-4.891-7.143-5.268V3a1.079 1.079 0 0 0-1.143-1h-1.714A1.079 1.079 0 0 0 14 3v3.117c-3.937.377-7.143 1.831-7.143 5.268C6.857 26.8 2 26.111 2 28.154V30h28v-1.846C30 26 25.143 26.8 25.143 11.385z"}))},8323:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 48 48"},i.createElement("path",{d:"M24 48c2.485 0 6-2.687 6-6H18c0 3.313 3.515 6 6 6zm12-32c0-5.155-2.686-7.435-8-8V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v4c-5.314.565-8 2.845-8 8 0 23.123-6 16.167-6 19.23V37a1 1 0 0 0 1 1h34a1 1 0 0 0 1-1v-1.77C42 32 36 39.123 36 16z"}))},6745:function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=a(n(2477)),o=a(n(5466));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return o.default.createElement(r.default,i({},e,{icon:{18:n(9484),24:n(8323)}}))};s.displayName="Bell",t.Z=s},9159:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 36 36"},i.createElement("path",{d:"M16 2a16 16 0 1 0 16 16A16 16 0 0 0 16 2zm10.666 9.08L14.018 27.341a1.208 1.208 0 0 1-.875.461h-.072a1.2 1.2 0 0 1-.85-.352l-7.785-7.793a1.2 1.2 0 0 1 0-1.7l1.326-1.325a1.2 1.2 0 0 1 1.7 0l5.338 5.349L23.315 8.473A1.2 1.2 0 0 1 25 8.263L26.455 9.4a1.2 1.2 0 0 1 .211 1.68z"}))},4911:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 48 48"},i.createElement("path",{d:"M24 4.1A19.9 19.9 0 1 0 43.9 24 19.9 19.9 0 0 0 24 4.1zm12.563 12.587L22.018 35.341a1.208 1.208 0 0 1-.875.461h-.072a1.2 1.2 0 0 1-.85-.352l-7.785-7.795a1.2 1.2 0 0 1 0-1.7l1.326-1.325a1.2 1.2 0 0 1 1.7 0l5.338 5.351 12.408-15.9a1.2 1.2 0 0 1 1.686-.21L36.352 15a1.2 1.2 0 0 1 .211 1.687z"}))},58:function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=a(n(2477)),o=a(n(5466));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return o.default.createElement(r.default,i({},e,{icon:{18:n(9159),24:n(4911)}}))};s.displayName="CheckmarkCircle",t.Z=s},6711:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 36 36"},i.createElement("path",{d:"M8 14.02a2 2 0 0 1 3.411-1.411l6.578 6.572 6.578-6.572a2 2 0 0 1 2.874 2.773l-.049.049-7.992 7.984a2 2 0 0 1-2.825 0l-7.989-7.983A1.989 1.989 0 0 1 8 14.02z"}))},8911:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 48 48"},i.createElement("path",{d:"M22.585 31.7L11.94 21.05a2 2 0 0 1 0-2.828l.282-.282a2.006 2.006 0 0 1 2.828 0L24 26.888l8.949-8.948a2.006 2.006 0 0 1 2.828 0l.282.282a2 2 0 0 1 0 2.828L25.414 31.7a2 2 0 0 1-2.829 0z"}))},9732:function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=a(n(2477)),o=a(n(5466));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return o.default.createElement(r.default,i({},e,{icon:{18:n(6711),24:n(8911)}}))};s.displayName="ChevronDown",t.Z=s},7840:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 36 36"},i.createElement("path",{d:"M12 18a1.988 1.988 0 0 0 .585 1.409l7.983 7.98a2 2 0 1 0 2.871-2.772l-.049-.049L16.819 18l6.572-6.57a2 2 0 0 0-2.773-2.87l-.049.049-7.983 7.98A1.988 1.988 0 0 0 12 18z"}))},6457:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 48 48"},i.createElement("path",{d:"M16.3 22.585L26.949 11.94a2 2 0 0 1 2.828 0l.282.282a2.006 2.006 0 0 1 0 2.828L21.112 24l8.948 8.949a2.006 2.006 0 0 1 0 2.828l-.282.282a2 2 0 0 1-2.828 0L16.3 25.414a2 2 0 0 1 0-2.829z"}))},9121:function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=a(n(2477)),o=a(n(5466));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return o.default.createElement(r.default,i({},e,{icon:{18:n(7840),24:n(6457)}}))};s.displayName="ChevronLeft",t.Z=s},7761:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 36 36"},i.createElement("path",{d:"M26.485 6.686L18 15.172 9.515 6.686a1 1 0 0 0-1.414 0L6.686 8.1a1 1 0 0 0 0 1.414L15.172 18l-8.486 8.485a1 1 0 0 0 0 1.414L8.1 29.314a1 1 0 0 0 1.414 0L18 20.828l8.485 8.485a1 1 0 0 0 1.414 0l1.415-1.413a1 1 0 0 0 0-1.414L20.828 18l8.485-8.485a1 1 0 0 0 0-1.414L27.9 6.686a1 1 0 0 0-1.415 0z"}))},4791:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 48 48"},i.createElement("path",{d:"M35.314 8.444L24 19.757 12.686 8.444a1 1 0 0 0-1.414 0l-2.828 2.828a1 1 0 0 0 0 1.414L19.757 24 8.444 35.314a1 1 0 0 0 0 1.414l2.828 2.828a1 1 0 0 0 1.414 0L24 28.243l11.314 11.313a1 1 0 0 0 1.414 0l2.828-2.828a1 1 0 0 0 0-1.414L28.243 24l11.313-11.314a1 1 0 0 0 0-1.414l-2.828-2.828a1 1 0 0 0-1.414 0z"}))},5884:function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=a(n(2477)),o=a(n(5466));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return o.default.createElement(r.default,i({},e,{icon:{18:n(7761),24:n(4791)}}))};s.displayName="Close",t.Z=s},4238:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 36 36"},i.createElement("path",{d:"M27.314 6.686a16 16 0 1 0 0 22.627 16 16 0 0 0 0-22.627zm-2.687 18.527l-1.414 1.414a1.2 1.2 0 0 1-1.7 0L16 21.111l-5.516 5.516a1.2 1.2 0 0 1-1.7 0l-1.409-1.415a1.2 1.2 0 0 1 0-1.7L12.889 18l-5.514-5.516a1.2 1.2 0 0 1 0-1.7l1.414-1.411a1.2 1.2 0 0 1 1.7 0L16 14.888l5.516-5.515a1.2 1.2 0 0 1 1.7 0l1.414 1.414a1.2 1.2 0 0 1 0 1.7L19.112 18l5.516 5.516a1.2 1.2 0 0 1 0 1.7z"}))},9731:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 48 48"},i.createElement("path",{d:"M38.071 9.928a19.9 19.9 0 1 0 0 28.143 19.9 19.9 0 0 0 0-28.143zm-6.294 23.547a1 1 0 0 1-1.414 0L24 27.111l-6.364 6.364a1 1 0 0 1-1.414 0l-1.7-1.7a1 1 0 0 1 0-1.414L20.888 24l-6.363-6.363a1 1 0 0 1 0-1.414l1.7-1.7a1 1 0 0 1 1.414 0L24 20.888l6.365-6.363a1 1 0 0 1 1.414 0l1.7 1.7a1 1 0 0 1 0 1.414L27.112 24l6.363 6.364a1 1 0 0 1 0 1.414z"}))},2263:function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=a(n(2477)),o=a(n(5466));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return o.default.createElement(r.default,i({},e,{icon:{18:n(4238),24:n(9731)}}))};s.displayName="CloseCircle",t.Z=s},3705:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 36 36"},i.createElement("path",{d:"M22.179 5.708a12.29 12.29 0 0 1 2.042 24.408s-1.646.176-2.989.176h-9.38a10.407 10.407 0 0 1-.006-20.813 10.8 10.8 0 0 1 1.362.086l.581-.544a12.239 12.239 0 0 1 8.39-3.313zm0-1.308A13.541 13.541 0 0 0 12.9 8.066l-.148.138c-.3-.022-.6-.033-.9-.033a11.714 11.714 0 0 0-.001 23.429h9.38c1.4 0 3.059-.176 3.128-.184A13.6 13.6 0 0 0 22.179 4.4z"}),i.createElement("path",{d:"M15.495 10.9a9.567 9.567 0 0 1 1.677.869 7.961 7.961 0 1 1-.672 11.853l-4.652-4.666a.878.878 0 1 0-1.257 1.224l4.675 4.69a9.717 9.717 0 1 0 .229-13.97zM4.068 19.866a7.855 7.855 0 0 0 7.858 7.854h4.1a11.5 11.5 0 0 1-2.16-1.75h-1.94a6.1 6.1 0 0 1 0-12.209 5.815 5.815 0 0 1 4 1.5l3.535 3.627a.877.877 0 1 0 1.257-1.225l-3.532-3.633a7.6 7.6 0 0 0-5.266-2.024 7.851 7.851 0 0 0-7.853 7.854z"}))},5820:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 48 48"},i.createElement("path",{d:"M20.894 14.565a11.85 11.85 0 0 1 2.077 1.076 9.861 9.861 0 1 1-.836 14.683l-5.762-5.779a1.087 1.087 0 1 0-1.558 1.516l5.791 5.809a12.036 12.036 0 1 0 .287-17.305zM6.74 25.671a9.73 9.73 0 0 0 9.733 9.729h5.084a14.25 14.25 0 0 1-2.675-2.168h-2.409a7.561 7.561 0 0 1 0-15.123 7.2 7.2 0 0 1 4.96 1.855l4.378 4.493a1.087 1.087 0 1 0 1.557-1.517l-4.38-4.5a9.414 9.414 0 0 0-6.522-2.508 9.725 9.725 0 0 0-9.726 9.731z"}),i.createElement("path",{d:"M29.11 8.32a15.037 15.037 0 0 1 2.5 29.864s-2.014.216-3.657.216H16.474a12.733 12.733 0 0 1-.007-25.465 13.218 13.218 0 0 1 1.667.1l.711-.665A14.975 14.975 0 0 1 29.11 8.32zm0-1.6a16.568 16.568 0 0 0-11.358 4.486l-.181.169a14.995 14.995 0 0 0-1.1-.041A14.333 14.333 0 0 0 16.474 40h11.477c1.709 0 3.742-.216 3.828-.225A16.635 16.635 0 0 0 29.11 6.72z"}))},8151:function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=a(n(2477)),o=a(n(5466));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return o.default.createElement(r.default,i({},e,{icon:{18:n(3705),24:n(5820)}}))};s.displayName="CreativeCloud",t.Z=s},6517:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 36 36"},i.createElement("path",{d:"M30 17.5V30H6V6h12.5a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5H3a1 1 0 0 0-1 1v30a1 1 0 0 0 1 1h30a1 1 0 0 0 1-1V17.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5z"}),i.createElement("path",{d:"M23.54 2.853l3.389 3.389-9.546 9.546a.5.5 0 0 0 0 .707l2.117 2.122a.5.5 0 0 0 .707 0l9.546-9.546 3.389 3.389a.5.5 0 0 0 .858-.353V2H23.893a.5.5 0 0 0-.353.853z"}))},5968:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 48 48"},i.createElement("path",{d:"M40 24.5V40H8V8h15.5a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5H5a1 1 0 0 0-1 1v38a1 1 0 0 0 1 1h38a1 1 0 0 0 1-1V24.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5z"}),i.createElement("path",{d:"M30.241 4a1.008 1.008 0 0 0-.655 1.716l4.228 4.228-9.842 9.842a.5.5 0 0 0 0 .707l3.536 3.535a.5.5 0 0 0 .707 0l9.842-9.842 4.217 4.214a1 1 0 0 0 1.706-.655V4z"}))},7210:function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=a(n(2477)),o=a(n(5466));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return o.default.createElement(r.default,i({},e,{icon:{18:n(6517),24:n(5968)}}))};s.displayName="LinkOut",t.Z=s},8178:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 36 36"},i.createElement("circle",{cx:"18",cy:"18",r:"4.1"}),i.createElement("circle",{cx:"30",cy:"18",r:"4.1"}),i.createElement("circle",{cx:"6",cy:"18",r:"4.1"}))},6574:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 48 48"},i.createElement("circle",{cx:"24",cy:"24",r:"6"}),i.createElement("circle",{cx:"42",cy:"24",r:"6"}),i.createElement("circle",{cx:"6",cy:"24",r:"6"}))},5509:function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=a(n(2477)),o=a(n(5466));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return o.default.createElement(r.default,i({},e,{icon:{18:n(8178),24:n(6574)}}))};s.displayName="More",t.Z=s},8341:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 36 36"},i.createElement("path",{d:"M22.325 21.547v-2.224a1.539 1.539 0 0 1 .392-.993A11.746 11.746 0 0 0 25.388 11c0-5.547-2.942-8.647-7.387-8.647s-7.47 3.222-7.47 8.647a11.873 11.873 0 0 0 2.8 7.329 1.54 1.54 0 0 1 .392.993v2.214a1.528 1.528 0 0 1-1.333 1.542c-8.931.777-10.326 6.886-10.326 9.3 0 .268.032 1.321.051 1.585h31.857S34 32.642 34 32.374c0-2.309-1.577-8.4-10.346-9.286a1.535 1.535 0 0 1-1.329-1.541z"}))},7992:function(e,t,n){"use strict";var i=n(5466);e.exports=i.createElement("svg",{viewBox:"0 0 48 48"},i.createElement("path",{d:"M29.026 27.832v-2.806a2.038 2.038 0 0 1 .455-1.253 17.506 17.506 0 0 0 3.1-9.86c0-7-3.419-10.3-8.585-10.3s-8.683 3.456-8.683 10.3a17.634 17.634 0 0 0 3.253 9.86 2.038 2.038 0 0 1 .455 1.253v2.794a1.888 1.888 0 0 1-1.549 1.946C6.182 30.881 4 38.96 4 42c0 .338.037 1.667.059 2h39.882c.023-.333.059-1.662.059-2 0-2.914-2.091-11.028-13.431-12.223a1.891 1.891 0 0 1-1.543-1.945z"}))},477:function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=a(n(2477)),o=a(n(5466));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return o.default.createElement(r.default,i({},e,{icon:{18:n(8341),24:n(7992)}}))};s.displayName="User",t.Z=s},6163:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2477)),r=o(n(5466));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement(i.default,e,r.default.createElement("svg",{className:"spectrum-UIIcon-AlertMedium"},r.default.createElement("path",{d:"M8.564 1.289L.2 16.256A.5.5 0 0 0 .636 17h16.728a.5.5 0 0 0 .5-.5.494.494 0 0 0-.064-.244L9.436 1.289a.5.5 0 0 0-.872 0zM10 14.75a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-1.5a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25zm0-3a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-6a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25z",className:"spectrum-UIIcon--medium"}),r.default.createElement("path",{d:"M10.563 2.206l-9.249 16.55a.5.5 0 0 0 .436.744h18.5a.5.5 0 0 0 .5-.5.494.494 0 0 0-.064-.244l-9.251-16.55a.5.5 0 0 0-.872 0zM12 17.25a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-1.5a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25zm0-3.5a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-6a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25z",className:"spectrum-UIIcon--large"})))};a.displayName="AlertMedium",t.default=a},4101:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2477)),r=o(n(5466));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement(i.default,e,r.default.createElement("svg",{className:"spectrum-UIIcon-CheckmarkMedium"},r.default.createElement("path",{d:"M4.5 10a1.023 1.023 0 0 1-.8-.384l-2.488-3a1 1 0 0 1 1.577-1.233L4.5 7.376l4.712-5.991a1 1 0 1 1 1.576 1.23l-5.511 7A.977.977 0 0 1 4.5 10z",className:"spectrum-UIIcon--medium"}),r.default.createElement("path",{d:"M6 14a1 1 0 0 1-.788-.385l-4-5a1 1 0 1 1 1.576-1.23L6 11.376l7.213-8.991a1 1 0 1 1 1.576 1.231l-8 10A1 1 0 0 1 6 14z",className:"spectrum-UIIcon--large"})))};a.displayName="CheckmarkMedium",t.default=a},5758:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2477)),r=o(n(5466));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement(i.default,e,r.default.createElement("svg",{className:"spectrum-UIIcon-ChevronDownMedium"},r.default.createElement("path",{d:"M9.99 1.01A1 1 0 0 0 8.283.3L5 3.586 1.717.3A1 1 0 1 0 .3 1.717L4.293 5.7a1 1 0 0 0 1.414 0L9.7 1.717a1 1 0 0 0 .29-.707z",className:"spectrum-UIIcon--medium"}),r.default.createElement("path",{d:"M11.99 1.51A1 1 0 0 0 10.283.8L6 5.086 1.717.8A1 1 0 1 0 .3 2.217l4.99 4.99a1 1 0 0 0 1.414 0l4.99-4.99a1 1 0 0 0 .296-.707z",className:"spectrum-UIIcon--large"})))};a.displayName="ChevronDownMedium",t.default=a},7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2477)),r=o(n(5466));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement(i.default,e,r.default.createElement("svg",{className:"spectrum-UIIcon-ChevronRightMedium"},r.default.createElement("path",{d:"M5.99 5a1 1 0 0 0-.29-.707L1.717.3A1 1 0 1 0 .3 1.717L3.586 5 .3 8.283A1 1 0 1 0 1.717 9.7L5.7 5.707A1 1 0 0 0 5.99 5z",className:"spectrum-UIIcon--medium"}),r.default.createElement("path",{d:"M7.5 6a1 1 0 0 0-.293-.707L2.217.3A1 1 0 1 0 .8 1.717L5.086 6 .8 10.283A1 1 0 1 0 2.217 11.7l4.99-4.99A1 1 0 0 0 7.5 6z",className:"spectrum-UIIcon--large"})))};a.displayName="ChevronRightMedium",t.default=a},8647:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2477)),r=o(n(5466));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement(i.default,e,r.default.createElement("svg",{className:"spectrum-UIIcon-CornerTriangle"},r.default.createElement("path",{d:"M4.74.01a.25.25 0 0 0-.177.073l-4.48 4.48a.25.25 0 0 0 .177.427h4.48a.25.25 0 0 0 .25-.25V.26a.25.25 0 0 0-.25-.25z",className:"spectrum-UIIcon--medium"}),r.default.createElement("path",{d:"M5.74.01a.25.25 0 0 0-.177.073l-5.48 5.48a.25.25 0 0 0 .177.427h5.48a.25.25 0 0 0 .25-.25V.26a.25.25 0 0 0-.25-.25z",className:"spectrum-UIIcon--large"})))};a.displayName="CornerTriangle",t.default=a},8018:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2477)),r=o(n(5466));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement(i.default,e,r.default.createElement("svg",{className:"spectrum-UIIcon-CrossLarge"},r.default.createElement("path",{d:"M11.7 10.283L7.414 6 11.7 1.717A1 1 0 1 0 10.283.3L6 4.586 1.717.3A1 1 0 1 0 .3 1.717L4.586 6 .3 10.283A1 1 0 1 0 1.717 11.7L6 7.414l4.283 4.286a1 1 0 1 0 1.417-1.417z",className:"spectrum-UIIcon--medium"}),r.default.createElement("path",{d:"M15.7 14.283L9.414 8 15.7 1.717A1 1 0 1 0 14.283.3L8 6.586 1.717.3A1 1 0 1 0 .3 1.717L6.586 8 .3 14.283A1 1 0 1 0 1.717 15.7L8 9.414l6.283 6.286a1 1 0 1 0 1.417-1.417z",className:"spectrum-UIIcon--large"})))};a.displayName="CrossLarge",t.default=a},6837:function(e,t,n){e.exports=n(2477)},2477:function(e,t,n){"use strict";var i=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=i(n(1514)),o=i(n(87)),a=i(n(8098)),s=i(n(3074)),c=i(n(5466));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}n(6927);var u={XXS:18,XS:24,S:18,M:24,L:18,XL:24,XXL:24};function f(e){var t=e.icon,n=e.size,i=void 0===n?"M":n,s=e.className,f=e.children,d=e["aria-label"],p=e["aria-hidden"],h=e.role,g=void 0===h?"img":h,m=e.alt,v=(0,o.default)(e,["icon","size","className","children","aria-label","aria-hidden","role","alt"]),y=u[i],b=t&&t[y]||t||f;if("string"==typeof b)throw new Error("String icon names are deprecated. Please import icons from react-spectrum/Icon/IconName and render as <IconName />.");return p&&"false"!==p||(p=void 0),c.default.cloneElement(b,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({focusable:"false","aria-label":d||m,"aria-hidden":!d&&!m||p,role:g,className:(0,a.default)(b.props.className,"spectrum-Icon",(0,r.default)({},"spectrum-Icon--size".concat(i),i),s)},v))}f.displayName="Icon",f.propTypes={size:s.default.string}},2071:function(e,t,n){"use strict";var i=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"List",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"ListItem",{enumerable:!0,get:function(){return o.default}});var r=i(n(9961)),o=i(n(4857))},9961:function(e,t,n){"use strict";var i=n(8135),r=n(2754);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a,s,c=i(n(9894)),l=i(n(87)),u=i(n(7296)),f=i(n(2e3)),d=i(n(1803)),p=i(n(6368)),h=i(n(4626)),g=i(n(1514)),m=i(n(8098)),v=i(n(9008)),y=i(n(3258)),b=i(n(8366)),_=i(n(4167)),C=i(n(4383)),E=i(n(3074)),S=r(n(5466));n(8024),n(6579),n(9918),n(8121);var N=".spectrum-Menu-item",O=":not(.is-disabled)",T=N+O+".is-selected",I=(0,v.default)(o=(0,C.default)((s=a=function(e){function t(e){var n;return(0,u.default)(this,t),(n=(0,d.default)(this,(0,p.default)(t).call(this,e))).listId=(0,y.default)(),n}return(0,h.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,i=e.role,r=void 0===i?"listbox":i,o=e.autoFocus,a=e.selectable,s=void 0!==a&&a,u=e.id,f=void 0===u?this.listId:u,d=e.typeToSelect,p=void 0===d||d,h=(0,l.default)(e,["className","children","role","autoFocus","selectable","id","typeToSelect"]);return S.default.createElement(_.default,{itemSelector:N+O,selectedItemSelector:T,typeToSelect:p,autoFocus:o},S.default.createElement("ul",(0,c.default)({id:f,className:(0,m.default)("spectrum-Menu",{"is-selectable":s},t),role:r},(0,b.default)(h)),n))}}]),t}(S.Component),(0,g.default)(a,"propTypes",{autoFocus:E.default.bool,className:E.default.string,role:E.default.oneOf(["listbox","menu"]),selectable:E.default.bool,typeToSelect:E.default.bool}),(0,g.default)(a,"defaultProps",{role:"listbox"}),o=s))||o)||o;t.default=I},4857:function(e,t,n){"use strict";var i=n(8135),r=n(2754);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a,s,c=i(n(9894)),l=i(n(87)),u=i(n(7296)),f=i(n(2e3)),d=i(n(1803)),p=i(n(6368)),h=i(n(4626)),g=i(n(1514)),m=i(n(3023)),v=i(n(4101)),y=i(n(7)),b=i(n(8098)),_=n(7873),C=i(n(8366)),E=n(6499),S=i(n(3074)),N=r(n(5466)),O=(0,m.default)((s=a=function(e){function t(){return(0,u.default)(this,t),(0,d.default)(this,(0,p.default)(t).apply(this,arguments))}return(0,h.default)(t,e),(0,f.default)(t,[{key:"handleMouseEnter",value:function(e){this.props.onMouseEnter?this.props.onMouseEnter(e):e.currentTarget.focus()}},{key:"handleFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:"handleBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e)}},{key:"onSelectFocused",value:function(e){e.preventDefault(),this.props.onClick&&this.props.onClick(e),this.props.onSelect&&!e.isPropagationStopped()&&this.props.onSelect(this.props.value,e)}},{key:"onKeyDown",value:function(e){var t=this.props,n=t.onKeyDown,i=t.disabled;n&&n(e),i||E.interpretKeyboardEvent.call(this,e)}},{key:"render",value:function(){var e=this.props,t=e.icon,n=e.label,i=e.className,r=e.children,o=e.selected,a=e.disabled,s=e.focused,u=e.hasNestedMenu,f=e.tabIndex,d=void 0===f?0:f,p=e.role,h=void 0===p?"option":p,g=(0,l.default)(e,["icon","label","className","children","selected","disabled","focused","hasNestedMenu","tabIndex","role"]);return delete g.value,N.default.createElement("li",(0,c.default)({},(0,C.default)(g),{className:(0,b.default)("spectrum-Menu-item",{"is-selected":o,"is-disabled":a,"is-focused":s},i),onKeyDown:this.onKeyDown,onMouseEnter:a?null:this.handleMouseEnter,onFocus:a?null:this.handleFocus,onClick:a?null:this.onSelectFocused,onBlur:this.handleBlur,tabIndex:a?null:d,role:h,"aria-checked":"menuitemcheckbox"===h||"menuitemradio"===h?!!o:null,"aria-selected":"option"===h?!!o||!!s:null,"aria-disabled":a||null}),(0,_.cloneIcon)(t,{size:"S"}),N.default.createElement("span",{className:"spectrum-Menu-itemLabel"},n||r),o&&N.default.createElement(v.default,{size:null,className:"spectrum-Menu-checkmark"}),u&&N.default.createElement(y.default,{className:"spectrum-Menu-chevron"}))}}]),t}(N.Component),(0,g.default)(a,"propTypes",{selected:S.default.bool,disabled:S.default.bool,onClick:S.default.func,onSelect:S.default.func,role:S.default.oneOf(["option","menuitem","menuitemcheckbox","menuitemradio"])}),(0,g.default)(a,"defaultProps",{selected:!1,disabled:!1,onSelect:function(){},role:"option"}),o=s))||o;t.default=O},4407:function(e,t,n){"use strict";var i=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Menu",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"MenuItem",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"MenuDivider",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"MenuHeading",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"SubMenu",{enumerable:!0,get:function(){return c.default}});var r=i(n(5763)),o=i(n(1297)),a=i(n(1359)),s=i(n(9145)),c=i(n(402))},5763:function(e,t,n){"use strict";var i=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,a,s=i(n(9894)),c=i(n(87)),l=i(n(7296)),u=i(n(2e3)),f=i(n(1803)),d=i(n(6368)),p=i(n(4626)),h=i(n(1514)),g=i(n(3023)),m=n(2071),v=i(n(4642)),y=i(n(3074)),b=i(n(5466));function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,h.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=(0,g.default)((a=o=function(e){function t(){return(0,l.default)(this,t),(0,f.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"getListRef",value:function(){return this.listRef}},{key:"onClick",value:function(e){e.preventDefault(),this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=t.className,r=t.closeOnSelect,o=t.open,a=t.onClose,l=t.onSelect,u=t.placement,f=t.role,d=void 0===f?"menu":f,p=t.style,h=t.trapFocus,g=(0,c.default)(t,["children","className","closeOnSelect","open","onClose","onSelect","placement","role","style","trapFocus"]);return delete g.target,delete g.onClick,b.default.createElement(v.default,{isDialog:!1,placement:u,open:o,onClose:a,style:C({},p,{overflowY:"auto"}),trapFocus:h},b.default.createElement(m.List,(0,s.default)({ref:function(t){return e.listRef=t},role:d,className:i,onClick:this.onClick},g),b.default.Children.map(n,(function(e){return b.default.cloneElement(e,{onSelect:l,closeOnSelect:r})}))))}}]),t}(b.default.Component),(0,h.default)(o,"displayName","Menu"),(0,h.default)(o,"propTypes",{placement:y.default.oneOf(["bottom","bottom left","bottom right","top","top left","top right","left","left top","left bottom","right","right top","right bottom"]),open:y.default.bool,onClose:y.default.func,onSelect:y.default.func,className:y.default.string,trapFocus:y.default.bool,role:y.default.oneOf(["menu","listbox"])}),(0,h.default)(o,"defaultProps",{trapFocus:!0}),r=a))||r;t.default=E},1359:function(e,t,n){"use strict";var i=n(2754),r=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(7296)),a=r(n(2e3)),s=r(n(1803)),c=r(n(6368)),l=r(n(4626)),u=r(n(1514)),f=i(n(5466)),d=function(e){function t(){return(0,o.default)(this,t),(0,s.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("li",{className:"spectrum-Menu-divider",role:"separator"})}}]),t}(f.Component);t.default=d,(0,u.default)(d,"displayName","MenuDivider")},9145:function(e,t,n){"use strict";var i=n(2754),r=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(9894)),a=r(n(87)),s=r(n(7296)),c=r(n(2e3)),l=r(n(1803)),u=r(n(6368)),f=r(n(4626)),d=r(n(1514)),p=r(n(8366)),h=i(n(5466)),g=function(e){function t(){return(0,s.default)(this,t),(0,l.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,f.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.children,i=e.role,r=void 0===i?"presentation":i,s=e["aria-level"],c=(0,a.default)(e,["label","children","role","aria-level"]);return h.default.createElement("li",(0,o.default)({role:r,className:"spectrum-Menu-sectionHeading"},(0,p.default)(c)),h.default.createElement("span",{role:"heading","aria-level":s||3},t||n))}}]),t}(h.Component);t.default=g,(0,d.default)(g,"displayName","MenuHeading")},1297:function(e,t,n){"use strict";var i=n(2754),r=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(9894)),a=r(n(87)),s=r(n(7296)),c=r(n(2e3)),l=r(n(1803)),u=r(n(6368)),f=r(n(4626)),d=r(n(1514)),p=n(2071),h=r(n(3074)),g=i(n(5466));function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var v=function(e){function t(){return(0,s.default)(this,t),(0,l.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,f.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.role,n=void 0===t?"menuitem":t,i=(0,a.default)(e,["role"]);return g.default.createElement(p.ListItem,(0,o.default)({role:n},i))}}]),t}(g.Component);t.default=v,(0,d.default)(v,"displayName","MenuItem"),(0,d.default)(v,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},p.ListItem.propTypes,{role:h.default.oneOf(["menuitem","menuitemcheckbox","menuitemradio","option"])})),(0,d.default)(v,"defaultProps",{role:"menuitem"})},402:function(e,t,n){"use strict";var i=n(8135),r=n(2754);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a,s,c=i(n(9894)),l=i(n(87)),u=i(n(7296)),f=i(n(2e3)),d=i(n(1803)),p=i(n(6368)),h=i(n(2143)),g=i(n(4626)),m=i(n(1514)),v=i(n(3023)),y=i(n(8098)),b=i(n(3258)),_=i(n(5763)),C=i(n(1297)),E=i(n(7249)),S=i(n(3074)),N=r(n(5466));i(n(6116));function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,m.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=(0,v.default)((s=a=function(e){function t(){var e,n;(0,u.default)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(0,d.default)(this,(e=(0,p.default)(t)).call.apply(e,[this].concat(r))),(0,m.default)((0,h.default)(n),"state",{opened:!1,trapFocus:!0}),(0,m.default)((0,h.default)(n),"menuId",(0,b.default)()),(0,m.default)((0,h.default)(n),"subMenuId",(0,b.default)()),n}return(0,g.default)(t,e),(0,f.default)(t,[{key:"handleKeyDown",value:function(e){var t=this.props.onKeyDown;switch(e.key){case"ArrowLeft":case"Left":e.preventDefault(),e.stopPropagation(),this.setState({opened:!1});break;case"Enter":case" ":case"ArrowRight":case"Right":e.preventDefault(),e.stopPropagation(),this.setState({opened:!0})}t&&t(e)}},{key:"handleSubMenuKeyDown",value:function(e){switch(e.key){case"ArrowLeft":case"Left":e.preventDefault(),this.setState({opened:!1})}}},{key:"hide",value:function(){var e=this;this.hideAnimationFrame=requestAnimationFrame((function(){return e.setState({opened:!1})}))}},{key:"show",value:function(){var e=this;this.hideAnimationFrame&&cancelAnimationFrame(this.hideAnimationFrame),requestAnimationFrame((function(){return e.setState({opened:!0})})),this.props._onNestedSubmenuOpen&&this.props._onNestedSubmenuOpen()}},{key:"cloneItem",value:function(e){var n=T({},e.props,{onKeyDown:this.handleSubMenuKeyDown});return e.type===t&&(n._onNestedSubmenuOpen=this.show),(0,N.cloneElement)(e,n)}},{key:"onHide",value:function(){this.hide()}},{key:"onMenuClose",value:function(){this.overlayTrigger.hide()}},{key:"onSelect",value:function(){var e;(this.props.closeOnSelect&&this.onMenuClose(),this.props.onSelect)&&(e=this.props).onSelect.apply(e,arguments)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=t.className,r=t.closeOnSelect,o=t.label,a=t.trapFocus,s=(0,l.default)(t,["children","className","closeOnSelect","label","trapFocus"]);delete s.onSelect;var u=this.state.opened;return N.default.createElement(E.default,{placement:"right top",offset:-10,crossOffset:-4,selected:!1,show:u,onHide:this.onHide,closeOnSelect:r,ref:function(t){return e.overlayTrigger=t}},N.default.createElement(C.default,(0,c.default)({id:this.menuId,className:(0,y.default)({"is-open":u},i),ref:function(t){return e.menuItem=t},"aria-haspopup":"menu","aria-expanded":u,"aria-owns":u?this.subMenuId:null},s,{onKeyDown:s.disabled?void 0:this.handleKeyDown,onClick:this.show,onMouseEnter:this.show,onMouseLeave:this.hide,hasNestedMenu:!0}),o),N.default.createElement(_.default,{id:this.subMenuId,onSelect:this.onSelect,autoFocus:!0,"aria-labelledby":this.menuId,onMouseEnter:this.show,onMouseLeave:this.hide,trapFocus:a},N.default.Children.toArray(n).map(this.cloneItem)))}}]),t}(N.Component),(0,m.default)(a,"displayName","SubMenu"),(0,m.default)(a,"propTypes",T({},C.default.propTypes,{className:S.default.string,label:S.default.string,onSelect:S.default.func,trapFocus:S.default.bool})),o=s))||o;t.default=I},8907:function(e,t,n){"use strict";var i=n(8135),r=n(2754);Object.defineProperty(t,"__esModule",{value:!0}),t.modalManager=t.Modal=t.default=void 0;var o,a,s=i(n(1803)),c=i(n(6368)),l=i(n(2143)),u=i(n(4626)),f=i(n(9894)),d=i(n(1514)),p=i(n(87)),h=i(n(7296)),g=i(n(2e3)),m=i(n(3023)),v=i(n(5233)),y=n(6499),b=i(n(8098)),_=i(n(27)),C=i(n(8366)),E=i(n(7622)),S=i(n(8882)),N=i(n(985)),O=r(n(5466)),T=i(n(6116));function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}n(9301),n(7724),n(4211),n(3379);var w=["onBackdropClick","onEnter","onEntering","onEntered","onEscapeKeyDown","onExit","onExiting","onExited","onHide","onShow"],A=new E.default({handleContainerOverflow:!1});t.modalManager=A;var k=1,D=function(){function e(){(0,h.default)(this,e)}return(0,g.default)(e,null,[{key:"show",value:function(e,t,n){var i=k++;!n&&t?n=function(){return(0,_.default)(T.default.findDOMNode(t),".react-spectrum-provider")}:n||(n=function(){return document.querySelector(".react-spectrum-provider")||document.body});var r=e.props,o=r.disableEscKey,a=r.role,s=r.onClose,c=r.onHide,l=r.onExited,u=(0,p.default)(r,["disableEscKey","role","onClose","onHide","onExited"]);a=a&&-1!==a.indexOf("dialog")?"presentation":"dialog",u=w.reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,(0,d.default)({},t,u[t]))}),{});var h=O.default.createElement(P,(0,f.default)({},u,{container:n,key:i,keyboard:!o,role:a,onClose:s,onHide:(0,y.chain)(this.hide.bind(this,i),c,l),"aria-modal":"dialog"===a||null}),e);return N.default.add(h,t),i}},{key:"hide",value:function(e){N.default.remove({key:e})}}]),e}();t.default=D;var P=(0,m.default)((a=function(e){function t(){var e,n;(0,h.default)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,d.default)((0,l.default)(n),"state",{show:!0}),n}return(0,u.default)(t,e),(0,g.default)(t,[{key:"onClose",value:function(){this.setState({show:!1}),this.props.onClose&&this.props.onClose()}},{key:"onEntering",value:function(e){this.props.onEntering&&this.props.onEntering(e),this.baseModal.lastFocus===document.activeElement&&this.baseModal.autoFocus()}},{key:"backdropMode",value:function(){var e=this.props.children.props,t="static";return e.backdropClickable&&(t=!0),"fullscreenTakeover"===e.mode&&(t=!1),t}},{key:"render",value:function(){var e=this,t=this.backdropMode(),n=this.props,i=n.children,r=n.onHide,o=(0,p.default)(n,["children","onHide"]);return O.default.createElement(v.default,(0,f.default)({},o,{style:{zIndex:1e5,position:"relative"},show:this.state.show,ref:function(t){return e.baseModal=t},onEntering:this.onEntering,onExited:r,onHide:this.onClose,backdrop:t,manager:A,renderBackdrop:function(e){return O.default.createElement(R,e)},transition:S.default,backdropTransition:S.default}),(0,O.cloneElement)(i,{onClose:this.onClose}))}}]),t}(O.default.Component),o=a))||o;t.Modal=P;var R=function(e){function t(){return(0,h.default)(this,t),(0,s.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,g.default)(t,[{key:"render",value:function(){var e=this.props,t=e.open,n=(0,p.default)(e,["open"]);return O.default.createElement("div",(0,f.default)({},(0,C.default)(n),{className:(0,b.default)("spectrum-Underlay",{"is-open":t})}))}}]),t}(O.default.Component)},7622:function(e,t,n){"use strict";var i=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(7296)),o=i(n(2e3)),a=i(n(1803)),s=i(n(6368)),c=i(n(2143)),l=i(n(4626)),u=i(n(1514)),f=function(e){function t(){var e,n;(0,r.default)(this,t);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=(0,a.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(o))),(0,u.default)((0,c.default)(n),"overflowMap",new Map),(0,u.default)((0,c.default)(n),"superAdd",n.add),(0,u.default)((0,c.default)(n),"superRemove",n.remove),(0,u.default)((0,c.default)(n),"add",(function(e,t,i,r){n.superAdd(e,t,i),n.hideBodyOverflow(e,r)})),(0,u.default)((0,c.default)(n),"hideBodyOverflow",(function(e,t){var i=getComputedStyle(document.body).overflow;t||"hidden"===i||(n.overflowMap.set(e,i),document.body.style.overflow="hidden")})),(0,u.default)((0,c.default)(n),"remove",(function(e,t,i){n.superRemove(e,t,i),n.resetBodyOverflow(e)})),(0,u.default)((0,c.default)(n),"resetBodyOverflow",(function(e){n.overflowMap.has(e)&&(document.body.style.overflow=n.overflowMap.get(e),n.overflowMap.delete(e))})),n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"addToModal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.hideSiblingNodes;this.hideSiblingNodes=!1,this.add(e,document.body,null,t),this.hideSiblingNodes=n}},{key:"removeFromModal",value:function(e){var t=this.hideSiblingNodes;this.hideSiblingNodes=!1,this.remove(e),this.hideSiblingNodes=t}}]),t}(i(n(9318)).default);t.default=f},7249:function(e,t,n){e.exports=n(7220)},5953:function(e,t,n){"use strict";var i=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,a,s=i(n(7296)),c=i(n(2e3)),l=i(n(1803)),u=i(n(6368)),f=i(n(4626)),d=i(n(1514)),p=i(n(3023)),h=i(n(27)),g=i(n(9008)),m=i(n(8882)),v=i(n(7857)),y=i(n(4936)),b=i(n(717)),_=i(n(5466)),C=i(n(6116)),E=i(n(1400));function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=new Map,T=(0,g.default)(r=(0,p.default)((a=o=function(e){function t(e){var n;return(0,s.default)(this,t),(n=(0,l.default)(this,(0,u.default)(t).call(this,e))).state={exited:!n.props.show},n}return(0,f.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.setState({targetNode:C.default.findDOMNode(this.props.target)}),this.mounted=!0,this.addOverlay()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.removeOverlay()}},{key:"addOverlay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=this.overlayBucketKey,n=O.get(t);n||(O.set(t,[]),n=O.get(t)),e.show&&this.mounted&&!n.includes(this)&&n.push(this)}},{key:"removeOverlay",value:function(){var e=O.get(this.overlayBucketKey),t=e.indexOf(this);t>=0&&e.splice(t,1)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.target&&e.target!==this.props.target&&this.setState(N({},this.state,{targetNode:C.default.findDOMNode(e.target)}))}},{key:"onEntered",value:function(){var e;(this.setState(N({},this.state,{exited:!1})),this.addOverlay(),this.props.onEntered)&&(e=this.props).onEntered.apply(e,arguments)}},{key:"onExited",value:function(){var e;(this.setState(N({},this.state,{exited:!0})),this.removeOverlay(),this.props.onExited)&&(e=this.props).onExited.apply(e,arguments)}},{key:"getOverlayContainer",value:function(e){var t=(0,h.default)(this.state.targetNode,".react-spectrum-provider");return this.props.container||t}},{key:"hide",value:function(e){var t=O.get(this.overlayBucketKey);t[t.length-1]===this&&this.props.onHide&&this.props.onHide(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.containerPadding,i=t.target,r=t.container,o=void 0===r?this.getOverlayContainer(i):r,a=t.placement,s=t.offset,c=t.crossOffset,l=t.flip,u=t.boundariesElement,f=void 0===u?function(){return(0,v.default)(e).body}:u,d=t.shouldUpdatePosition,p=t.rootClose,h=t.children,g=t.show,C=t.onExit,S=t.onExiting,N=t.onEnter,O=t.onEntering;if(!(g||!this.state.exited))return null;var T=h;return T=_.default.createElement(b.default,{container:o,containerPadding:n,target:i,placement:a,shouldUpdatePosition:d,offset:s,crossOffset:c,flip:l,boundariesElement:f},T),T=_.default.createElement(m.default,{in:g,appear:!0,onExit:C,onExiting:S,onExited:this.onExited,onEnter:N,onEntering:O,onEntered:this.onEntered},T),p&&(T=_.default.createElement(E.default,{onRootClose:this.hide},T)),_.default.createElement(y.default,{container:o},T)}},{key:"overlayBucketKey",get:function(){var e=this.props.children;return e&&e.props&&"tooltip"===e.props.role?"tooltip":"all"}}]),t}(_.default.Component),(0,d.default)(o,"defaultProps",{placement:"left"}),r=a))||r)||r;t.default=T},7220:function(e,t,n){"use strict";var i=n(8135),r=n(2754);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a,s,c=i(n(5253)),l=i(n(9894)),u=i(n(87)),f=i(n(7296)),d=i(n(2e3)),p=i(n(1803)),h=i(n(6368)),g=i(n(2143)),m=i(n(4626)),v=i(n(1514)),y=i(n(3023)),b=n(6499),_=i(n(9008)),C=i(n(3258)),E=n(8907),S=i(n(5953)),N=i(n(7857)),O=i(n(3074)),T=r(n(5466)),I=i(n(6116));function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,v.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=O.default.oneOf(["click","longClick","hover","focus"]),D=0;function P(e,t){return Array.isArray(t)?t.indexOf(e)>=0:e===t}var R=(0,_.default)(o=(0,y.default)((s=a=function(e){function t(e,n){var i;return(0,f.default)(this,t),i=(0,p.default)(this,(0,h.default)(t).call(this,e,n)),(0,v.default)((0,g.default)(i),"onMouseDown",(function(e){if(!i.props.disabled&&e.button===D){var t=e.currentTarget;i.longPressTimeout=setTimeout((function(){i.longPressTimeout=null,i._lastFocus=t,i.show(e)}),250)}})),(0,v.default)((0,g.default)(i),"onMouseUp",(function(e){i.longPressTimeout||e.preventDefault(),!i.props.disabled&&i.longPressTimeout&&e.button===D&&(i.props.onClick&&i.props.onClick(e),i.hide(e),clearTimeout(i.longPressTimeout),i.longPressTimeout=null)})),(0,v.default)((0,g.default)(i),"windowMouseUp",(function(e){e.button===D&&!I.default.findDOMNode((0,g.default)(i)).contains(e.target)&&i.longPressTimeout&&(clearTimeout(i.longPressTimeout),i.longPressTimeout=null)})),i.overlayId=(0,C.default)(),i._mountNode=null,i.longPressTimeout=null,i._lastFocus=e.lastFocus,i.boundariesElement=e.boundariesElement?e.boundariesElement:function(){return(0,N.default)((0,g.default)(i)).body},i._scrollParents=null,i.state={show:void 0===e.show?e.defaultShow:e.show},i}return(0,m.default)(t,e),(0,d.default)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){"lastFocus"in e&&e.lastFocus!==this.props.lastFocus&&(this._lastFocus=e.lastFocus),e.show!==this.props.show&&(e.show?this.handleDelayedShow():this.handleDelayedHide())}},{key:"componentDidMount",value:function(){this._mountNode=document.createElement("div"),this.renderOverlay(),document.body.addEventListener("mouseUp",this.windowMouseUp)}},{key:"componentDidUpdate",value:function(e){var t=e.disabled,n=this.props.disabled;!t&&n&&this.hide(),this.renderOverlay()}},{key:"componentWillUnmount",value:function(){E.modalManager.removeFromModal(this._overlay),I.default.unmountComponentAtNode(this._mountNode),this._mountNode=null,clearTimeout(this._hoverShowDelay),clearTimeout(this._hoverHideDelay),this.removeListenersFromScrollParents(),document.body.removeEventListener("mouseUp",this.windowMouseUp)}},{key:"handleToggle",value:function(e){this.state.show?this.hide(e):this.show(e)}},{key:"handleDelayedShow",value:function(e){var t=this;if(null!=this._hoverHideDelay)return clearTimeout(this._hoverHideDelay),void(this._hoverHideDelay=null);if(!this.state.show&&null==this._hoverShowDelay){var n=null!=this.props.delayShow?this.props.delayShow:this.props.delay;n?this._hoverShowDelay=setTimeout((function(){t._hoverShowDelay=null,t.show(e)}),n):this.show(e)}}},{key:"handleDelayedHide",value:function(e){var n=this;if(null!=this._hoverShowDelay)return clearTimeout(this._hoverShowDelay),void(this._hoverShowDelay=null);if(this.state.show&&null==this._hoverHideDelay){var i=this.props.delayHide&&this.props.delayHide!==t.defaultProps.delayHide||null==this.props.delay?this.props.delayHide:this.props.delay;i?this._hoverHideDelay=setTimeout((function(){n._hoverHideDelay=null,n.hide(e)}),i):this.hide(e)}}},{key:"handleMouseOverOut",value:function(e,t){var n=t.currentTarget,i=t.relatedTarget||t.nativeEvent.toElement;i&&(i===n||n.contains(i))||e(t)}},{key:"show",value:function(e){this.state.show||this.props.disabled||(this._lastFocus=this.rememberedFocus(),this.listenToScrollParents(),this.setState({show:!0}),this.props.onShow&&this.props.onShow(e))}},{key:"listenToScrollParents",value:function(){this._scrollParents&&this.removeListenersFromScrollParents(),this._scrollParents=function(e){for(var t=[];e.parentNode;){var n=window.getComputedStyle(e);(/auto|scroll/.test(n.overflow+n.overflowY)||e.hasAttribute("data-scrollable"))&&t.push(e),e=e.parentNode}return t}(I.default.findDOMNode(this));var e=!0,t=!1,n=void 0;try{for(var i,r=this._scrollParents[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){i.value.addEventListener("scroll",this.hide,!1)}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}},{key:"removeListenersFromScrollParents",value:function(){if(this._scrollParents){var e=!0,t=!1,n=void 0;try{for(var i,r=this._scrollParents[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){i.value.removeEventListener("scroll",this.hide,!1)}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}this._scrollParents=null}}},{key:"hide",value:function(e){this.removeListenersFromScrollParents(),this.state.show&&(this.setState({show:!1}),this.props.onHide&&this.props.onHide(e))}},{key:"onKeyDown",value:function(e){"ArrowDown"!==e.key&&"Down"!==e.key||(e.altKey||e.target===I.default.findDOMNode(this.dropdownRef.triggerRef))&&(e.preventDefault(),this.show(e))}},{key:"onHide",value:function(e){P("longClick",this.props.trigger)&&I.default.findDOMNode(this).contains(e.target)||(void 0===this.props.show?this.hide(e):this.props.onHide&&this.props.onHide(e))}},{key:"onExited",value:function(e){this.restoreFocus(e),this.props.onExited&&this.props.onExited(e)}},{key:"rememberedFocus",value:function(){return!this._lastFocus&&document&&document.activeElement!==document.body&&(this._lastFocus=document.activeElement),this._lastFocus}},{key:"restoreFocus",value:function(e){if(this._lastFocus&&"function"==typeof this._lastFocus.focus){var t;if(document)e&&(t=I.default.findDOMNode(e)),(t&&(t===document.activeElement||t.contains(document.activeElement))||document.activeElement===document.body)&&this._lastFocus.focus();this.props.lastFocus||(this._lastFocus=null)}}},{key:"makeOverlay",value:function(e,t){var n=this.props.target,i=void 0===n?this:n,r=t.rootClose,o=void 0===r||r,a=(0,u.default)(t,["rootClose"]);delete a.crossOffset,delete a.defaultShow,delete a.flip,delete a.boundariesElement;var s=A({id:e.props.id||a.id},t);return e.props.id||(a.id=this.overlayId),T.default.createElement(S.default,(0,l.default)({},s,{show:this.state.show,onHide:this.onHide,onExited:this.onExited,target:i,rootClose:o}),(0,T.cloneElement)(e,a))}},{key:"renderOverlay",value:function(){this._overlay.props.show&&E.modalManager.addToModal(this._overlay,!0),I.default.unstable_renderSubtreeIntoContainer(this,this._overlay,this._mountNode)}},{key:"render",value:function(){var e=this.props,t=e.trigger,n=e.show,i=e.selected,r=void 0===i?this.state.show:i,o=(0,u.default)(e,["trigger","show","selected"]);delete o.delay,delete o.delayShow,delete o.delayHide,delete o.defaultShow,delete o.onShow,delete o.onHide;var a=T.default.Children.toArray(this.props.children),s=(0,c.default)(a,2),l=s[0],f=s[1],d={};return delete o.children,this.state.show&&f.type&&"tooltip"===f.props.role&&(o.id||(o.id=f.props.id||this.overlayId),d["aria-describedby"]=o.id),void 0===n&&(P("click",t)&&!P("longClick",t)&&(d.onClick=(0,b.chain)(this.props.onClick,this.handleToggle)),P("longClick",t)&&(delete o.onClick,d.onMouseDown=this.onMouseDown,d.onMouseUp=this.onMouseUp,d.onKeyDown=this.onKeyDown),P("hover",t)&&(d.onMouseOver=this.handleMouseOverOut.bind(this,this.handleDelayedShow),d.onMouseOut=this.handleMouseOverOut.bind(this,this.handleDelayedHide),o.onMouseOver=this.handleMouseOverOut.bind(this,this.handleDelayedShow),o.onMouseOut=this.handleMouseOverOut.bind(this,this.handleDelayedHide),o.trapFocus=!1),P("focus",t)&&(d.onFocus=(0,b.chain)(l.props.onFocus,this.handleDelayedShow),d.onBlur=(0,b.chain)(l.props.onBlur,this.handleDelayedHide),o.onFocus=this.handleDelayedShow,o.onBlur=this.handleDelayedHide,o.trapFocus=!1)),d.selected=r,this._overlay&&E.modalManager.removeFromModal(this._overlay),this._overlay=this.makeOverlay(f,o),(0,T.cloneElement)(l,d)}}]),t}(T.Component),(0,v.default)(a,"propTypes",A({},S.default.propTypes,{trigger:O.default.oneOfType([k,O.default.arrayOf(k)]),delay:O.default.number,delayShow:O.default.number,delayHide:O.default.number,defaultShow:O.default.bool,placement:O.default.string,onBlur:O.default.func,onClick:O.default.func,onFocus:O.default.func,onMouseOut:O.default.func,onMouseOver:O.default.func,onShow:O.default.func,onHide:O.default.func,show:O.default.bool,offset:O.default.number,crossOffset:O.default.number,flip:O.default.bool,disabled:O.default.bool,boundariesElement:O.default.oneOfType([O.default.func,O.default.string]),lastFocus:O.default.oneOfType([O.default.element,O.default.object])})),(0,v.default)(a,"defaultProps",{defaultShow:!1,trigger:["hover","focus"],placement:"left",offset:0,crossOffset:0,flip:!0,disabled:!1,delayHide:100}),o=s))||o)||o;t.default=R},717:function(e,t,n){"use strict";var i=n(8135),r=n(2754);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a,s,c=i(n(87)),l=i(n(7296)),u=i(n(2e3)),f=i(n(1803)),d=i(n(6368)),p=i(n(4626)),h=i(n(1514)),g=i(n(3023)),m=i(n(4980)),v=i(n(8098)),y=i(n(9008)),b=i(n(8366)),_=i(n(5896)),C=i(n(7857)),E=r(n(5466)),S=i(n(6116));function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,h.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=(0,y.default)(o=(0,g.default)((s=a=function(e){function t(e,n){var i;return(0,l.default)(this,t),(i=(0,f.default)(this,(0,d.default)(t).call(this,e,n))).state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null,placement:i.props.placement},i._needsFlush=!1,i._lastTarget=null,i}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.updatePosition(this.getTarget()),window.addEventListener("resize",this.maybeUpdatePosition,!1)}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this._needsFlush=!0}},{key:"componentDidUpdate",value:function(e){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==e.placement))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.maybeUpdatePosition,!1)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,i=(0,c.default)(e,["children","className"]),r=this.state,o=r.positionLeft,a=r.positionTop,s=r.maxHeight,l=r.arrowOffsetLeft,u=r.arrowOffsetTop,f=r.placement;delete i.target;var d=E.default.Children.only(t);return(0,E.cloneElement)(d,O({},(0,b.default)(i),{placement:f,className:(0,v.default)(n,d.props.className),arrowStyle:{left:l,top:u},style:O({},d.props.style,{position:"absolute",zIndex:1e5,left:o,top:a,maxHeight:s})}))}},{key:"getTarget",value:function(){var e=this.props.target,t="function"==typeof e?e():e;return t&&S.default.findDOMNode(t)||null}},{key:"maybeUpdatePosition",value:function(e){var t=this.getTarget();(this.props.shouldUpdatePosition||t!==this._lastTarget||e)&&this.updatePosition(t)}},{key:"updatePosition",value:function(e){var t=this.props,n=t.placement,i=t.containerPadding,r=t.offset,o=t.crossOffset,a=t.flip,s=t.boundariesElement;if(this._lastTarget=e,e){var c=S.default.findDOMNode(this),l=(0,_.default)(this.props.container,(0,C.default)(this).body);this.setState((0,m.default)(n,c,e,l,i,a,s,r,o))}else this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null})}}]),t}(E.default.Component),(0,h.default)(a,"defaultProps",{containerPadding:10,offset:0,crossOffset:0}),o=s))||o)||o;t.default=T},4980:function(e,t,n){"use strict";var i=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),t.calculatePositionInternal=E,t.default=function(e,t,n,i,r,c,l,u,f){var d="BODY"===i.tagName,p=d?(0,a.default)(n):(0,s.default)(n,i);d||(p.top+=parseInt((0,o.default)(n,"marginTop"),10)||0,p.left+=parseInt((0,o.default)(n,"marginLeft"),10)||0);var h=(0,a.default)(t),g=(m=t,y=window.getComputedStyle(m),{top:parseInt(y.marginTop,10)||0,bottom:parseInt(y.marginBottom,10)||0,left:parseInt(y.marginLeft,10)||0,right:parseInt(y.marginRight,10)||0});var m,y;h.width+=g.left+g.right,h.height+=g.top+g.bottom;var b=v(i),_="container"===l?i:l(),C=v(_),S="BODY"===_.tagName?(0,a.default)(i):(0,s.default)(i,_);return E(e,b,p,h,g,r,c,C,S,u,f)};var r=i(n(5253)),o=i(n(1284)),a=i(n(4769)),s=i(n(546)),c=i(n(776)),l=i(n(7737)),u=i(n(1393)),f=i(n(6116)),d={top:"top",bottom:"top",left:"left",right:"left",center:"left"},p={top:"bottom",bottom:"top",left:"right",right:"left"},h={top:"left",left:"top"},g={top:"height",left:"width"},m={};function v(e){var t,n,i=0,r=0,o={},s=f.default.findDOMNode(e);if("BODY"===s.tagName)t=window.innerWidth,n=window.innerHeight,o.top=(0,l.default)((0,u.default)(s).documentElement)||(0,l.default)(s),o.left=(0,c.default)((0,u.default)(s).documentElement)||(0,c.default)(s);else{var d=(0,a.default)(s);t=d.width,n=d.height,i=d.top,r=d.left,o.top=(0,l.default)(s),o.left=(0,c.default)(s)}return{width:t,height:n,scroll:o,top:i,left:r}}function y(e,t,n,i,r){var o=i.scroll[e],a=i[g[e]],s=t-r-o,c=t+r-o+n;return s<0?-s:c>a?Math.max(a-c,-s):0}function b(e,t,n,i,r,o,a){var s=o.scroll[e],c=o[g[e]],l=a[e]+t-i-s,u=a[e]+t+i-s+n;return l<0&&("top"===r||"left"===r)||u>c&&("bottom"===r||"right"===r)}function _(e){if(m[e])return m[e];var t=e.split(" "),n=(0,r.default)(t,2),i=n[0],o=n[1],a=d[i]||"right",s=h[a];d[o]||(o="center");var c=g[a],l=g[s];return m[e]={placement:i,crossPlacement:o,axis:a,crossAxis:s,size:c,crossSize:l},m[e]}function C(e,t,n,i,r,o){var a=i.placement,s=i.crossPlacement,c=i.axis,l=i.crossAxis,u=i.size,f=i.crossSize,d={};if(d[l]=e[l]+o,"center"===s?d[l]+=(e[f]-n[f])/2:s!==l&&(d[l]+=e[f]-n[f]),e[f]<n[f]){var p=Math.min(d[l],e[l]);d[l]=Math.max(p,e[l]-n[f]+e[f])}return d[c]=a===c?e[c]-n[u]+r:e[c]+e[u]+r,d}function E(e,t,n,i,r,o,a,s,c,l,u){var f=_(e),d=f,h=d.axis,g=d.size,m=d.crossAxis,v=d.crossSize,E=d.placement,S=d.crossPlacement,N=C(n,0,i,f,l,u),O=l;if(a&&b(h,N[h],i[g],o,E,s,c)){var T=_("".concat(p[E]," ").concat(S)),I=T.axis,w=T.size,A=C(n,0,i,T,-1*l,u);b(I,A[I],i[w],o,p[E],s,c)||(f=T,N=A,O=-1*l)}var k=y(m,N[m],i[v],s,o);N[m]+=k;var D=Math.max(0,s.height+s.top+s.scroll.top-c.top-N.top-r.top-r.bottom-o);i.height=Math.min(i.height,D),k=k=y(m,(N=C(n,0,i,f,O,u))[m],i[v],s,o),N[m]+=k;var P={};return P[m]=n[v]>i[v]?null:n[m]-N[m]+n[v]/2,{positionLeft:N.left,positionTop:N.top,maxHeight:D,arrowOffsetLeft:P.left,arrowOffsetTop:P.top,placement:f.placement}}},4642:function(e,t,n){e.exports=n(6830)},6830:function(e,t,n){"use strict";var i=n(8135),r=n(2754);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a,s,c=i(n(9894)),l=i(n(87)),u=i(n(7296)),f=i(n(2e3)),d=i(n(1803)),p=i(n(6368)),h=i(n(4626)),g=i(n(1514)),m=i(n(3023)),v=i(n(8098)),y=i(n(3258)),b=i(n(9724)),_=i(n(8366)),C=i(n(3074)),E=r(n(5466)),S=n(4167);n(4560),n(7943),n(6002),n(2789),n(7568),n(3150),n(6512),n(2278),n(6235);var N=(0,m.default)((s=a=function(e){function t(e,n){var i;return(0,u.default)(this,t),(i=(0,d.default)(this,(0,p.default)(t).call(this,e,n))).defaultId=(0,y.default)(),i}return(0,h.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.trapFocus&&(this._trapFocusTimeout=requestAnimationFrame((function(){e.popoverRef&&!e.popoverRef.contains(document.activeElement)&&e.popoverRef.focus()})))}},{key:"componentWillUnmount",value:function(){this._trapFocusTimeout&&cancelAnimationFrame(this._trapFocusTimeout)}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e),this.props.trapFocus&&e.target===this.popoverRef&&!this.popoverRef.contains(e.relatedTarget)&&(0,S.trapFocus)(this,e)}},{key:"onKeyDown",value:function(e){this.props.onKeyDown&&(this.props.onKeyDown(e),e.isPropagationStopped&&e.isPropagationStopped())||this.props.trapFocus&&(0,S.trapFocus)(this,e)}},{key:"render",value:function(){var e,t=this,n=this.props,i=n.variant,r=n.placement,o=n.arrowStyle,a=n.open,s=n.title,u=n.children,f=n.className,d=n.isDialog,p=void 0===d||d,h=n.trapFocus,m=n.tabIndex,y=void 0===m?null:m,C=n.id,S=void 0===C?this.defaultId:C,N=n["aria-label"],O=n["aria-labelledby"],T=n["aria-describedby"],I=(0,l.default)(n,["variant","placement","arrowStyle","open","title","children","className","isDialog","trapFocus","tabIndex","id","aria-label","aria-labelledby","aria-describedby"]);delete I.target;var w=p?E.default.createElement("div",{className:"spectrum-Dialog-content",role:"presentation",id:"".concat(S,"-content")},u):u;return E.default.createElement("div",(0,c.default)({ref:function(e){return t.popoverRef=e},className:(0,v.default)("spectrum-Popover","react-spectrum-Popover","spectrum-Popover--".concat(r.split(" ")[0]),(e={"spectrum-Popover--withTip":p,"spectrum-Popover--dialog":p},(0,g.default)(e,"spectrum-Dialog--".concat(i),p),(0,g.default)(e,"is-open",a),e),f),role:p?"dialog":"presentation",id:S,"aria-label":N,"aria-labelledby":O||(p&&s&&!N?"".concat(S,"-heading"):null),"aria-describedby":T||(p&&s&&u?"".concat(S,"-content"):null)},(0,_.default)(I),{onFocus:this.onFocus,onKeyDown:this.onKeyDown,tabIndex:h&&null===y?1:y}),p&&s&&E.default.createElement(b.default,{id:"".concat(S,"-heading"),title:s,variant:i}),w,p&&E.default.createElement("div",{className:"spectrum-Popover-tip",style:o,"aria-hidden":"true"}))}}]),t}(E.Component),(0,g.default)(a,"propTypes",{variant:C.default.oneOf(["default","error"]),placement:C.default.oneOf(["bottom","bottom left","bottom right","top","top left","top right","left","left top","left bottom","right","right top","right bottom"]),open:C.default.bool,title:C.default.node,className:C.default.string,trapFocus:C.default.bool}),(0,g.default)(a,"defaultProps",{variant:"default",placement:"bottom",open:!0,trapFocus:!0}),o=s))||o;t.default=N,N.displayName="Popover"},985:function(e,t,n){e.exports=n(2363)},2363:function(e,t,n){"use strict";var i=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(7296)),o=i(n(2e3)),a=(i(n(5466)),i(n(6116))),s={},c=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,null,[{key:"add",value:function(e,t){var n=s[e.key]||document.createElement("div");t?a.default.unstable_renderSubtreeIntoContainer(t,e,n):a.default.render(e,n),s[e.key]=n}},{key:"remove",value:function(e){a.default.unmountComponentAtNode(s[e.key]),delete s[e.key]}},{key:"removeAll",value:function(){for(var e in s)s.hasOwnProperty(e)&&(a.default.unmountComponentAtNode(s[e]),delete s[e])}}]),e}();t.default=c},2259:function(e,t,n){e.exports=n(5543)},5543:function(e,t,n){"use strict";var i=n(8135),r=n(2754);t.default=void 0;var o,a,s,c=i(n(9894)),l=i(n(87)),u=i(n(7296)),f=i(n(2e3)),d=i(n(1803)),p=i(n(6368)),h=i(n(4626)),g=i(n(1514)),m=i(n(8098)),v=(i(n(5458)),i(n(9008))),y=n(9870),b=i(n(8366)),_=i(n(3074)),C=r(n(5466)),E=n(4363);n(6520),n(2040),n(1159),n(1937),n(4015),n(598),n(6035),n(1195),n(8745),n(9485);var S=(0,v.default)((s=a=function(e){function t(e){var n;return(0,u.default)(this,t),n=(0,d.default)(this,(0,p.default)(t).call(this,e)),(0,y.setLocale)(e.locale),e.toastPlacement&&(0,E.setToastPlacement)(e.toastPlacement),n}return(0,h.default)(t,e),(0,f.default)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){"locale"in e&&(0,y.setLocale)(e.locale),e.toastPlacement&&(0,E.setToastPlacement)(e.toastPlacement)}},{key:"getChildContext",value:function(){return{theme:this.props.theme,scale:this.props.scale,locale:this.props.locale}}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.className,i=e.children,r=e.scale,o=(0,l.default)(e,["theme","className","children","scale"]);return C.default.createElement("div",(0,c.default)({className:(0,m.default)(n,"react-spectrum-provider","spectrum","spectrum--".concat(t),"spectrum--".concat(r))},(0,b.default)(o)),i)}}]),t}(C.Component),(0,g.default)(a,"propTypes",{theme:_.default.oneOf(["light","lightest","dark","darkest"]),scale:_.default.oneOf(["medium","large"]),toastPlacement:_.default.oneOf(["top","top left","top center","top right","bottom","bottom left","bottom center","bottom right"]),typekitId:_.default.string,locale:_.default.string,className:_.default.string}),(0,g.default)(a,"defaultProps",{theme:"light",scale:"medium",typekitId:"ruf7eed",locale:y.defaultLocale}),(0,g.default)(a,"childContextTypes",{theme:_.default.oneOf(["light","lightest","dark","darkest"]),scale:_.default.oneOf(["medium","large"]),locale:_.default.string}),o=s))||o;t.default=S},2702:function(e,t,n){e.exports=n(1394)},1394:function(e,t,n){"use strict";var i=n(8135);t.default=void 0;var r,o,a,s=i(n(7296)),c=i(n(2e3)),l=i(n(1803)),u=i(n(6368)),f=i(n(4626)),d=i(n(1514)),p=i(n(9894)),h=i(n(87)),g=i(n(3794)),m=i(n(3023)),v=i(n(9590)),y=i(n(5758)),b=i(n(8098)),_=i(n(9008)),C=i(n(3258)),E=i(n(691)),S=i(n(8366)),N=i(n(4642)),O=i(n(3074)),T=i(n(5466)),I=i(n(6116)),w=i(n(7215));n(123),n(9430),n(7144),n(9546),n(9070);var A=null,k=(0,_.default)(r=(0,m.default)((a=o=function(e){function t(e){var n;(0,s.default)(this,t),n=(0,l.default)(this,(0,u.default)(t).call(this,e));var i=null;if("value"in e)i=e.value;else if("defaultValue"in e)i=e.defaultValue;else if(e.multiple)i=[];else{var r=e.options&&e.options[0];i=r&&!e.placeholder?r.value:null}return n.state={value:i},n.selectId=(0,C.default)(),n}return(0,f.default)(t,e),(0,c.default)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){"value"in e&&e.value!==this.state.value&&this.setState({value:e.value})}},{key:"componentDidMount",value:function(){if(null==A){var e=document.createElement("div");e.className="spectrum-Dropdown-popover",document.body.appendChild(e),A=parseInt(window.getComputedStyle(e).maxWidth,10),document.body.removeChild(e)}window.addEventListener("resize",this.updateSize),this.updateSize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateSize)}},{key:"componentDidUpdate",value:function(){this.updateSize()}},{key:"updateSize",value:function(){if(this.button){var e=I.default.findDOMNode(this.button).offsetWidth;e!==this.state.width&&this.setState({width:e})}}},{key:"onSelect",value:function(e){"value"in this.props||this.setState({value:e}),this.props.onChange&&this.props.onChange(e)}},{key:"onOpen",value:function(e){this.updateSize(),"function"==typeof this.props.onOpen&&this.props.onOpen(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.options,i=void 0===n?[]:n,r=t.quiet,o=t.onClose,a=t.closeOnSelect,s=t.menuClassName,c=t.disabled,l=void 0!==c&&c,u=t.invalid,f=void 0!==u&&u,d=t.multiple,m=void 0!==d&&d,_=t.required,C=void 0!==_&&_,N=t.flexible,O=void 0!==N&&N,I=t.placeholder,w=void 0===I?"Select an option":I,k=t.className,P=t.flip,R=void 0===P||P,x=t.alignRight,F=t.labelId,L=t.id,U=void 0===L?this.selectId:L,M=t.icon,j=t.renderItem,W=t["aria-label"],H=t["aria-labelledby"],q=(0,h.default)(t,["options","quiet","onClose","closeOnSelect","menuClassName","disabled","invalid","multiple","required","flexible","placeholder","className","flip","alignRight","labelId","id","icon","renderItem","aria-label","aria-labelledby"]),V=this.state.value,B="".concat(U,"-value");H?H+=" ".concat(B):H=W?U+" "+B:F?F+" "+B:B;var G=w;if(!m){var z=i.find((function(e){return e.value===V}));G=z?z.label:w,M=z&&z.icon}a="boolean"==typeof a?a:!m;var K=Object.entries((0,S.default)(q)),Y=K.filter((function(e){return/^aria-.*$/.test(e[0])})).reduce((function(e,t){return e[t[0]]=t[1],e}),{}),X=K.filter((function(e){return!/^aria-.*$/.test(e[0])})).reduce((function(e,t){return e[t[0]]=t[1],e}),{}),J=this.state.width;return r&&(J=this.state.width+24),r&&O&&(J=null),T.default.createElement(E.default,(0,p.default)({className:(0,b.default)("spectrum-Dropdown",{"spectrum-Dropdown--quiet":r,"react-spectrum-Dropdown-fixed":r&&!O,"react-spectrum-Dropdown-flexible":O,"is-disabled":l,"is-invalid":f},k),closeOnSelect:a,onSelect:this.onSelect,onOpen:this.onOpen,onClose:o,"aria-required":C,"aria-multiselectable":m,"aria-disabled":l,"aria-invalid":f,alignRight:x,flip:R},X),T.default.createElement(v.default,(0,p.default)({className:"spectrum-Dropdown-trigger",type:"button",variant:"field","aria-haspopup":"listbox",quiet:r,disabled:l,invalid:f,ref:function(t){return e.button=t},"aria-label":W,"aria-labelledby":H,id:U,icon:M},Y),T.default.createElement("span",{id:B,className:(0,b.default)("spectrum-Dropdown-label",{"is-placeholder":G===w})},G),f&&T.default.createElement(g.default,{size:"S"}),T.default.createElement(y.default,{size:null,className:"spectrum-Dropdown-icon"})),T.default.createElement(D,{dropdownMenu:!0,className:s,options:i,value:V,multiple:m,disabled:l,invalid:f,required:C,quiet:r,style:{overflowY:"auto",minWidth:J,maxWidth:this.state.width>A?this.state.width:null,marginRight:r&&x?-12:null},autoFocus:!0,renderItem:j}))}}]),t}(T.default.Component),(0,d.default)(o,"propTypes",{closeOnSelect:O.default.bool,menuClassName:O.default.string,renderItem:O.default.func,value:O.default.oneOfType([O.default.string,O.default.number,O.default.arrayOf(O.default.string),O.default.arrayOf(O.default.number)]),defaultValue:O.default.oneOfType([O.default.string,O.default.number,O.default.arrayOf(O.default.string),O.default.arrayOf(O.default.number)]),multiple:O.default.bool,options:O.default.arrayOf(O.default.object),onChange:O.default.func,onOpen:O.default.func,onClose:O.default.func,quiet:O.default.bool,invalid:O.default.bool,required:O.default.bool,flexible:O.default.bool,placeholder:O.default.string,flip:O.default.bool,alignRight:O.default.bool,icon:O.default.node}),r=a))||r)||r;function D(e){var t=e.onClose,n=e.onOpen,i=e.onSelect,r=e.className,o=e.open,a=e.placement,s=e.style,c=e.closeOnSelect,l=e.quiet,u=(0,h.default)(e,["onClose","onOpen","onSelect","className","open","placement","style","closeOnSelect","quiet"]);return T.default.createElement(N.default,{isDialog:!1,placement:a,open:o,onClose:t,onOpen:n,style:s,className:(0,b.default)("spectrum-Dropdown-popover",{"spectrum-Dropdown-popover--quiet":l}),closeOnSelect:c},T.default.createElement(w.default,(0,p.default)({},u,{className:r,onChange:i})))}t.default=k},7215:function(e,t,n){e.exports=n(7894)},7894:function(e,t,n){"use strict";var i=n(8135),r=n(2754);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a,s,c=i(n(9894)),l=i(n(87)),u=i(n(2033)),f=i(n(7296)),d=i(n(2e3)),p=i(n(1803)),h=i(n(6368)),g=i(n(2143)),m=i(n(4626)),v=i(n(1514)),y=i(n(9008)),b=n(2071),_=i(n(3074)),C=r(n(5466)),E=(0,y.default)((s=a=function(e){function t(e){var n;return(0,f.default)(this,t),n=(0,p.default)(this,(0,h.default)(t).call(this,e)),(0,v.default)((0,g.default)(n),"renderListOfOptions",(function(e){return e.map((function(e,t){return C.default.createElement(b.ListItem,{key:t,icon:e.icon,selected:n.isSelected(e),disabled:n.props.disabled||e.disabled,onSelect:n.handleSelect.bind((0,g.default)(n),e)},n.props.renderItem?n.props.renderItem(e):e.label)}))})),n.state={value:e.value},n}return(0,m.default)(t,e),(0,d.default)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.value&&e.value!==this.state.value&&this.setState({value:e.value})}},{key:"addSelection",value:function(e){return[].concat((0,u.default)(this.state.value||[]),[e.value])}},{key:"removeSelection",value:function(e){var t=this.state.value||[],n=t.indexOf(e.value);return[].concat((0,u.default)(t.slice(0,n)),(0,u.default)(t.slice(n+1,t.length)))}},{key:"handleSelect",value:function(e){var t;t=this.props.multiple?this.isSelected(e)?this.removeSelection(e):this.addSelection(e):e.value,"value"in this.props||this.setState({value:t}),this.props.onChange&&this.props.onChange(t)}},{key:"isSelected",value:function(e){return this.props.multiple?this.state.value&&this.state.value.indexOf(e.value)>=0:this.state.value===e.value}},{key:"render",value:function(){var e=this.props,t=e.options,n=void 0===t?[]:t,i=e.multiple,r=void 0!==i&&i,o=e.disabled,a=void 0!==o&&o,s=e.invalid,u=void 0!==s&&s,f=e.required,d=void 0!==f&&f,p=e.className,h=(0,l.default)(e,["options","multiple","disabled","invalid","required","className"]);return delete h.onTab,delete h.renderItem,C.default.createElement(b.List,(0,c.default)({className:p,"aria-multiselectable":r,"aria-disabled":a,"aria-invalid":u,"aria-required":d,selectable:!0},h),this.renderListOfOptions(n))}}]),t}(C.Component),(0,v.default)(a,"propTypes",{disabled:_.default.bool,invalid:_.default.bool,multiple:_.default.bool,onChange:_.default.func,options:_.default.arrayOf(_.default.object),required:_.default.bool,value:_.default.oneOfType([_.default.arrayOf(_.default.string),_.default.arrayOf(_.default.number),_.default.string,_.default.number]),renderItem:_.default.func}),(0,v.default)(a,"defaultProps",{options:[],multiple:!1,disabled:!1,invalid:!1,required:!1}),o=s))||o;t.default=E},6929:function(e,t,n){e.exports=n(3407)},3407:function(e,t,n){"use strict";var i=n(8135);t.default=d;var r=i(n(9894)),o=i(n(87)),a=i(n(8098)),s=i(n(8366)),c=i(n(3074)),l=i(n(5466));n(1108),n(7058),n(8274),n(930);var u=["celery","yellow","fuchsia","indigo","seafoam","chartreuse","magenta","purple","neutral","positive","notice","negative","info"],f={archived:"neutral",active:"info"};function d(e){var t=e.variant,n=void 0===t?u[0]:t,i=e.children,c=e.disabled,d=e.className,p=(0,o.default)(e,["variant","children","disabled","className"]);return f[n]&&(console.warn('The "'.concat(n,'" variant of StatusLight is deprecated. Please use "').concat(f[n],'" instead.')),n=f[n]),l.default.createElement("div",(0,r.default)({className:(0,a.default)("spectrum-StatusLight","spectrum-StatusLight--".concat(n),{"is-disabled":c},d)},(0,s.default)(p)),i)}d.displayName="StatusLight",d.propTypes={className:c.default.string,variant:c.default.oneOf(u),disabled:c.default.bool}},4363:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setToastPlacement=function(e){t.TOAST_PLACEMENT=i=e;var r=!0,o=!1,a=void 0;try{for(var s,c=n.values()[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){s.value.setState({placement:e})}}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}},t.TOAST_PLACEMENT=t.TOAST_CONTAINERS=void 0;var n=new Map;t.TOAST_CONTAINERS=n;var i="top center";t.TOAST_PLACEMENT=i},9286:function(e,t,n){e.exports=n(4212)},4212:function(e,t,n){"use strict";var i=n(2754),r=n(8135);t.default=void 0;var o=r(n(9894)),a=r(n(87)),s=r(n(7296)),c=r(n(2e3)),l=r(n(1803)),u=r(n(6368)),f=r(n(4626)),d=r(n(1514)),p=r(n(8098)),h=r(n(3258)),g=r(n(8366)),m=r(n(3074)),v=i(n(5466));n(9530),n(9927),n(8894),n(268);var y=function(e){function t(e,n){var i;return(0,s.default)(this,t),(i=(0,l.default)(this,(0,u.default)(t).call(this,e,n))).tooltipId=(0,h.default)(),i}return(0,f.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.variant,n=e.children,i=e.arrowStyle,r=e.className,s=e.placement,c=e.open,l=e.id,u=void 0===l?this.tooltipId:l,f=(0,a.default)(e,["variant","children","arrowStyle","className","placement","open","id"]);return v.default.createElement("span",(0,o.default)({className:(0,p.default)("spectrum-Tooltip","spectrum-Tooltip--".concat(t),"spectrum-Tooltip--".concat(s.split(" ")[0]),{"is-open":c},r),id:u},(0,g.default)(f)),v.default.createElement("span",{className:"spectrum-Tooltip-label"},n),v.default.createElement("span",{className:"spectrum-Tooltip-tip",style:i}))}}]),t}(v.Component);t.default=y,(0,d.default)(y,"propTypes",{placement:m.default.oneOf(["bottom","top","left","right"]),variant:m.default.oneOf(["inspect","info","success","error"]),className:m.default.string,id:m.default.string,role:m.default.oneOf(["tooltip"]),open:m.default.bool}),(0,d.default)(y,"defaultProps",{variant:"inspect",placement:"right",open:!0,role:"tooltip"})},7759:function(e,t,n){e.exports=n(5021)},5021:function(e,t,n){"use strict";var i=n(8135);t.default=void 0;var r=i(n(9894)),o=i(n(87)),a=i(n(7296)),s=i(n(2e3)),c=i(n(1803)),l=i(n(6368)),u=i(n(4626)),f=i(n(1514)),d=i(n(8098)),p=i(n(8366)),h=i(n(3074)),g=i(n(5466));n(1531),n(3640),n(9933),n(6953),n(222);var m="determinate",v="indeterminate",y=function(e){function t(){return(0,a.default)(this,t),(0,c.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e,t=this.props,n=t.value,i=void 0===n?0:n,a=t.size,s=void 0===a?"M":a,c=t.indeterminate,l=void 0===c||c,u=t.centered,f=void 0!==u&&u,h=t.className,y=t.variant,b=(0,o.default)(t,["value","size","indeterminate","centered","className","variant"]),_={},C={},E=void 0;return y!==m&&y!==v||console.warn('The "'.concat(y,'" variant of Wait is deprecated. Please use the "indeterminate" prop instead.')),y!==m&&l||(E=i=Math.min(Math.max(+i,0),100),i>0&&i<=50?(e=i/50*180-180,_.transform="rotate("+e+"deg)",C.transform="rotate(-180deg)"):i>50&&(e=(i-50)/50*180-180,_.transform="rotate(0deg)",C.transform="rotate("+e+"deg)")),g.default.createElement("div",(0,r.default)({className:(0,d.default)("spectrum-CircleLoader",{"spectrum-CircleLoader--indeterminate":y===v||l&&y!==m,"spectrum-CircleLoader--small":"S"===s,"spectrum-CircleLoader--large":"L"===s,"spectrum-CircleLoader--overBackground":"overBackground"===y,"react-spectrum-Wait--centered":f},h),role:"progressbar","aria-valuenow":E,"aria-valuemin":0,"aria-valuemax":100},(0,p.default)(b)),g.default.createElement("div",{className:"spectrum-CircleLoader-track"}),g.default.createElement("div",{className:"spectrum-CircleLoader-fills"},g.default.createElement("div",{className:"spectrum-CircleLoader-fillMask1"},g.default.createElement("div",{className:"spectrum-CircleLoader-fillSubMask1",style:_},g.default.createElement("div",{className:"spectrum-CircleLoader-fill"}))),g.default.createElement("div",{className:"spectrum-CircleLoader-fillMask2"},g.default.createElement("div",{className:"spectrum-CircleLoader-fillSubMask2",style:C},g.default.createElement("div",{className:"spectrum-CircleLoader-fill"})))))}}]),t}(g.default.Component);t.default=y,(0,f.default)(y,"propTypes",{centered:h.default.bool,className:h.default.string,indeterminate:h.default.bool,size:h.default.string,value:h.default.number,variant:h.default.oneOf(["overBackground"])})},6520:function(){!function(e){if(e){var t=["Tab","ArrowUp","ArrowRight","ArrowDown","ArrowLeft","Home","End","PageUp","PageDown","Enter"," ","Escape","Up","Right","Down","Left","Esc"],n=["text","date","datetime-local","email","month","number","password","search","tel","time","url","week"],i=!1,r=e.getElementsByClassName("focus-ring");e.addEventListener("keydown",(function(r){r.ctrlKey||r.altKey||r.metaKey||-1===t.indexOf(r.key)||(i=!0,!e.activeElement||e.activeElement===e.body||"TEXTAREA"===e.activeElement.tagName||"INPUT"===e.activeElement.tagName&&-1!==n.indexOf(e.activeElement.type)||e.activeElement.classList.add("focus-ring"))}),!0),e.addEventListener("mousedown",(function(){i=!1;for(var e=0;e<r.length;e++)r[e].classList.remove("focus-ring")}),!0),e.addEventListener("focus",(function(e){var t=e.target.classList;t&&i&&t.add("focus-ring")}),!0),e.addEventListener("blur",(function(e){var t=e.target.classList;t&&t.remove("focus-ring")}),!0)}}("undefined"==typeof window?void 0:document)},4167:function(e,t,n){"use strict";var i=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),t.trapFocus=function(e,t){var n,i,r,o,a,s=t.type,c=t.key,l=t.shiftKey,u=t.target;"keydown"!==s&&"focus"!==s||(n=y.default.findDOMNode(e))&&(o=(i=Array.from(n.querySelectorAll(O)).filter((function(e){return e!==n})))[0]||n,a=i[i.length-1]||n);"keydown"===s&&"Tab"===c?n&&(l?u!==o&&u!==n||(r=a):u!==a&&u!==n||(r=o)):"focus"===s&&u===n&&(r=o);r&&(t.preventDefault(),t.stopPropagation(),r!==document.activeElement&&r.focus())},t.TABBABLE_ELEMENT_SELECTOR=t.FOCUSABLE_ELEMENT_SELECTOR=t.default=void 0;var r,o,a,s=i(n(7296)),c=i(n(2e3)),l=i(n(1803)),u=i(n(6368)),f=i(n(2143)),d=i(n(4626)),p=i(n(1514)),h=i(n(3023)),g=n(6499),m=i(n(3074)),v=i(n(5466)),y=i(n(6116)),b=n(7574),_=i(n(3770)),C=/[\n\r]+|[\s]{1,}/g,E=(0,h.default)((a=o=function(e){function t(){var e,n;(0,s.default)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(0,l.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,p.default)((0,f.default)(n),"keysSoFar",""),(0,p.default)((0,f.default)(n),"keyClearTimeout",null),n}return(0,d.default)(t,e),(0,c.default)(t,[{key:"getItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props,n=t.itemSelector,i=t.selectedItemSelector,r=t.includeSelf,o=e&&i?i:n,a=y.default.findDOMNode(this),s=[];return r&&a.matches(o)&&s.push(a),s.concat(Array.from(a.querySelectorAll(o)))}},{key:"onFocusFirst",value:function(e){var t=this.getItems();!t.length||e&&-1===t.indexOf(e.target)||(e&&e.preventDefault(),t[0].focus())}},{key:"onFocusLast",value:function(e){var t=this.getItems();!t.length||e&&-1===t.indexOf(e.target)||(e&&e.preventDefault(),t[t.length-1].focus())}},{key:"onFocusPrevious",value:function(e){var t=this.getItems();if(t.length&&e&&-1!==t.indexOf(e.target)){e.preventDefault();var n=t.indexOf(e.target),i=n-1;i<0&&(i=this.props.loopFocusAtEdges?t.length-1:n),t[i].focus()}}},{key:"onFocusNext",value:function(e){var t=this.getItems();if(t.length&&e&&-1!==t.indexOf(e.target)){e.preventDefault();var n=t.indexOf(e.target),i=n+1;i>=t.length&&(i=this.props.loopFocusAtEdges?0:n),t[i].focus()}}},{key:"onPageUp",value:function(e){if(!this.props.ignorePageUpPageDown){var t=this.getItems();if(t.length&&e&&-1!==t.indexOf(e.target)){e.preventDefault();var n=y.default.findDOMNode(this),i=Math.max(e.target.offsetTop+e.target.offsetHeight-n.clientHeight,0),r=t.indexOf(e.target),o=t.slice(0,r).reverse().find((function(e){return e.offsetTop<i}));o?(o.focus(),(0,_.default)(o,n,!0)):this.onFocusFirst(e)}}}},{key:"onPageDown",value:function(e){if(!this.props.ignorePageUpPageDown){var t=this.getItems();if(t.length&&e&&-1!==t.indexOf(e.target)){e.preventDefault();var n=y.default.findDOMNode(this),i=Math.min(e.target.offsetTop+n.clientHeight,n.scrollHeight+n.clientHeight),r=t.indexOf(e.target)+1,o=t.slice(r).find((function(e){return e.offsetTop+e.offsetHeight>i}));o?(o.focus(),(0,_.default)(o,n,!0)):this.onFocusLast(e)}}}},{key:"findItemToFocus",value:function(e){var t=e.target,n=e.shiftKey,i=e.charCode,r=(0,b.removeDiacritics)(String.fromCharCode(i)).toUpperCase(),o=this.getItems();(""===this.keysSoFar||r===this.keysSoFar||n)&&(n&&(o=o.reverse()),this.searchIndex=o.indexOf(t)),r!==this.keysSoFar&&(this.keysSoFar+=r),this.clearKeysSoFarAfterDelay();var a=this.findMatchInRange(o,this.searchIndex+1,o.length);a||(a=this.findMatchInRange(o,0,this.searchIndex)),a&&a.focus()}},{key:"clearKeysSoFarAfterDelay",value:function(){var e=this;this.keyClearTimeout&&clearTimeout(this.keyClearTimeout),this.keyClearTimeout=setTimeout((function(){return e.keysSoFar=""}),500)}},{key:"findMatchInRange",value:function(e,t,n){for(var i=t;i<n;i++){var r=e[i].innerText||e[i].textContent;if(r&&0===(0,b.removeDiacritics)(r).replace(C,"").toUpperCase().indexOf(this.keysSoFar))return e[i]}return null}},{key:"onKeyDown",value:function(e){e.isPropagationStopped()||g.interpretKeyboardEvent.call(this,e,this.props.orientation)}},{key:"onKeyPress",value:function(e){e.isPropagationStopped()||this.findItemToFocus(e)}},{key:"onFocus",value:function(e){e.isPropagationStopped()||this.getItems().forEach((function(t){return t.tabIndex=t===e.target?0:-1}))}},{key:"onBlur",value:function(e){if(!e.isPropagationStopped()){var t=this.getItems(!0);if(t.length){var n=-1!==t.indexOf(e.target);this.getItems().forEach((function(i){var r=-1!==t.indexOf(i);i.tabIndex=i===e.target&&n||!n&&r?0:-1}))}}}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.autoFocus,i=t.selectedItemSelector;if(n){var r=i?y.default.findDOMNode(this).querySelector(i):null;this.focusTimer=setTimeout((function(){r?r.focus():e.onFocusFirst()}),20)}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.focusTimer)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.disabled,i=e.manageTabIndex,r=e.typeToSelect,o=v.default.Children.only(t),a=o.props,s=a.onKeyDown,c=a.onKeyPress,l=a.onFocus,u=a.onBlur;return v.default.cloneElement(o,{onKeyDown:n?s:(0,g.chain)(s,this.onKeyDown),onKeyPress:r&&!n?(0,g.chain)(c,this.onKeyPress):c,onFocus:i&&!n?(0,g.chain)(l,this.onFocus):l,onBlur:i&&!n?(0,g.chain)(u,this.onBlur):u})}}]),t}(v.default.Component),(0,p.default)(o,"propTypes",{itemSelector:m.default.string.isRequired,manageTabIndex:m.default.bool,orientation:m.default.oneOf(["horizontal","vertical","both"]),selectedItemSelector:m.default.string,disabled:m.default.bool,typeToSelect:m.default.bool,includeSelf:m.default.bool,ignorePageUpPageDown:m.default.bool,autoFocus:m.default.bool,loopFocusAtEdges:m.default.bool}),(0,p.default)(o,"defaultProps",{manageTabIndex:!0,orientation:"vertical",typeToSelect:!1,includeSelf:!1,ignorePageUpPageDown:!1,loopFocusAtEdges:!0}),r=a))||r;t.default=E;var S=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],N=S.join(",")+",[tabindex]";t.FOCUSABLE_ELEMENT_SELECTOR=N,S.push('[tabindex]:not([tabindex="-1"])');var O=S.join(':not([tabindex="-1"]),');t.TABBABLE_ELEMENT_SELECTOR=O},8882:function(e,t,n){"use strict";var i=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return o.default.createElement(a.default,(0,r.default)({timeout:{enter:0,exit:125}},e),(function(t){return o.default.cloneElement(e.children,{open:!!s[t]})}))};var r=i(n(9894)),o=i(n(5466)),a=i(n(9425)),s={entering:!1,entered:!0}},5458:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={kitId:e,scriptTimeout:3e3};if(!window.Typekit){var n=document.getElementsByTagName("html")[0];n.className+=" wf-loading";var i=setTimeout((function(){n.className=n.className.replace(/(\s|^)wf-loading(\s|$)/g," "),n.className+=" wf-inactive"}),t.scriptTimeout),r=document.createElement("script"),o=!1;r.src="https://use.typekit.net/".concat(t.kitId,".js"),r.type="text/javascript",r.async="true",r.onload=r.onreadystatechange=function(){var e=this.readyState;if(!(o||e&&"complete"!==e&&"loaded"!==e)){o=!0,clearTimeout(i);try{window.Typekit.load(t)}catch(e){}}};var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(r,a)}}},9008:function(e,t,n){"use strict";var i=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prototype,n=t.UNSAFE_componentWillUpdate,i=t.UNSAFE_componentWillMount,a=t.UNSAFE_componentWillReceiveProps;-1===(0,r.default)(o.default.version,"16.3.0")&&(n&&(t.componentWillUpdate=function(e,t){n.apply(this,arguments)}),i&&(t.componentWillMount=function(){i.apply(this,arguments)}),a&&(t.componentWillReceiveProps=function(e){a.apply(this,arguments)}))};var r=i(n(6168)),o=i(n(5466))},3258:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=0;t.default=function(){return"react-spectrum-"+ ++n}},6499:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.interpretKeyboardEvent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"vertical";switch(e.key){case"Enter":case" ":this.onSelectFocused&&this.onSelectFocused(e);break;case"Tab":this.onTab&&this.onTab(e);break;case"PageUp":this.onPageUp?this.onPageUp(e):this.onFocusFirst&&this.onFocusFirst(e);break;case"PageDown":this.onPageDown?this.onPageDown(e):this.onFocusLast&&this.onFocusLast(e);break;case"Home":this.onFocusFirst&&this.onFocusFirst(e);break;case"End":this.onFocusLast&&this.onFocusLast(e);break;case"ArrowUp":case"Up":e.altKey&&this.onAltArrowUp?this.onAltArrowUp(e):"horizontal"!==t&&this.onFocusPrevious&&this.onFocusPrevious(e);break;case"ArrowDown":case"Down":e.altKey&&this.onAltArrowDown?this.onAltArrowDown(e):"horizontal"!==t&&this.onFocusNext&&this.onFocusNext(e);break;case"ArrowLeft":case"Left":"vertical"!==t&&this.onFocusPrevious&&this.onFocusPrevious(e);break;case"ArrowRight":case"Right":"vertical"!==t&&this.onFocusNext&&this.onFocusNext(e);break;case"Escape":case"Esc":this.onEscape&&this.onEscape(e)}},t.chain=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){var e=!0,n=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;"function"==typeof a&&a.apply(void 0,arguments)}}catch(e){n=!0,i=e}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}}},t.focusAfterMouseEvent=function(e,t){if(!document)return void(e&&e.call(this,t));if(e&&(e.call(this,t),t.isDefaultPrevented()))return void(n="mousedown"===t.type);n||"function"!=typeof this.focus||this.focus();"mouseup"===t.type&&(n=!1)};var n=!1},8366:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(n[r]||i.test(r))&&(t[r]=e[r]);return t};var n={abbr:1,accept:1,acceptCharset:1,accessKey:1,action:1,allowFullScreen:1,allowTransparency:1,alt:1,async:1,autoComplete:1,autoFocus:1,autoPlay:1,cellPadding:1,cellSpacing:1,challenge:1,charset:1,checked:1,cite:1,class:1,className:1,cols:1,colSpan:1,command:1,content:1,contentEditable:1,contextMenu:1,controls:1,coords:1,crossOrigin:1,data:1,dateTime:1,default:1,defer:1,dir:1,disabled:1,download:1,draggable:1,dropzone:1,encType:1,for:1,form:1,formAction:1,formEncType:1,formMethod:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:1,height:1,hidden:1,high:1,href:1,hrefLang:1,htmlFor:1,httpEquiv:1,icon:1,id:1,inputMode:1,isMap:1,itemId:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,kind:1,label:1,lang:1,list:1,loop:1,manifest:1,max:1,maxLength:1,media:1,mediaGroup:1,method:1,min:1,minLength:1,multiple:1,muted:1,name:1,noValidate:1,open:1,optimum:1,pattern:1,ping:1,placeholder:1,poster:1,preload:1,radioGroup:1,readOnly:1,rel:1,required:1,role:1,rows:1,rowSpan:1,sandbox:1,scope:1,scoped:1,scrolling:1,seamless:1,selected:1,shape:1,size:1,sizes:1,sortable:1,span:1,spellCheck:1,src:1,srcDoc:1,srcSet:1,start:1,step:1,style:1,tabIndex:1,target:1,title:1,translate:1,type:1,typeMustMatch:1,useMap:1,value:1,width:1,wmode:1,wrap:1,onCopy:1,onCut:1,onPaste:1,onLoad:1,onError:1,onWheel:1,onScroll:1,onCompositionEnd:1,onCompositionStart:1,onCompositionUpdate:1,onKeyDown:1,onKeyPress:1,onKeyUp:1,onFocus:1,onBlur:1,onChange:1,onInput:1,onSubmit:1,onClick:1,onContextMenu:1,onDoubleClick:1,onDrag:1,onDragEnd:1,onDragEnter:1,onDragExit:1,onDragLeave:1,onDragOver:1,onDragStart:1,onDrop:1,onMouseDown:1,onMouseEnter:1,onMouseLeave:1,onMouseMove:1,onMouseOut:1,onMouseOver:1,onMouseUp:1,onSelect:1,onTouchCancel:1,onTouchEnd:1,onTouchMove:1,onTouchStart:1,onAnimationStart:1,onAnimationEnd:1,onAnimationIteration:1,onTransitionEnd:1},i=/^((data|aria)-.*)$/},4383:function(e,t,n){"use strict";var i=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prototype,n=t.UNSAFE_componentWillUpdate,i=t.componentDidUpdate,a=null;t.UNSAFE_componentWillUpdate=function(e,t){if(n&&n.apply(this,arguments),null==a||a!==document.activeElement)try{var i=r.default.findDOMNode(this);a=i.parentNode.querySelector("."+o)}catch(e){}},t.componentDidUpdate=function(e,t){i&&i.apply(this,arguments);try{var n=r.default.findDOMNode(this);!a||document.activeElement!==a&&!n.contains(document.activeElement)||a.classList.contains(o)||(document.activeElement.classList.add(o),a=null)}catch(e){}}},t.FOCUS_RING_CLASSNAME=void 0;i(n(5466));var r=i(n(6116)),o="focus-ring";t.FOCUS_RING_CLASSNAME=o},7873:function(e,t,n){"use strict";var i=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),t.cloneIcon=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;if("string"==typeof e)throw new Error("String icon names are deprecated. Pass icons by importing them from react-spectrum/Icon/IconName and render as <IconName />.");var n=t.className,i=t.size,a=t["aria-label"],s=t["aria-hidden"],c=t.alt,l=void 0===c?a||e.props["aria-label"]||e.props.alt:c;return o.default.cloneElement(e,{className:(0,r.default)(n,e.props.className),size:e.props.size||i,"aria-label":a||l,alt:l,"aria-hidden":s||!l||e.props["aria-hidden"]})};var r=i(n(8098)),o=i(n(5466))},9870:function(e,t,n){"use strict";var i=n(8135);Object.defineProperty(t,"__esModule",{value:!0}),t.setLocale=function(e){a=e},t.getLocale=function(){return a},t.messageFormatter=function(e){var t={};return function(n,i,o){var s=t[n+"."+a];if(!s){var c=(e[a]||e["en-US"])[n];if(!c)throw new Error("Could not find intl message ".concat(n," in ").concat(a," locale"));s=new r.default(c,a,o),t[n]=s}return s.format(i)}},t.defaultLocale=void 0;var r=i(n(2175)),o="undefined"!=typeof navigator&&(navigator.language||navigator.userLanguage)||"en-US";t.defaultLocale=o;var a=o},3770:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t,n){if(t&&t.contains(e)){var i=t.clientHeight,r=t.clientWidth,o=t.scrollTop,a=t.scrollLeft,s=e.offsetHeight,c=e.offsetWidth,l=e.offsetTop,u=e.offsetLeft,f=window.getComputedStyle(t).position,d=t.offsetTop,p=t.offsetLeft;if("static"!==f&&(d=p=0),l<o)t.scrollTop=l;else{var h=l+s;h>o+i&&(t.scrollTop=n?l-d:h-i-d)}if(u<a)t.scrollLeft=u;else{var g=u+c;g>a+r&&(t.scrollLeft=n?u-p:g-r-p)}}}},7574:function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"NFC";return"normalize"in String.prototype&&(e=e.normalize(t)),e}Object.defineProperty(t,"__esModule",{value:!0}),t.isUrl=function(e){return e&&!!e.match(/\/|:|\./g)},t.normalize=n,t.removeDiacritics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"NFD";return n(e,t.replace("C","D")).replace(/[\u0300-\u036f]/g,"")},t.getTextFromReact=function(e){var t="";!function e(n){if("string"==typeof n||"number"==typeof n)t="".concat(t," ").concat(n);else if(Array.isArray(n))n.forEach((function(t){return e(t)}));else if(n&&n.props){var i=n.props.children;Array.isArray(i)?i.forEach((function(t){return e(t)})):e(i)}}(e);return t.trim().replace(/(\s)(?:\s+)/g,"$1")}},3023:function(e,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){var t=void 0;return"undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys?t=Reflect.ownKeys(e.prototype):(t=Object.getOwnPropertyNames(e.prototype),"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e.prototype)))),t.forEach((function(t){if("constructor"!==t){var n=Object.getOwnPropertyDescriptor(e.prototype,t);"function"==typeof n.value&&Object.defineProperty(e.prototype,t,r(e,t,n))}})),e}function r(e,t,i){var r=i.value;if("function"!=typeof r)throw new Error("@autobind decorator can only be applied to methods not: "+n(r));var o=!1;return{configurable:!0,get:function(){if(o||this===e.prototype||this.hasOwnProperty(t))return r;var n=r.bind(this);return o=!0,Object.defineProperty(this,t,{value:n,configurable:!0,writable:!0}),o=!1,n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length?i.apply(void 0,t):r.apply(void 0,t)},e.exports=t.default},9827:function(e,t,n){var i=n(8330),r=n(1040);n(8360);function o(e){return null==e}function a(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).whiteList=e.whiteList||i.whiteList,e.onAttr=e.onAttr||i.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||i.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||i.safeAttrValue,this.options=e}a.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,i=t.onAttr,a=t.onIgnoreAttr,s=t.safeAttrValue;return r(e,(function(e,t,r,c,l){var u=n[r],f=!1;if(!0===u?f=u:"function"==typeof u?f=u(c):u instanceof RegExp&&(f=u.test(c)),!0!==f&&(f=!1),c=s(r,c)){var d,p={position:t,sourcePosition:e,source:l,isWhite:f};return f?o(d=i(r,c,p))?r+":"+c:d:o(d=a(r,c,p))?void 0:d}}))},e.exports=a},8330:function(e,t){function n(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var i=/javascript\s*\:/gim;t.whiteList=n(),t.getDefaultWhiteList=n,t.onAttr=function(e,t,n){},t.onIgnoreAttr=function(e,t,n){},t.safeAttrValue=function(e,t){return i.test(t)?"":t}},3143:function(e,t,n){var i=n(8330),r=n(9827);for(var o in(t=e.exports=function(e,t){return new r(t).process(e)}).FilterCSS=r,i)t[o]=i[o];"undefined"!=typeof window&&(window.filterCSS=e.exports)},1040:function(e,t,n){var i=n(8360);e.exports=function(e,t){";"!==(e=i.trimRight(e))[e.length-1]&&(e+=";");var n=e.length,r=!1,o=0,a=0,s="";function c(){if(!r){var n=i.trim(e.slice(o,a)),c=n.indexOf(":");if(-1!==c){var l=i.trim(n.slice(0,c)),u=i.trim(n.slice(c+1));if(l){var f=t(o,s.length,l,u,n);f&&(s+=f+"; ")}}}o=a+1}for(;a<n;a++){var l=e[a];if("/"===l&&"*"===e[a+1]){var u=e.indexOf("*/",a+2);if(-1===u)break;o=(a=u+1)+1,r=!1}else"("===l?r=!0:")"===l?r=!1:";"===l?r||c():"\n"===l&&c()}return i.trim(s)}},8360:function(e){e.exports={indexOf:function(e,t){var n,i;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var i,r;if(Array.prototype.forEach)return e.forEach(t,n);for(i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},9313:function(e,t,n){"use strict";var i=n(8135);t.__esModule=!0,t.default=function(e){void 0===e&&(e=(0,r.default)());try{return e.activeElement}catch(e){}};var r=i(n(1393));e.exports=t.default},2325:function(e,t,n){"use strict";var i=n(8135);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,r.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var r=i(n(1310));e.exports=t.default},1310:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},5137:function(e,t,n){"use strict";var i=n(8135);t.__esModule=!0,t.default=void 0;var r=i(n(2325));t.addClass=r.default;var o=i(n(8657));t.removeClass=o.default;var a=i(n(1310));t.hasClass=a.default;var s={addClass:r.default,removeClass:o.default,hasClass:a.default};t.default=s},8657:function(e){"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,n){e.classList?e.classList.remove(n):"string"==typeof e.className?e.className=t(e.className,n):e.setAttribute("class",t(e.className&&e.className.baseVal||"",n))}},8557:function(e,t,n){"use strict";var i=n(8135);t.__esModule=!0,t.default=void 0;var r=function(){};i(n(955)).default&&(r=document.addEventListener?function(e,t,n,i){return e.removeEventListener(t,n,i||!1)}:document.attachEvent?function(e,t,n){return e.detachEvent("on"+t,n)}:void 0);var o=r;t.default=o,e.exports=t.default},2810:function(e,t,n){"use strict";var i=n(8135);t.__esModule=!0,t.default=void 0;var r=function(){};i(n(955)).default&&(r=document.addEventListener?function(e,t,n,i){return e.addEventListener(t,n,i||!1)}:document.attachEvent?function(e,t,n){return e.attachEvent("on"+t,(function(t){(t=t||window.event).target=t.target||t.srcElement,t.currentTarget=e,n.call(e,t)}))}:void 0);var o=r;t.default=o,e.exports=t.default},1393:function(e,t){"use strict";t.__esModule=!0,t.default=function(e){return e&&e.ownerDocument||document},e.exports=t.default},27:function(e,t,n){"use strict";var i=n(8135);t.__esModule=!0,t.default=function(e,t,n){for(;e&&(o(e)||!(0,r.default)(e,t));)e=e===n||o(e)?void 0:e.parentNode;return e};var r=i(n(4508)),o=function(e){return null!=e&&e.nodeType===e.DOCUMENT_NODE};e.exports=t.default},1038:function(e,t,n){"use strict";var i=n(8135);t.__esModule=!0,t.default=void 0;var r=i(n(955)).default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):o(e,t)}:o;function o(e,t){if(t)do{if(t===e)return!0}while(t=t.parentNode);return!1}t.default=r,e.exports=t.default},6139:function(e,t){"use strict";t.__esModule=!0,t.default=function(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)},e.exports=t.default},4508:function(e,t,n){"use strict";var i=n(8135);t.__esModule=!0,t.default=function(e,t){if(!r&&o.default){var n=document.body,i=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;r=i?function(e,t){return i.call(e,t)}:s}return r?r(e,t):null};var r,o=i(n(955)),a=i(n(9441));function s(e,t){for(var n=(0,a.default)(e.document||e.ownerDocument,t),i=0;n[i]&&n[i]!==e;)i++;return!!n[i]}e.exports=t.default},4769:function(e,t,n){"use strict";var i=n(8135);t.__esModule=!0,t.default=function(e){var t=(0,a.default)(e),n=(0,o.default)(t),i=t&&t.documentElement,s={top:0,left:0,height:0,width:0};if(!t)return;if(!(0,r.default)(i,e))return s;void 0!==e.getBoundingClientRect&&(s=e.getBoundingClientRect());return s={top:s.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:s.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0),width:(null==s.width?e.offsetWidth:s.width)||0,height:(null==s.height?e.offsetHeight:s.height)||0}};var r=i(n(1038)),o=i(n(6139)),a=i(n(1393));e.exports=t.default},7664:function(e,t,n){"use strict";var i=n(8135);t.__esModule=!0,t.default=function(e){var t=(0,r.default)(e),n=e&&e.offsetParent;for(;n&&"html"!==a(e)&&"static"===(0,o.default)(n,"position");)n=n.offsetParent;return n||t.documentElement};var r=i(n(1393)),o=i(n(1284));function a(e){return e.nodeName&&e.nodeName.toLowerCase()}e.exports=t.default},546:function(e,t,n){"use strict";var i=n(8135);t.__esModule=!0,t.default=function(e,t){var n,i={top:0,left:0};"fixed"===(0,l.default)(e,"position")?n=e.getBoundingClientRect():(t=t||(0,a.default)(e),n=(0,o.default)(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(t)&&(i=(0,o.default)(t)),i.top+=parseInt((0,l.default)(t,"borderTopWidth"),10)-(0,s.default)(t)||0,i.left+=parseInt((0,l.default)(t,"borderLeftWidth"),10)-(0,c.default)(t)||0);return(0,r.default)({},n,{top:n.top-i.top-(parseInt((0,l.default)(e,"marginTop"),10)||0),left:n.left-i.left-(parseInt((0,l.default)(e,"marginLeft"),10)||0)})};var r=i(n(9894)),o=i(n(4769)),a=i(n(7664)),s=i(n(7737)),c=i(n(776)),l=i(n(1284));e.exports=t.default},9441:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){var r,o="#"===t[0],a="."===t[0],s=o||a?t.slice(1):t;if(n.test(s))return o?(r=(e=e.getElementById?e:document).getElementById(s))?[r]:[]:e.getElementsByClassName&&a?i(e.getElementsByClassName(s)):i(e.getElementsByTagName(t));return i(e.querySelectorAll(t))};var n=/^[\w-]*$/,i=Function.prototype.bind.call(Function.prototype.call,[].slice);e.exports=t.default},776:function(e,t,n){"use strict";var i=n(8135);t.__esModule=!0,t.default=function(e,t){var n=(0,r.default)(e);if(void 0===t)return n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:e.scrollLeft;n?n.scrollTo(t,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):e.scrollLeft=t};var r=i(n(6139));e.exports=t.default},7737:function(e,t,n){"use strict";var i=n(8135);t.__esModule=!0,t.default=function(e,t){var n=(0,r.default)(e);if(void 0===t)return n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:e.scrollTop;n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,t):e.scrollTop=t};var r=i(n(6139));e.exports=t.default},7686:function(e,t,n){"use strict";var i=n(8135);t.__esModule=!0,t.default=function(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(t){var n=e.style;"float"==(t=(0,r.default)(t))&&(t="styleFloat");var i=e.currentStyle[t]||null;if(null==i&&n&&n[t]&&(i=n[t]),a.test(i)&&!o.test(t)){var s=n.left,c=e.runtimeStyle,l=c&&c.left;l&&(c.left=e.currentStyle.left),n.left="fontSize"===t?"1em":i,i=n.pixelLeft+"px",n.left=s,l&&(c.left=l)}return i}}};var r=i(n(7684)),o=/^(top|right|bottom|left)$/,a=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;e.exports=t.default},1284:function(e,t,n){"use strict";var i=n(8135);t.__esModule=!0,t.default=function(e,t,n){var i="",u="",f=t;if("string"==typeof t){if(void 0===n)return e.style[(0,r.default)(t)]||(0,a.default)(e).getPropertyValue((0,o.default)(t));(f={})[t]=n}Object.keys(f).forEach((function(t){var n=f[t];n||0===n?(0,l.default)(t)?u+=t+"("+n+") ":i+=(0,o.default)(t)+": "+n+";":(0,s.default)(e,(0,o.default)(t))})),u&&(i+=c.transform+": "+u+";");e.style.cssText+=";"+i};var r=i(n(7684)),o=i(n(3791)),a=i(n(7686)),s=i(n(9476)),c=n(2450),l=i(n(6249));e.exports=t.default},9476:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)},e.exports=t.default},6249:function(e,t){"use strict";t.__esModule=!0,t.default=function(e){return!(!e||!n.test(e))};var n=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.exports=t.default},2450:function(e,t,n){"use strict";var i=n(8135);t.__esModule=!0,t.default=t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r,o,a,s,c,l,u,f,d,p,h,g=i(n(955)),m="transform";if(t.transform=m,t.animationEnd=a,t.transitionEnd=o,t.transitionDelay=u,t.transitionTiming=l,t.transitionDuration=c,t.transitionProperty=s,t.animationDelay=h,t.animationTiming=p,t.animationDuration=d,t.animationName=f,g.default){var v=function(){for(var e,t,n=document.createElement("div").style,i={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},r=Object.keys(i),o="",a=0;a<r.length;a++){var s=r[a];if(s+"TransitionProperty"in n){o="-"+s.toLowerCase(),e=i[s]("TransitionEnd"),t=i[s]("AnimationEnd");break}}!e&&"transitionProperty"in n&&(e="transitionend");!t&&"animationName"in n&&(t="animationend");return n=null,{animationEnd:t,transitionEnd:e,prefix:o}}();r=v.prefix,t.transitionEnd=o=v.transitionEnd,t.animationEnd=a=v.animationEnd,t.transform=m=r+"-"+m,t.transitionProperty=s=r+"-transition-property",t.transitionDuration=c=r+"-transition-duration",t.transitionDelay=u=r+"-transition-delay",t.transitionTiming=l=r+"-transition-timing-function",t.animationName=f=r+"-animation-name",t.animationDuration=d=r+"-animation-duration",t.animationTiming=p=r+"-animation-delay",t.animationDelay=h=r+"-animation-timing-function"}var y={transform:m,end:o,property:s,timing:l,delay:u,duration:c};t.default=y},2719:function(e,t){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(n,(function(e,t){return t.toUpperCase()}))};var n=/-(.)/g;e.exports=t.default},7684:function(e,t,n){"use strict";var i=n(8135);t.__esModule=!0,t.default=function(e){return(0,r.default)(e.replace(o,"ms-"))};var r=i(n(2719)),o=/^-ms-/;e.exports=t.default},5723:function(e,t){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(n,"-$1").toLowerCase()};var n=/([A-Z])/g;e.exports=t.default},3791:function(e,t,n){"use strict";var i=n(8135);t.__esModule=!0,t.default=function(e){return(0,r.default)(e).replace(o,"-ms-")};var r=i(n(5723)),o=/^ms-/;e.exports=t.default},955:function(e,t){"use strict";t.__esModule=!0,t.default=void 0;var n=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=n,e.exports=t.default},9011:function(e,t,n){"use strict";var i=n(8135);t.__esModule=!0,t.default=function(e){if((!r&&0!==r||e)&&o.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),r=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return r};var r,o=i(n(955));e.exports=t.default},9958:function(e,t,n){"use strict";var i=n(9844),r=n(7025),o=n(3050);e.exports={XMLParser:r,XMLValidator:i,XMLBuilder:o}},7177:function(e){function t(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==i.return||i.return()}finally{if(c)throw a}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}e.exports=function(e){return"function"==typeof e?e:Array.isArray(e)?function(n){var i,r=t(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;if("string"==typeof o&&n===o)return!0;if(o instanceof RegExp&&o.test(n))return!0}}catch(e){r.e(e)}finally{r.f()}}:function(){return!1}}},9472:function(e,t){"use strict";var n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",i="["+n+"]["+(n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040")+"]*",r=new RegExp("^"+i+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t)for(var i=Object.keys(t),r=i.length,o=0;o<r;o++)e[i[o]]="strict"===n?[t[i[o]]]:t[i[o]]},t.getValue=function(e){return t.isExist(e)?e:""},t.isName=function(e){var t=r.exec(e);return!(null==t)},t.getAllMatches=function(e,t){for(var n=[],i=t.exec(e);i;){var r=[];r.startIndex=t.lastIndex-i[0].length;for(var o=i.length,a=0;a<o;a++)r.push(i[a]);n.push(r),i=t.exec(e)}return n},t.nameRegexp=i},9844:function(e,t,n){"use strict";function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i.apply(this,arguments)}var r=n(9472),o={allowBooleanAttributes:!1,unpairedTags:[]};function a(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function s(e,t){for(var n=t;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{var i=e.substr(n,t-n);if(t>5&&"xml"===i)return g("InvalidXml","XML declaration allowed only at the start of the document.",v(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function c(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){var n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&0===--n)break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}t.validate=function(e,t){t=i({},o,t);var n,l=[],u=!1,d=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(var m=0;m<e.length;m++)if("<"===e[m]&&"?"===e[m+1]){if((m=s(e,m+=2)).err)return m}else{if("<"!==e[m]){if(a(e[m]))continue;return g("InvalidChar","char '"+e[m]+"' is not expected.",v(e,m))}var y=m;if("!"===e[++m]){m=c(e,m);continue}var b=!1;"/"===e[m]&&(b=!0,m++);for(var _="";m<e.length&&">"!==e[m]&&" "!==e[m]&&"\t"!==e[m]&&"\n"!==e[m]&&"\r"!==e[m];m++)_+=e[m];if("/"===(_=_.trim())[_.length-1]&&(_=_.substring(0,_.length-1),m--),n=_,!r.isName(n)){return g("InvalidTag",0===_.trim().length?"Invalid space after '<'.":"Tag '"+_+"' is an invalid name.",v(e,m))}var C=f(e,m);if(!1===C)return g("InvalidAttr","Attributes for '"+_+"' have open quote.",v(e,m));var E=C.value;if(m=C.index,"/"===E[E.length-1]){var S=m-E.length,N=p(E=E.substring(0,E.length-1),t);if(!0!==N)return g(N.err.code,N.err.msg,v(e,S+N.err.line));u=!0}else if(b){if(!C.tagClosed)return g("InvalidTag","Closing tag '"+_+"' doesn't have proper closing.",v(e,m));if(E.trim().length>0)return g("InvalidTag","Closing tag '"+_+"' can't have attributes or invalid starting.",v(e,y));if(0===l.length)return g("InvalidTag","Closing tag '"+_+"' has not been opened.",v(e,y));var O=l.pop();if(_!==O.tagName){var T=v(e,O.tagStartPos);return g("InvalidTag","Expected closing tag '"+O.tagName+"' (opened in line "+T.line+", col "+T.col+") instead of closing tag '"+_+"'.",v(e,y))}0==l.length&&(d=!0)}else{var I=p(E,t);if(!0!==I)return g(I.err.code,I.err.msg,v(e,m-E.length+I.err.line));if(!0===d)return g("InvalidXml","Multiple possible root nodes found.",v(e,m));-1!==t.unpairedTags.indexOf(_)||l.push({tagName:_,tagStartPos:y}),u=!0}for(m++;m<e.length;m++)if("<"===e[m]){if("!"===e[m+1]){m=c(e,++m);continue}if("?"!==e[m+1])break;if((m=s(e,++m)).err)return m}else if("&"===e[m]){var w=h(e,m);if(-1==w)return g("InvalidChar","char '&' is not expected.",v(e,m));m=w}else if(!0===d&&!a(e[m]))return g("InvalidXml","Extra text at the end",v(e,m));"<"===e[m]&&m--}return u?1==l.length?g("InvalidTag","Unclosed tag '"+l[0].tagName+"'.",v(e,l[0].tagStartPos)):!(l.length>0)||g("InvalidXml","Invalid '"+JSON.stringify(l.map((function(e){return e.tagName})),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):g("InvalidXml","Start tag expected.",1)};var l='"',u="'";function f(e,t){for(var n="",i="",r=!1;t<e.length;t++){if(e[t]===l||e[t]===u)""===i?i=e[t]:i!==e[t]||(i="");else if(">"===e[t]&&""===i){r=!0;break}n+=e[t]}return""===i&&{value:n,index:t,tagClosed:r}}var d=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function p(e,t){for(var n=r.getAllMatches(e,d),i={},o=0;o<n.length;o++){if(0===n[o][1].length)return g("InvalidAttr","Attribute '"+n[o][2]+"' has no space in starting.",y(n[o]));if(void 0!==n[o][3]&&void 0===n[o][4])return g("InvalidAttr","Attribute '"+n[o][2]+"' is without value.",y(n[o]));if(void 0===n[o][3]&&!t.allowBooleanAttributes)return g("InvalidAttr","boolean attribute '"+n[o][2]+"' is not allowed.",y(n[o]));var a=n[o][2];if(!m(a))return g("InvalidAttr","Attribute '"+a+"' is an invalid name.",y(n[o]));if(i.hasOwnProperty(a))return g("InvalidAttr","Attribute '"+a+"' is repeated.",y(n[o]));i[a]=1}return!0}function h(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){var n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);for(var n=0;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function g(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function m(e){return r.isName(e)}function v(e,t){var n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function y(e){return e.startIndex+e[1].length}},3050:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t,n){var r;return r=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==i(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o.apply(this,arguments)}var a=n(8638),s=n(7177),c={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function l(e){this.options=o({},c,e),!0===this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=s(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=d),this.processTextOrObjNode=u,this.options.format?(this.indentate=f,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function u(e,t,n,i){var r=this.j2x(e,n+1,i.concat(t));return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,r.attrStr,n):this.buildObjectNode(r.val,t,r.attrStr,n)}function f(e){return this.options.indentBy.repeat(e)}function d(e){return!(!e.startsWith(this.options.attributeNamePrefix)||e===this.options.textNodeName)&&e.substr(this.attrPrefixLen)}l.prototype.build=function(e){return this.options.preserveOrder?a(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e=r({},this.options.arrayNodeName,e)),this.j2x(e,0,[]).val)},l.prototype.j2x=function(e,t,n){var r="",o="",a=n.join(".");for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s))if(void 0===e[s])this.isAttribute(s)&&(o+="");else if(null===e[s])this.isAttribute(s)?o+="":"?"===s[0]?o+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:o+=this.indentate(t)+"<"+s+"/"+this.tagEndChar;else if(e[s]instanceof Date)o+=this.buildTextValNode(e[s],s,"",t);else if("object"!==i(e[s])){var c=this.isAttribute(s);if(c&&!this.ignoreAttributesFn(c,a))r+=this.buildAttrPairStr(c,""+e[s]);else if(!c)if(s===this.options.textNodeName){var l=this.options.tagValueProcessor(s,""+e[s]);o+=this.replaceEntitiesValue(l)}else o+=this.buildTextValNode(e[s],s,"",t)}else if(Array.isArray(e[s])){for(var u=e[s].length,f="",d="",p=0;p<u;p++){var h=e[s][p];if(void 0===h);else if(null===h)"?"===s[0]?o+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:o+=this.indentate(t)+"<"+s+"/"+this.tagEndChar;else if("object"===i(h))if(this.options.oneListGroup){var g=this.j2x(h,t+1,n.concat(s));f+=g.val,this.options.attributesGroupName&&h.hasOwnProperty(this.options.attributesGroupName)&&(d+=g.attrStr)}else f+=this.processTextOrObjNode(h,s,t,n);else if(this.options.oneListGroup){var m=this.options.tagValueProcessor(s,h);f+=m=this.replaceEntitiesValue(m)}else f+=this.buildTextValNode(h,s,"",t)}this.options.oneListGroup&&(f=this.buildObjectNode(f,s,d,t)),o+=f}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName)for(var v=Object.keys(e[s]),y=v.length,b=0;b<y;b++)r+=this.buildAttrPairStr(v[b],""+e[s][v[b]]);else o+=this.processTextOrObjNode(e[s],s,t,n);return{attrStr:r,val:o}},l.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'},l.prototype.buildObjectNode=function(e,t,n,i){if(""===e)return"?"===t[0]?this.indentate(i)+"<"+t+n+"?"+this.tagEndChar:this.indentate(i)+"<"+t+n+this.closeTag(t)+this.tagEndChar;var r="</"+t+this.tagEndChar,o="";return"?"===t[0]&&(o="?",r=""),!n&&""!==n||-1!==e.indexOf("<")?!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===o.length?this.indentate(i)+"\x3c!--".concat(e,"--\x3e")+this.newLine:this.indentate(i)+"<"+t+n+o+this.tagEndChar+e+this.indentate(i)+r:this.indentate(i)+"<"+t+n+o+">"+e+r},l.prototype.closeTag=function(e){var t="";return-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":"></".concat(e),t},l.prototype.buildTextValNode=function(e,t,n,i){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(i)+"<![CDATA[".concat(e,"]]>")+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(i)+"\x3c!--".concat(e,"--\x3e")+this.newLine;if("?"===t[0])return this.indentate(i)+"<"+t+n+"?"+this.tagEndChar;var r=this.options.tagValueProcessor(t,e);return""===(r=this.replaceEntitiesValue(r))?this.indentate(i)+"<"+t+n+this.closeTag(t)+this.tagEndChar:this.indentate(i)+"<"+t+n+">"+r+"</"+t+this.tagEndChar},l.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(var t=0;t<this.options.entities.length;t++){var n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e},e.exports=l},8638:function(e){function t(e,a,s,c){for(var l="",u=!1,f=0;f<e.length;f++){var d=e[f],p=n(d);if(void 0!==p){var h="";if(h=0===s.length?p:"".concat(s,".").concat(p),p!==a.textNodeName)if(p!==a.cdataPropName)if(p!==a.commentPropName)if("?"!==p[0]){var g=c;""!==g&&(g+=a.indentBy);var m=i(d[":@"],a),v=c+"<".concat(p).concat(m),y=t(d[p],a,h,g);-1!==a.unpairedTags.indexOf(p)?a.suppressUnpairedNode?l+=v+">":l+=v+"/>":y&&0!==y.length||!a.suppressEmptyNode?y&&y.endsWith(">")?l+=v+">".concat(y).concat(c,"</").concat(p,">"):(l+=v+">",y&&""!==c&&(y.includes("/>")||y.includes("</"))?l+=c+a.indentBy+y+c:l+=y,l+="</".concat(p,">")):l+=v+"/>",u=!0}else{var b=i(d[":@"],a),_="?xml"===p?"":c,C=d[p][0][a.textNodeName];C=0!==C.length?" "+C:"",l+=_+"<".concat(p).concat(C).concat(b,"?>"),u=!0}else l+=c+"\x3c!--".concat(d[p][0][a.textNodeName],"--\x3e"),u=!0;else u&&(l+=c),l+="<![CDATA[".concat(d[p][0][a.textNodeName],"]]>"),u=!1;else{var E=d[p];r(h,a)||(E=o(E=a.tagValueProcessor(p,E),a)),u&&(l+=c),l+=E,u=!1}}}return l}function n(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var i=t[n];if(e.hasOwnProperty(i)&&":@"!==i)return i}}function i(e,t){var n="";if(e&&!t.ignoreAttributes)for(var i in e)if(e.hasOwnProperty(i)){var r=t.attributeValueProcessor(i,e[i]);!0===(r=o(r,t))&&t.suppressBooleanAttributes?n+=" ".concat(i.substr(t.attributeNamePrefix.length)):n+=" ".concat(i.substr(t.attributeNamePrefix.length),'="').concat(r,'"')}return n}function r(e,t){var n=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(var i in t.stopNodes)if(t.stopNodes[i]===e||t.stopNodes[i]==="*."+n)return!0;return!1}function o(e,t){if(e&&e.length>0&&t.processEntities)for(var n=0;n<t.entities.length;n++){var i=t.entities[n];e=e.replace(i.regex,i.val)}return e}e.exports=function(e,n){var i="";return n.format&&n.indentBy.length>0&&(i="\n"),t(e,n,"",i)}},5373:function(e,t,n){function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var o=n(9472);function a(e,t){for(var n="";t<e.length&&"'"!==e[t]&&'"'!==e[t];t++)n+=e[t];if(-1!==(n=n.trim()).indexOf(" "))throw new Error("External entites are not supported");for(var i=e[t++],r="";t<e.length&&e[t]!==i;t++)r+=e[t];return[n,r,t]}function s(e,t){return"!"===e[t+1]&&"-"===e[t+2]&&"-"===e[t+3]}function c(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7]}function l(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8]}function u(e,t){return"!"===e[t+1]&&"A"===e[t+2]&&"T"===e[t+3]&&"T"===e[t+4]&&"L"===e[t+5]&&"I"===e[t+6]&&"S"===e[t+7]&&"T"===e[t+8]}function f(e,t){return"!"===e[t+1]&&"N"===e[t+2]&&"O"===e[t+3]&&"T"===e[t+4]&&"A"===e[t+5]&&"T"===e[t+6]&&"I"===e[t+7]&&"O"===e[t+8]&&"N"===e[t+9]}function d(e){if(o.isName(e))return e;throw new Error("Invalid entity name ".concat(e))}e.exports=function(e,t){var n={};if("O"!==e[t+3]||"C"!==e[t+4]||"T"!==e[t+5]||"Y"!==e[t+6]||"P"!==e[t+7]||"E"!==e[t+8])throw new Error("Invalid Tag instead of DOCTYPE");t+=9;for(var r=1,o=!1,p=!1;t<e.length;t++)if("<"!==e[t]||p)if(">"===e[t]){if(p?"-"===e[t-1]&&"-"===e[t-2]&&(p=!1,r--):r--,0===r)break}else"["===e[t]?o=!0:e[t];else{if(o&&c(e,t)){var h=i(a(e,(t+=7)+1),3);entityName=h[0],val=h[1],t=h[2],-1===val.indexOf("&")&&(n[d(entityName)]={regx:RegExp("&".concat(entityName,";"),"g"),val:val})}else if(o&&l(e,t))t+=8;else if(o&&u(e,t))t+=8;else if(o&&f(e,t))t+=9;else{if(!s)throw new Error("Invalid DOCTYPE");p=!0}r++,""}if(0!==r)throw new Error("Unclosed DOCTYPE");return{entities:n,i:t}}},5166:function(e,t){function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n.apply(this,arguments)}var i={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:function(){return!1},commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e}};t.buildOptions=function(e){return n({},i,e)},t.defaultOptions=i},9657:function(e,t,n){"use strict";function i(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}var c=n(9472),l=n(1750),u=n(5373),f=n(807),d=n(7177),p=a((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:function(e,t){return String.fromCharCode(Number.parseInt(t,10))}},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:function(e,t){return String.fromCharCode(Number.parseInt(t,16))}}},this.addExternalEntities=h,this.parseXml=b,this.parseTextData=g,this.resolveNameSpace=m,this.buildAttributesMap=y,this.isItStopNode=S,this.replaceEntitiesValue=C,this.readStopNodeData=T,this.saveTextToParentTag=E,this.addChild=_,this.ignoreAttributesFn=d(this.options.ignoreAttributes)}));function h(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var i=t[n];this.lastEntities[i]={regex:new RegExp("&"+i+";","g"),val:e[i]}}}function g(e,t,n,i,o,a,s){if(void 0!==e&&(this.options.trimValues&&!i&&(e=e.trim()),e.length>0)){s||(e=this.replaceEntitiesValue(e));var c=this.options.tagValueProcessor(t,e,n,o,a);return null==c?e:r(c)!==r(e)||c!==e?c:this.options.trimValues||e.trim()===e?I(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function m(e){if(this.options.removeNSPrefix){var t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}var v=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function y(e,t,n){if(!0!==this.options.ignoreAttributes&&"string"==typeof e){for(var i=c.getAllMatches(e,v),o=i.length,a={},s=0;s<o;s++){var l=this.resolveNameSpace(i[s][1]);if(!this.ignoreAttributesFn(l,t)){var u=i[s][4],f=this.options.attributeNamePrefix+l;if(l.length)if(this.options.transformAttributeName&&(f=this.options.transformAttributeName(f)),"__proto__"===f&&(f="#__proto__"),void 0!==u){this.options.trimValues&&(u=u.trim()),u=this.replaceEntitiesValue(u);var d=this.options.attributeValueProcessor(l,u,t);null==d?a[f]=u:r(d)!==r(u)||d!==u?a[f]=d:a[f]=I(u,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(a[f]=!0)}}if(!Object.keys(a).length)return;if(this.options.attributesGroupName){var p={};return p[this.options.attributesGroupName]=a,p}return a}}var b=function(e){e=e.replace(/\r\n?/g,"\n");for(var t=new l("!xml"),n=t,r="",o="",a=0;a<e.length;a++){if("<"===e[a])if("/"===e[a+1]){var s=N(e,">",a,"Closing Tag is not closed."),c=e.substring(a+2,s).trim();if(this.options.removeNSPrefix){var f=c.indexOf(":");-1!==f&&(c=c.substr(f+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&(r=this.saveTextToParentTag(r,n,o));var d=o.substring(o.lastIndexOf(".")+1);if(c&&-1!==this.options.unpairedTags.indexOf(c))throw new Error("Unpaired tag can not be used as closing tag: </".concat(c,">"));var p=0;d&&-1!==this.options.unpairedTags.indexOf(d)?(p=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=o.lastIndexOf("."),o=o.substring(0,p),n=this.tagsNodeStack.pop(),r="",a=s}else if("?"===e[a+1]){var h=O(e,a,!1,"?>");if(!h)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,o),this.options.ignoreDeclaration&&"?xml"===h.tagName||this.options.ignorePiTags);else{var g=new l(h.tagName);g.add(this.options.textNodeName,""),h.tagName!==h.tagExp&&h.attrExpPresent&&(g[":@"]=this.buildAttributesMap(h.tagExp,o,h.tagName)),this.addChild(n,g,o)}a=h.closeIndex+1}else if("!--"===e.substr(a+1,3)){var m=N(e,"--\x3e",a+4,"Comment is not closed.");if(this.options.commentPropName){var v=e.substring(a+4,m-2);r=this.saveTextToParentTag(r,n,o),n.add(this.options.commentPropName,[i({},this.options.textNodeName,v)])}a=m}else if("!D"===e.substr(a+1,2)){var y=u(e,a);this.docTypeEntities=y.entities,a=y.i}else if("!["===e.substr(a+1,2)){var b=N(e,"]]>",a,"CDATA is not closed.")-2,_=e.substring(a+9,b);r=this.saveTextToParentTag(r,n,o);var C=this.parseTextData(_,n.tagname,o,!0,!1,!0,!0);null==C&&(C=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[i({},this.options.textNodeName,_)]):n.add(this.options.textNodeName,C),a=b+2}else{var E=O(e,a,this.options.removeNSPrefix),S=E.tagName,T=E.rawTagName,I=E.tagExp,w=E.attrExpPresent,A=E.closeIndex;this.options.transformTagName&&(S=this.options.transformTagName(S)),n&&r&&"!xml"!==n.tagname&&(r=this.saveTextToParentTag(r,n,o,!1));var k=n;if(k&&-1!==this.options.unpairedTags.indexOf(k.tagname)&&(n=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),S!==t.tagname&&(o+=o?"."+S:S),this.isItStopNode(this.options.stopNodes,o,S)){var D="";if(I.length>0&&I.lastIndexOf("/")===I.length-1)"/"===S[S.length-1]?(S=S.substr(0,S.length-1),o=o.substr(0,o.length-1),I=S):I=I.substr(0,I.length-1),a=E.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(S))a=E.closeIndex;else{var P=this.readStopNodeData(e,T,A+1);if(!P)throw new Error("Unexpected end of ".concat(T));a=P.i,D=P.tagContent}var R=new l(S);S!==I&&w&&(R[":@"]=this.buildAttributesMap(I,o,S)),D&&(D=this.parseTextData(D,S,o,!0,w,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),R.add(this.options.textNodeName,D),this.addChild(n,R,o)}else{if(I.length>0&&I.lastIndexOf("/")===I.length-1){"/"===S[S.length-1]?(S=S.substr(0,S.length-1),o=o.substr(0,o.length-1),I=S):I=I.substr(0,I.length-1),this.options.transformTagName&&(S=this.options.transformTagName(S));var x=new l(S);S!==I&&w&&(x[":@"]=this.buildAttributesMap(I,o,S)),this.addChild(n,x,o),o=o.substr(0,o.lastIndexOf("."))}else{var F=new l(S);this.tagsNodeStack.push(n),S!==I&&w&&(F[":@"]=this.buildAttributesMap(I,o,S)),this.addChild(n,F,o),n=F}r="",a=A}}else r+=e[a]}return t.child};function _(e,t,n){var i=this.options.updateTag(t.tagname,n,t[":@"]);!1===i||("string"==typeof i?(t.tagname=i,e.addChild(t)):e.addChild(t))}var C=function(e){if(this.options.processEntities){for(var t in this.docTypeEntities){var n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(var i in this.lastEntities){var r=this.lastEntities[i];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(var o in this.htmlEntities){var a=this.htmlEntities[o];e=e.replace(a.regex,a.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function E(e,t,n,i){return e&&(void 0===i&&(i=0===Object.keys(t.child).length),void 0!==(e=this.parseTextData(e,t.tagname,n,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,i))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function S(e,t,n){var i="*."+n;for(var r in e){var o=e[r];if(i===o||t===o)return!0}return!1}function N(e,t,n,i){var r=e.indexOf(t,n);if(-1===r)throw new Error(i);return r+t.length-1}function O(e,t,n){var i=function(e,t){for(var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:">",r="",o=t;o<e.length;o++){var a=e[o];if(n)a===n&&(n="");else if('"'===a||"'"===a)n=a;else if(a===i[0]){if(!i[1])return{data:r,index:o};if(e[o+1]===i[1])return{data:r,index:o}}else"\t"===a&&(a=" ");r+=a}}(e,t+1,arguments.length>3&&void 0!==arguments[3]?arguments[3]:">");if(i){var r=i.data,o=i.index,a=r.search(/\s/),s=r,c=!0;-1!==a&&(s=r.substring(0,a),r=r.substring(a+1).trimStart());var l=s;if(n){var u=s.indexOf(":");-1!==u&&(c=(s=s.substr(u+1))!==i.data.substr(u+1))}return{tagName:s,tagExp:r,closeIndex:o,attrExpPresent:c,rawTagName:l}}}function T(e,t,n){for(var i=n,r=1;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){var o=N(e,">",n,"".concat(t," is not closed"));if(e.substring(n+2,o).trim()===t&&0===--r)return{tagContent:e.substring(i,n),i:o};n=o}else if("?"===e[n+1]){n=N(e,"?>",n+1,"StopNode is not closed.")}else if("!--"===e.substr(n+1,3)){n=N(e,"--\x3e",n+3,"StopNode is not closed.")}else if("!["===e.substr(n+1,2)){n=N(e,"]]>",n,"StopNode is not closed.")-2}else{var a=O(e,n,">");if(a)(a&&a.tagName)===t&&"/"!==a.tagExp[a.tagExp.length-1]&&r++,n=a.closeIndex}}function I(e,t,n){if(t&&"string"==typeof e){var i=e.trim();return"true"===i||"false"!==i&&f(e,n)}return c.isExist(e)?e:""}e.exports=p},7025:function(e,t,n){function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,o(i.key),i)}}function o(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:String(t)}var a=n(5166).buildOptions,s=n(9657),c=n(8820).prettify,l=n(9844),u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.externalEntities={},this.options=a(t)}var t,n,i;return t=e,(n=[{key:"parse",value:function(e,t){if("string"==typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});var n=l.validate(e,t);if(!0!==n)throw Error("".concat(n.err.msg,":").concat(n.err.line,":").concat(n.err.col))}var i=new s(this.options);i.addExternalEntities(this.externalEntities);var r=i.parseXml(e);return this.options.preserveOrder||void 0===r?r:c(r,this.options)}},{key:"addEntity",value:function(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=u},8820:function(e,t){"use strict";function n(e,t,a){for(var s,c={},l=0;l<e.length;l++){var u=e[l],f=i(u),d="";if(d=void 0===a?f:a+"."+f,f===t.textNodeName)void 0===s?s=u[f]:s+=""+u[f];else{if(void 0===f)continue;if(u[f]){var p=n(u[f],t,d),h=o(p,t);u[":@"]?r(p,u[":@"],d,t):1!==Object.keys(p).length||void 0===p[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(p).length&&(t.alwaysCreateTextNode?p[t.textNodeName]="":p=""):p=p[t.textNodeName],void 0!==c[f]&&c.hasOwnProperty(f)?(Array.isArray(c[f])||(c[f]=[c[f]]),c[f].push(p)):t.isArray(f,d,h)?c[f]=[p]:c[f]=p}}}return"string"==typeof s?s.length>0&&(c[t.textNodeName]=s):void 0!==s&&(c[t.textNodeName]=s),c}function i(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var i=t[n];if(":@"!==i)return i}}function r(e,t,n,i){if(t)for(var r=Object.keys(t),o=r.length,a=0;a<o;a++){var s=r[a];i.isArray(s,n+"."+s,!0,!0)?e[s]=[t[s]]:e[s]=t[s]}}function o(e,t){var n=t.textNodeName,i=Object.keys(e).length;return 0===i||!(1!==i||!e[n]&&"boolean"!=typeof e[n]&&0!==e[n])}t.prettify=function(e,t){return n(e,t)}},1750:function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}function r(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,n||"default");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:String(n)}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tagname=t,this.child=[],this[":@"]={}}var t,r,o;return t=e,(r=[{key:"add",value:function(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push(n({},e,t))}},{key:"addChild",value:function(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push(n(n({},e.tagname,e.child),":@",e[":@"])):this.child.push(n({},e.tagname,e.child))}}])&&i(t.prototype,r),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=o},9164:function(e,t,n){"use strict";(t=e.exports=n(2885).default).default=t},2885:function(e,t){"use strict";t.default=function(){function e(t,n,i,r){this.message=t,this.expected=n,this.found=i,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:function(t){var n,i=arguments.length>1?arguments[1]:{},r={},o={start:ke},a=ke,s=function(e){return{type:"messageFormatPattern",elements:e,location:Oe()}},c=function(e){var t,n,i,r,o,a="";for(t=0,i=e.length;t<i;t+=1)for(n=0,o=(r=e[t]).length;n<o;n+=1)a+=r[n];return a},l=function(e){return{type:"messageTextElement",value:e,location:Oe()}},u=/^[^ \t\n\r,.+={}#]/,f={type:"class",value:"[^ \\t\\n\\r,.+={}#]",description:"[^ \\t\\n\\r,.+={}#]"},d="{",p={type:"literal",value:"{",description:'"{"'},h=",",g={type:"literal",value:",",description:'","'},m="}",v={type:"literal",value:"}",description:'"}"'},y=function(e,t){return{type:"argumentElement",id:e,format:t&&t[2],location:Oe()}},b="number",_={type:"literal",value:"number",description:'"number"'},C="date",E={type:"literal",value:"date",description:'"date"'},S="time",N={type:"literal",value:"time",description:'"time"'},O=function(e,t){return{type:e+"Format",style:t&&t[2],location:Oe()}},T="plural",I={type:"literal",value:"plural",description:'"plural"'},w=function(e){return{type:e.type,ordinal:!1,offset:e.offset||0,options:e.options,location:Oe()}},A="selectordinal",k={type:"literal",value:"selectordinal",description:'"selectordinal"'},D=function(e){return{type:e.type,ordinal:!0,offset:e.offset||0,options:e.options,location:Oe()}},P="select",R={type:"literal",value:"select",description:'"select"'},x=function(e){return{type:"selectFormat",options:e,location:Oe()}},F="=",L={type:"literal",value:"=",description:'"="'},U=function(e,t){return{type:"optionalFormatPattern",selector:e,value:t,location:Oe()}},M="offset:",j={type:"literal",value:"offset:",description:'"offset:"'},W=function(e){return e},H=function(e,t){return{type:"pluralFormat",offset:e,options:t,location:Oe()}},q={type:"other",description:"whitespace"},V=/^[ \t\n\r]/,B={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},G={type:"other",description:"optionalWhitespace"},z=/^[0-9]/,K={type:"class",value:"[0-9]",description:"[0-9]"},Y=/^[0-9a-f]/i,X={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},J="0",$={type:"literal",value:"0",description:'"0"'},Q=/^[1-9]/,Z={type:"class",value:"[1-9]",description:"[1-9]"},ee=function(e){return parseInt(e,10)},te=/^[^{}\\\0-\x1F \t\n\r]/,ne={type:"class",value:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]"},ie="\\\\",re={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},oe=function(){return"\\"},ae="\\#",se={type:"literal",value:"\\#",description:'"\\\\#"'},ce=function(){return"\\#"},le="\\{",ue={type:"literal",value:"\\{",description:'"\\\\{"'},fe=function(){return"{"},de="\\}",pe={type:"literal",value:"\\}",description:'"\\\\}"'},he=function(){return"}"},ge="\\u",me={type:"literal",value:"\\u",description:'"\\\\u"'},ve=function(e){return String.fromCharCode(parseInt(e,16))},ye=function(e){return e.join("")},be=0,_e=0,Ce=[{line:1,column:1,seenCR:!1}],Ee=0,Se=[],Ne=0;if("startRule"in i){if(!(i.startRule in o))throw new Error("Can't start parsing from rule \""+i.startRule+'".');a=o[i.startRule]}function Oe(){return Ie(_e,be)}function Te(e){var n,i,r=Ce[e];if(r)return r;for(n=e-1;!Ce[n];)n--;for(r={line:(r=Ce[n]).line,column:r.column,seenCR:r.seenCR};n<e;)"\n"===(i=t.charAt(n))?(r.seenCR||r.line++,r.column=1,r.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(r.line++,r.column=1,r.seenCR=!0):(r.column++,r.seenCR=!1),n++;return Ce[e]=r,r}function Ie(e,t){var n=Te(e),i=Te(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:i.line,column:i.column}}}function we(e){be<Ee||(be>Ee&&(Ee=be,Se=[]),Se.push(e))}function Ae(t,n,i,r){return null!==n&&function(e){var t=1;for(e.sort((function(e,t){return e.description<t.description?-1:e.description>t.description?1:0}));t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(n),new e(null!==t?t:function(e,t){var n,i=new Array(e.length);for(n=0;n<e.length;n++)i[n]=e[n].description;return"Expected "+(e.length>1?i.slice(0,-1).join(", ")+" or "+i[e.length-1]:i[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(e){return"\\x0"+t(e)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(e){return"\\x"+t(e)})).replace(/[\u0100-\u0FFF]/g,(function(e){return"\\u0"+t(e)})).replace(/[\u1000-\uFFFF]/g,(function(e){return"\\u"+t(e)}))}(t)+'"':"end of input")+" found."}(n,i),n,i,r)}function ke(){return De()}function De(){var e,t,n;for(e=be,t=[],n=Pe();n!==r;)t.push(n),n=Pe();return t!==r&&(_e=e,t=s(t)),e=t}function Pe(){var e;return(e=function(){var e,n;e=be,n=function(){var e,n,i,o,a,s;e=be,n=[],i=be,(o=Le())!==r&&(a=He())!==r&&(s=Le())!==r?i=o=[o,a,s]:(be=i,i=r);if(i!==r)for(;i!==r;)n.push(i),i=be,(o=Le())!==r&&(a=He())!==r&&(s=Le())!==r?i=o=[o,a,s]:(be=i,i=r);else n=r;n!==r&&(_e=e,n=c(n));e=n,e===r&&(e=be,e=(n=Fe())!==r?t.substring(e,be):n);return e}(),n!==r&&(_e=e,n=l(n));return e=n,e}())===r&&(e=function(){var e,n,i,o,a,s,c;e=be,123===t.charCodeAt(be)?(n=d,be++):(n=r,0===Ne&&we(p));n!==r&&Le()!==r?(i=function(){var e,n,i;if(e=je(),e===r){if(e=be,n=[],u.test(t.charAt(be))?(i=t.charAt(be),be++):(i=r,0===Ne&&we(f)),i!==r)for(;i!==r;)n.push(i),u.test(t.charAt(be))?(i=t.charAt(be),be++):(i=r,0===Ne&&we(f));else n=r;e=n!==r?t.substring(e,be):n}return e}(),i!==r&&Le()!==r?(o=be,44===t.charCodeAt(be)?(a=h,be++):(a=r,0===Ne&&we(g)),a!==r&&(s=Le())!==r?(c=function(){var e;e=function(){var e,n,i,o,a,s;e=be,t.substr(be,6)===b?(n=b,be+=6):(n=r,0===Ne&&we(_));n===r&&(t.substr(be,4)===C?(n=C,be+=4):(n=r,0===Ne&&we(E)),n===r&&(t.substr(be,4)===S?(n=S,be+=4):(n=r,0===Ne&&we(N))));n!==r&&Le()!==r?(i=be,44===t.charCodeAt(be)?(o=h,be++):(o=r,0===Ne&&we(g)),o!==r&&(a=Le())!==r&&(s=He())!==r?i=o=[o,a,s]:(be=i,i=r),i===r&&(i=null),i!==r?(_e=e,e=n=O(n,i)):(be=e,e=r)):(be=e,e=r);return e}(),e===r&&(e=function(){var e,n,i,o;e=be,t.substr(be,6)===T?(n=T,be+=6):(n=r,0===Ne&&we(I));n!==r&&Le()!==r?(44===t.charCodeAt(be)?(i=h,be++):(i=r,0===Ne&&we(g)),i!==r&&Le()!==r&&(o=xe())!==r?(_e=e,e=n=w(o)):(be=e,e=r)):(be=e,e=r);return e}(),e===r&&(e=function(){var e,n,i,o;e=be,t.substr(be,13)===A?(n=A,be+=13):(n=r,0===Ne&&we(k));n!==r&&Le()!==r?(44===t.charCodeAt(be)?(i=h,be++):(i=r,0===Ne&&we(g)),i!==r&&Le()!==r&&(o=xe())!==r?(_e=e,e=n=D(o)):(be=e,e=r)):(be=e,e=r);return e}(),e===r&&(e=function(){var e,n,i,o,a;e=be,t.substr(be,6)===P?(n=P,be+=6):(n=r,0===Ne&&we(R));if(n!==r)if(Le()!==r)if(44===t.charCodeAt(be)?(i=h,be++):(i=r,0===Ne&&we(g)),i!==r)if(Le()!==r){if(o=[],(a=Re())!==r)for(;a!==r;)o.push(a),a=Re();else o=r;o!==r?(_e=e,e=n=x(o)):(be=e,e=r)}else be=e,e=r;else be=e,e=r;else be=e,e=r;else be=e,e=r;return e}())));return e}(),c!==r?o=a=[a,s,c]:(be=o,o=r)):(be=o,o=r),o===r&&(o=null),o!==r&&(a=Le())!==r?(125===t.charCodeAt(be)?(s=m,be++):(s=r,0===Ne&&we(v)),s!==r?(_e=e,e=n=y(i,o)):(be=e,e=r)):(be=e,e=r)):(be=e,e=r)):(be=e,e=r);return e}()),e}function Re(){var e,n,i,o,a;return e=be,Le()!==r?(n=function(){var e,n,i,o;return e=be,n=be,61===t.charCodeAt(be)?(i=F,be++):(i=r,0===Ne&&we(L)),i!==r&&(o=je())!==r?n=i=[i,o]:(be=n,n=r),(e=n!==r?t.substring(e,be):n)===r&&(e=He()),e}(),n!==r&&Le()!==r?(123===t.charCodeAt(be)?(i=d,be++):(i=r,0===Ne&&we(p)),i!==r&&Le()!==r&&(o=De())!==r&&Le()!==r?(125===t.charCodeAt(be)?(a=m,be++):(a=r,0===Ne&&we(v)),a!==r?(_e=e,e=U(n,o)):(be=e,e=r)):(be=e,e=r)):(be=e,e=r)):(be=e,e=r),e}function xe(){var e,n,i,o;if(e=be,n=function(){var e,n,i;return e=be,t.substr(be,7)===M?(n=M,be+=7):(n=r,0===Ne&&we(j)),n!==r&&Le()!==r&&(i=je())!==r?(_e=e,e=n=W(i)):(be=e,e=r),e}(),n===r&&(n=null),n!==r)if(Le()!==r){if(i=[],(o=Re())!==r)for(;o!==r;)i.push(o),o=Re();else i=r;i!==r?(_e=e,e=n=H(n,i)):(be=e,e=r)}else be=e,e=r;else be=e,e=r;return e}function Fe(){var e,n;if(Ne++,e=[],V.test(t.charAt(be))?(n=t.charAt(be),be++):(n=r,0===Ne&&we(B)),n!==r)for(;n!==r;)e.push(n),V.test(t.charAt(be))?(n=t.charAt(be),be++):(n=r,0===Ne&&we(B));else e=r;return Ne--,e===r&&(n=r,0===Ne&&we(q)),e}function Le(){var e,n,i;for(Ne++,e=be,n=[],i=Fe();i!==r;)n.push(i),i=Fe();return e=n!==r?t.substring(e,be):n,Ne--,e===r&&(n=r,0===Ne&&we(G)),e}function Ue(){var e;return z.test(t.charAt(be))?(e=t.charAt(be),be++):(e=r,0===Ne&&we(K)),e}function Me(){var e;return Y.test(t.charAt(be))?(e=t.charAt(be),be++):(e=r,0===Ne&&we(X)),e}function je(){var e,n,i,o,a,s;if(e=be,48===t.charCodeAt(be)?(n=J,be++):(n=r,0===Ne&&we($)),n===r){if(n=be,i=be,Q.test(t.charAt(be))?(o=t.charAt(be),be++):(o=r,0===Ne&&we(Z)),o!==r){for(a=[],s=Ue();s!==r;)a.push(s),s=Ue();a!==r?i=o=[o,a]:(be=i,i=r)}else be=i,i=r;n=i!==r?t.substring(n,be):i}return n!==r&&(_e=e,n=ee(n)),e=n}function We(){var e,n,i,o,a,s,c,l;return te.test(t.charAt(be))?(e=t.charAt(be),be++):(e=r,0===Ne&&we(ne)),e===r&&(e=be,t.substr(be,2)===ie?(n=ie,be+=2):(n=r,0===Ne&&we(re)),n!==r&&(_e=e,n=oe()),(e=n)===r&&(e=be,t.substr(be,2)===ae?(n=ae,be+=2):(n=r,0===Ne&&we(se)),n!==r&&(_e=e,n=ce()),(e=n)===r&&(e=be,t.substr(be,2)===le?(n=le,be+=2):(n=r,0===Ne&&we(ue)),n!==r&&(_e=e,n=fe()),(e=n)===r&&(e=be,t.substr(be,2)===de?(n=de,be+=2):(n=r,0===Ne&&we(pe)),n!==r&&(_e=e,n=he()),(e=n)===r&&(e=be,t.substr(be,2)===ge?(n=ge,be+=2):(n=r,0===Ne&&we(me)),n!==r?(i=be,o=be,(a=Me())!==r&&(s=Me())!==r&&(c=Me())!==r&&(l=Me())!==r?o=a=[a,s,c,l]:(be=o,o=r),(i=o!==r?t.substring(i,be):o)!==r?(_e=e,e=n=ve(i)):(be=e,e=r)):(be=e,e=r)))))),e}function He(){var e,t,n;if(e=be,t=[],(n=We())!==r)for(;n!==r;)t.push(n),n=We();else t=r;return t!==r&&(_e=e,t=ye(t)),e=t}if((n=a())!==r&&be===t.length)return n;throw n!==r&&be<t.length&&we({type:"end",description:"end of input"}),Ae(null,Se,Ee<t.length?t.charAt(Ee):null,Ee<t.length?Ie(Ee,Ee+1):Ie(Ee,Ee))}}}()},2175:function(e,t,n){"use strict";var i=n(9239).Z;n(8374),(t=e.exports=i).default=t},6690:function(e,t){"use strict";function n(e,t,n){this.locales=e,this.formats=t,this.pluralFn=n}function i(e){this.id=e}function r(e,t,n,i,r){this.id=e,this.useOrdinal=t,this.offset=n,this.options=i,this.pluralFn=r}function o(e,t,n,i){this.id=e,this.offset=t,this.numberFormat=n,this.string=i}function a(e,t){this.id=e,this.options=t}t.default=n,n.prototype.compile=function(e){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(e)},n.prototype.compileMessage=function(e){if(!e||"messageFormatPattern"!==e.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var t,n,i,r=e.elements,o=[];for(t=0,n=r.length;t<n;t+=1)switch((i=r[t]).type){case"messageTextElement":o.push(this.compileMessageText(i));break;case"argumentElement":o.push(this.compileArgument(i));break;default:throw new Error("Message element does not have a valid type")}return o},n.prototype.compileMessageText=function(e){return this.currentPlural&&/(^|[^\\])#/g.test(e.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new o(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,e.value)):e.value.replace(/\\#/g,"#")},n.prototype.compileArgument=function(e){var t=e.format;if(!t)return new i(e.id);var n,o=this.formats,s=this.locales,c=this.pluralFn;switch(t.type){case"numberFormat":return n=o.number[t.style],{id:e.id,format:new Intl.NumberFormat(s,n).format};case"dateFormat":return n=o.date[t.style],{id:e.id,format:new Intl.DateTimeFormat(s,n).format};case"timeFormat":return n=o.time[t.style],{id:e.id,format:new Intl.DateTimeFormat(s,n).format};case"pluralFormat":return n=this.compileOptions(e),new r(e.id,t.ordinal,t.offset,n,c);case"selectFormat":return n=this.compileOptions(e),new a(e.id,n);default:throw new Error("Message element does not have a valid format type")}},n.prototype.compileOptions=function(e){var t,n,i,r=e.format,o=r.options,a={};for(this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===r.type?e:null,t=0,n=o.length;t<n;t+=1)a[(i=o[t]).selector]=this.compileMessage(i.value);return this.currentPlural=this.pluralStack.pop(),a},i.prototype.format=function(e){return e||"number"==typeof e?"string"==typeof e?e:String(e):""},r.prototype.getOption=function(e){var t=this.options;return t["="+e]||t[this.pluralFn(e-this.offset,this.useOrdinal)]||t.other},o.prototype.format=function(e){var t=this.numberFormat.format(e-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+t).replace(/\\#/g,"#")},a.prototype.getOption=function(e){var t=this.options;return t[e]||t.other}},3913:function(e,t,n){"use strict";var i=n(2964),r=n(3444),o=n(6690),a=n(9164);function s(e,t,n){var i="string"==typeof e?s.__parse(e):e;if(!i||"messageFormatPattern"!==i.type)throw new TypeError("A message must be provided as a String or AST.");n=this._mergeFormats(s.formats,n),r.defineProperty(this,"_locale",{value:this._resolveLocale(t)});var o=this._findPluralRuleFunction(this._locale),a=this._compilePattern(i,t,n,o),c=this;this.format=function(t){try{return c._format(a,t)}catch(t){throw t.variableId?new Error("The intl string context variable '"+t.variableId+"' was not provided to the string '"+e+"'"):t}}}t.default=s,r.defineProperty(s,"formats",{enumerable:!0,value:{number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}),r.defineProperty(s,"__localeData__",{value:r.objCreate(null)}),r.defineProperty(s,"__addLocaleData",{value:function(e){if(!e||!e.locale)throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");s.__localeData__[e.locale.toLowerCase()]=e}}),r.defineProperty(s,"__parse",{value:a.default.parse}),r.defineProperty(s,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),s.prototype.resolvedOptions=function(){return{locale:this._locale}},s.prototype._compilePattern=function(e,t,n,i){return new o.default(t,n,i).compile(e)},s.prototype._findPluralRuleFunction=function(e){for(var t=s.__localeData__,n=t[e.toLowerCase()];n;){if(n.pluralRuleFunction)return n.pluralRuleFunction;n=n.parentLocale&&t[n.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :"+e)},s.prototype._format=function(e,t){var n,r,o,a,s,c,l="";for(n=0,r=e.length;n<r;n+=1)if("string"!=typeof(o=e[n])){if(a=o.id,!t||!i.hop.call(t,a))throw(c=new Error("A value must be provided for: "+a)).variableId=a,c;s=t[a],o.options?l+=this._format(o.getOption(s),t):l+=o.format(s)}else l+=o;return l},s.prototype._mergeFormats=function(e,t){var n,o,a={};for(n in e)i.hop.call(e,n)&&(a[n]=o=r.objCreate(e[n]),t&&i.hop.call(t,n)&&i.extend(o,t[n]));return a},s.prototype._resolveLocale=function(e){"string"==typeof e&&(e=[e]),e=(e||[]).concat(s.defaultLocale);var t,n,i,r,o=s.__localeData__;for(t=0,n=e.length;t<n;t+=1)for(i=e[t].toLowerCase().split("-");i.length;){if(r=o[i.join("-")])return r.locale;i.pop()}var a=e.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+e.join(", ")+", or the default locale: "+a)}},4531:function(e,t){"use strict";t.default={locale:"en",pluralRuleFunction:function(e,t){var n=String(e).split("."),i=!n[1],r=Number(n[0])==e,o=r&&n[0].slice(-1),a=r&&n[0].slice(-2);return t?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==e&&i?"one":"other"}}},3444:function(e,t,n){"use strict";var i=n(2964),r=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),o=(!r&&Object.prototype.__defineGetter__,r?Object.defineProperty:function(e,t,n){"get"in n&&e.__defineGetter__?e.__defineGetter__(t,n.get):i.hop.call(e,t)&&!("value"in n)||(e[t]=n.value)}),a=Object.create||function(e,t){var n,r;function a(){}for(r in a.prototype=e,n=new a,t)i.hop.call(t,r)&&o(n,r,t[r]);return n};t.defineProperty=o,t.objCreate=a},9239:function(e,t,n){"use strict";var i=n(3913),r=n(4531);i.default.__addLocaleData(r.default),i.default.defaultLocale="en",t.Z=i.default},2964:function(e,t){"use strict";t.extend=function(e){var t,i,r,o,a=Array.prototype.slice.call(arguments,1);for(t=0,i=a.length;t<i;t+=1)if(r=a[t])for(o in r)n.call(r,o)&&(e[o]=r[o]);return e};var n=Object.prototype.hasOwnProperty;t.hop=n},3974:function(e,t,n){var i;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}e=n.nmd(e),function(){var o,a="Expected a function",s="__lodash_hash_undefined__",c="__lodash_placeholder__",l=16,u=32,f=64,d=128,p=256,h=1/0,g=9007199254740991,m=NaN,v=4294967295,y=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",u],["partialRight",f],["rearg",p]],b="[object Arguments]",_="[object Array]",C="[object Boolean]",E="[object Date]",S="[object Error]",N="[object Function]",O="[object GeneratorFunction]",T="[object Map]",I="[object Number]",w="[object Object]",A="[object Promise]",k="[object RegExp]",D="[object Set]",P="[object String]",R="[object Symbol]",x="[object WeakMap]",F="[object ArrayBuffer]",L="[object DataView]",U="[object Float32Array]",M="[object Float64Array]",j="[object Int8Array]",W="[object Int16Array]",H="[object Int32Array]",q="[object Uint8Array]",V="[object Uint8ClampedArray]",B="[object Uint16Array]",G="[object Uint32Array]",z=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,J=/[&<>"']/g,$=RegExp(X.source),Q=RegExp(J.source),Z=/<%-([\s\S]+?)%>/g,ee=/<%([\s\S]+?)%>/g,te=/<%=([\s\S]+?)%>/g,ne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ie=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(oe.source),se=/^\s+/,ce=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,fe=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pe=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,ge=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ve=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,be=/^\[object .+?Constructor\]$/,_e=/^0o[0-7]+$/i,Ce=/^(?:0|[1-9]\d*)$/,Ee=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Se=/($^)/,Ne=/['\n\r\u2028\u2029\\]/g,Oe="\\ud800-\\udfff",Te="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ie="\\u2700-\\u27bf",we="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",ke="\\ufe0e\\ufe0f",De="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['’]",Re="["+Oe+"]",xe="["+De+"]",Fe="["+Te+"]",Le="\\d+",Ue="["+Ie+"]",Me="["+we+"]",je="[^"+Oe+De+Le+Ie+we+Ae+"]",We="\\ud83c[\\udffb-\\udfff]",He="[^"+Oe+"]",qe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ve="[\\ud800-\\udbff][\\udc00-\\udfff]",Be="["+Ae+"]",Ge="\\u200d",ze="(?:"+Me+"|"+je+")",Ke="(?:"+Be+"|"+je+")",Ye="(?:['’](?:d|ll|m|re|s|t|ve))?",Xe="(?:['’](?:D|LL|M|RE|S|T|VE))?",Je="(?:"+Fe+"|"+We+")"+"?",$e="["+ke+"]?",Qe=$e+Je+("(?:"+Ge+"(?:"+[He,qe,Ve].join("|")+")"+$e+Je+")*"),Ze="(?:"+[Ue,qe,Ve].join("|")+")"+Qe,et="(?:"+[He+Fe+"?",Fe,qe,Ve,Re].join("|")+")",tt=RegExp(Pe,"g"),nt=RegExp(Fe,"g"),it=RegExp(We+"(?="+We+")|"+et+Qe,"g"),rt=RegExp([Be+"?"+Me+"+"+Ye+"(?="+[xe,Be,"$"].join("|")+")",Ke+"+"+Xe+"(?="+[xe,Be+ze,"$"].join("|")+")",Be+"?"+ze+"+"+Ye,Be+"+"+Xe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Le,Ze].join("|"),"g"),ot=RegExp("["+Ge+Oe+Te+ke+"]"),at=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,st=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ct=-1,lt={};lt[U]=lt[M]=lt[j]=lt[W]=lt[H]=lt[q]=lt[V]=lt[B]=lt[G]=!0,lt[b]=lt[_]=lt[F]=lt[C]=lt[L]=lt[E]=lt[S]=lt[N]=lt[T]=lt[I]=lt[w]=lt[k]=lt[D]=lt[P]=lt[x]=!1;var ut={};ut[b]=ut[_]=ut[F]=ut[L]=ut[C]=ut[E]=ut[U]=ut[M]=ut[j]=ut[W]=ut[H]=ut[T]=ut[I]=ut[w]=ut[k]=ut[D]=ut[P]=ut[R]=ut[q]=ut[V]=ut[B]=ut[G]=!0,ut[S]=ut[N]=ut[x]=!1;var ft={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,pt=parseInt,ht="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,gt="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,mt=ht||gt||Function("return this")(),vt="object"==r(t)&&t&&!t.nodeType&&t,yt=vt&&"object"==r(e)&&e&&!e.nodeType&&e,bt=yt&&yt.exports===vt,_t=bt&&ht.process,Ct=function(){try{var e=yt&&yt.require&&yt.require("util").types;return e||_t&&_t.binding&&_t.binding("util")}catch(e){}}(),Et=Ct&&Ct.isArrayBuffer,St=Ct&&Ct.isDate,Nt=Ct&&Ct.isMap,Ot=Ct&&Ct.isRegExp,Tt=Ct&&Ct.isSet,It=Ct&&Ct.isTypedArray;function wt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function At(e,t,n,i){for(var r=-1,o=null==e?0:e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}function kt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function Dt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function Rt(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}function xt(e,t){return!!(null==e?0:e.length)&&Bt(e,t,0)>-1}function Ft(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function Lt(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function Ut(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function Mt(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function jt(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function Wt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var Ht=Yt("length");function qt(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function Vt(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function Bt(e,t,n){return t==t?function(e,t,n){var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):Vt(e,zt,n)}function Gt(e,t,n,i){for(var r=n-1,o=e.length;++r<o;)if(i(e[r],t))return r;return-1}function zt(e){return e!=e}function Kt(e,t){var n=null==e?0:e.length;return n?$t(e,t)/n:m}function Yt(e){return function(t){return null==t?o:t[e]}}function Xt(e){return function(t){return null==e?o:e[t]}}function Jt(e,t,n,i,r){return r(e,(function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)})),n}function $t(e,t){for(var n,i=-1,r=e.length;++i<r;){var a=t(e[i]);a!==o&&(n=n===o?a:n+a)}return n}function Qt(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Zt(e){return e?e.slice(0,vn(e)+1).replace(se,""):e}function en(e){return function(t){return e(t)}}function tn(e,t){return Lt(t,(function(t){return e[t]}))}function nn(e,t){return e.has(t)}function rn(e,t){for(var n=-1,i=e.length;++n<i&&Bt(t,e[n],0)>-1;);return n}function on(e,t){for(var n=e.length;n--&&Bt(t,e[n],0)>-1;);return n}var an=Xt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),sn=Xt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function cn(e){return"\\"+ft[e]}function ln(e){return ot.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function fn(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n];a!==t&&a!==c||(e[n]=c,o[r++]=n)}return o}function pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function gn(e){return ln(e)?function(e){var t=it.lastIndex=0;for(;it.test(e);)++t;return t}(e):Ht(e)}function mn(e){return ln(e)?function(e){return e.match(it)||[]}(e):function(e){return e.split("")}(e)}function vn(e){for(var t=e.length;t--&&ce.test(e.charAt(t)););return t}var yn=Xt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var bn=function e(t){var n,i=(t=null==t?mt:bn.defaults(mt.Object(),t,bn.pick(mt,st))).Array,ce=t.Date,Oe=t.Error,Te=t.Function,Ie=t.Math,we=t.Object,Ae=t.RegExp,ke=t.String,De=t.TypeError,Pe=i.prototype,Re=Te.prototype,xe=we.prototype,Fe=t["__core-js_shared__"],Le=Re.toString,Ue=xe.hasOwnProperty,Me=0,je=(n=/[^.]+$/.exec(Fe&&Fe.keys&&Fe.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",We=xe.toString,He=Le.call(we),qe=mt._,Ve=Ae("^"+Le.call(Ue).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=bt?t.Buffer:o,Ge=t.Symbol,ze=t.Uint8Array,Ke=Be?Be.allocUnsafe:o,Ye=fn(we.getPrototypeOf,we),Xe=we.create,Je=xe.propertyIsEnumerable,$e=Pe.splice,Qe=Ge?Ge.isConcatSpreadable:o,Ze=Ge?Ge.iterator:o,et=Ge?Ge.toStringTag:o,it=function(){try{var e=ho(we,"defineProperty");return e({},"",{}),e}catch(e){}}(),ot=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,ft=ce&&ce.now!==mt.Date.now&&ce.now,ht=t.setTimeout!==mt.setTimeout&&t.setTimeout,gt=Ie.ceil,vt=Ie.floor,yt=we.getOwnPropertySymbols,_t=Be?Be.isBuffer:o,Ct=t.isFinite,Ht=Pe.join,Xt=fn(we.keys,we),_n=Ie.max,Cn=Ie.min,En=ce.now,Sn=t.parseInt,Nn=Ie.random,On=Pe.reverse,Tn=ho(t,"DataView"),In=ho(t,"Map"),wn=ho(t,"Promise"),An=ho(t,"Set"),kn=ho(t,"WeakMap"),Dn=ho(we,"create"),Pn=kn&&new kn,Rn={},xn=Wo(Tn),Fn=Wo(In),Ln=Wo(wn),Un=Wo(An),Mn=Wo(kn),jn=Ge?Ge.prototype:o,Wn=jn?jn.valueOf:o,Hn=jn?jn.toString:o;function qn(e){if(is(e)&&!za(e)&&!(e instanceof zn)){if(e instanceof Gn)return e;if(Ue.call(e,"__wrapped__"))return Ho(e)}return new Gn(e)}var Vn=function(){function e(){}return function(t){if(!ns(t))return{};if(Xe)return Xe(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Bn(){}function Gn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function zn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=v,this.__views__=[]}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Xn;++t<n;)this.add(e[t])}function $n(e){var t=this.__data__=new Yn(e);this.size=t.size}function Qn(e,t){var n=za(e),i=!n&&Ga(e),r=!n&&!i&&Ja(e),o=!n&&!i&&!r&&fs(e),a=n||i||r||o,s=a?Qt(e.length,ke):[],c=s.length;for(var l in e)!t&&!Ue.call(e,l)||a&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Co(l,c))||s.push(l);return s}function Zn(e){var t=e.length;return t?e[Ji(0,t-1)]:o}function ei(e,t){return Uo(Dr(e),li(t,0,e.length))}function ti(e){return Uo(Dr(e))}function ni(e,t,n){(n!==o&&!qa(e[t],n)||n===o&&!(t in e))&&si(e,t,n)}function ii(e,t,n){var i=e[t];Ue.call(e,t)&&qa(i,n)&&(n!==o||t in e)||si(e,t,n)}function ri(e,t){for(var n=e.length;n--;)if(qa(e[n][0],t))return n;return-1}function oi(e,t,n,i){return hi(e,(function(e,r,o){t(i,e,n(e),o)})),i}function ai(e,t){return e&&Pr(t,Rs(t),e)}function si(e,t,n){"__proto__"==t&&it?it(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ci(e,t){for(var n=-1,r=t.length,a=i(r),s=null==e;++n<r;)a[n]=s?o:ws(e,t[n]);return a}function li(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function ui(e,t,n,i,r,a){var s,c=1&t,l=2&t,u=4&t;if(n&&(s=r?n(e,i,r,a):n(e)),s!==o)return s;if(!ns(e))return e;var f=za(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ue.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!c)return Dr(e,s)}else{var d=vo(e),p=d==N||d==O;if(Ja(e))return Or(e,c);if(d==w||d==b||p&&!r){if(s=l||p?{}:bo(e),!c)return l?function(e,t){return Pr(e,mo(e),t)}(e,function(e,t){return e&&Pr(t,xs(t),e)}(s,e)):function(e,t){return Pr(e,go(e),t)}(e,ai(s,e))}else{if(!ut[d])return r?e:{};s=function(e,t,n){var i=e.constructor;switch(t){case F:return Tr(e);case C:case E:return new i(+e);case L:return function(e,t){var n=t?Tr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case U:case M:case j:case W:case H:case q:case V:case B:case G:return Ir(e,n);case T:return new i;case I:case P:return new i(e);case k:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case D:return new i;case R:return r=e,Wn?we(Wn.call(r)):{}}var r}(e,d,c)}}a||(a=new $n);var h=a.get(e);if(h)return h;a.set(e,s),cs(e)?e.forEach((function(i){s.add(ui(i,t,n,i,e,a))})):rs(e)&&e.forEach((function(i,r){s.set(r,ui(i,t,n,r,e,a))}));var g=f?o:(u?l?ao:oo:l?xs:Rs)(e);return kt(g||e,(function(i,r){g&&(i=e[r=i]),ii(s,r,ui(i,t,n,r,e,a))})),s}function fi(e,t,n){var i=n.length;if(null==e)return!i;for(e=we(e);i--;){var r=n[i],a=t[r],s=e[r];if(s===o&&!(r in e)||!a(s))return!1}return!0}function di(e,t,n){if("function"!=typeof e)throw new De(a);return Ro((function(){e.apply(o,n)}),t)}function pi(e,t,n,i){var r=-1,o=xt,a=!0,s=e.length,c=[],l=t.length;if(!s)return c;n&&(t=Lt(t,en(n))),i?(o=Ft,a=!1):t.length>=200&&(o=nn,a=!1,t=new Jn(t));e:for(;++r<s;){var u=e[r],f=null==n?u:n(u);if(u=i||0!==u?u:0,a&&f==f){for(var d=l;d--;)if(t[d]===f)continue e;c.push(u)}else o(t,f,i)||c.push(u)}return c}qn.templateSettings={escape:Z,evaluate:ee,interpolate:te,variable:"",imports:{_:qn}},qn.prototype=Bn.prototype,qn.prototype.constructor=qn,Gn.prototype=Vn(Bn.prototype),Gn.prototype.constructor=Gn,zn.prototype=Vn(Bn.prototype),zn.prototype.constructor=zn,Kn.prototype.clear=function(){this.__data__=Dn?Dn(null):{},this.size=0},Kn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Kn.prototype.get=function(e){var t=this.__data__;if(Dn){var n=t[e];return n===s?o:n}return Ue.call(t,e)?t[e]:o},Kn.prototype.has=function(e){var t=this.__data__;return Dn?t[e]!==o:Ue.call(t,e)},Kn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Dn&&t===o?s:t,this},Yn.prototype.clear=function(){this.__data__=[],this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=ri(t,e);return!(n<0)&&(n==t.length-1?t.pop():$e.call(t,n,1),--this.size,!0)},Yn.prototype.get=function(e){var t=this.__data__,n=ri(t,e);return n<0?o:t[n][1]},Yn.prototype.has=function(e){return ri(this.__data__,e)>-1},Yn.prototype.set=function(e,t){var n=this.__data__,i=ri(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Xn.prototype.clear=function(){this.size=0,this.__data__={hash:new Kn,map:new(In||Yn),string:new Kn}},Xn.prototype.delete=function(e){var t=fo(this,e).delete(e);return this.size-=t?1:0,t},Xn.prototype.get=function(e){return fo(this,e).get(e)},Xn.prototype.has=function(e){return fo(this,e).has(e)},Xn.prototype.set=function(e,t){var n=fo(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Jn.prototype.add=Jn.prototype.push=function(e){return this.__data__.set(e,s),this},Jn.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.clear=function(){this.__data__=new Yn,this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$n.prototype.get=function(e){return this.__data__.get(e)},$n.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Yn){var i=n.__data__;if(!In||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xn(i)}return n.set(e,t),this.size=n.size,this};var hi=Fr(Ei),gi=Fr(Si,!0);function mi(e,t){var n=!0;return hi(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function vi(e,t,n){for(var i=-1,r=e.length;++i<r;){var a=e[i],s=t(a);if(null!=s&&(c===o?s==s&&!us(s):n(s,c)))var c=s,l=a}return l}function yi(e,t){var n=[];return hi(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function bi(e,t,n,i,r){var o=-1,a=e.length;for(n||(n=_o),r||(r=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?bi(s,t-1,n,i,r):Ut(r,s):i||(r[r.length]=s)}return r}var _i=Lr(),Ci=Lr(!0);function Ei(e,t){return e&&_i(e,t,Rs)}function Si(e,t){return e&&Ci(e,t,Rs)}function Ni(e,t){return Rt(t,(function(t){return Za(e[t])}))}function Oi(e,t){for(var n=0,i=(t=Cr(t,e)).length;null!=e&&n<i;)e=e[jo(t[n++])];return n&&n==i?e:o}function Ti(e,t,n){var i=t(e);return za(e)?i:Ut(i,n(e))}function Ii(e){return null==e?e===o?"[object Undefined]":"[object Null]":et&&et in we(e)?function(e){var t=Ue.call(e,et),n=e[et];try{e[et]=o;var i=!0}catch(e){}var r=We.call(e);i&&(t?e[et]=n:delete e[et]);return r}(e):function(e){return We.call(e)}(e)}function wi(e,t){return e>t}function Ai(e,t){return null!=e&&Ue.call(e,t)}function ki(e,t){return null!=e&&t in we(e)}function Di(e,t,n){for(var r=n?Ft:xt,a=e[0].length,s=e.length,c=s,l=i(s),u=1/0,f=[];c--;){var d=e[c];c&&t&&(d=Lt(d,en(t))),u=Cn(d.length,u),l[c]=!n&&(t||a>=120&&d.length>=120)?new Jn(c&&d):o}d=e[0];var p=-1,h=l[0];e:for(;++p<a&&f.length<u;){var g=d[p],m=t?t(g):g;if(g=n||0!==g?g:0,!(h?nn(h,m):r(f,m,n))){for(c=s;--c;){var v=l[c];if(!(v?nn(v,m):r(e[c],m,n)))continue e}h&&h.push(m),f.push(g)}}return f}function Pi(e,t,n){var i=null==(e=ko(e,t=Cr(t,e)))?e:e[jo(Qo(t))];return null==i?o:wt(i,e,n)}function Ri(e){return is(e)&&Ii(e)==b}function xi(e,t,n,i,r){return e===t||(null==e||null==t||!is(e)&&!is(t)?e!=e&&t!=t:function(e,t,n,i,r,a){var s=za(e),c=za(t),l=s?_:vo(e),u=c?_:vo(t),f=(l=l==b?w:l)==w,d=(u=u==b?w:u)==w,p=l==u;if(p&&Ja(e)){if(!Ja(t))return!1;s=!0,f=!1}if(p&&!f)return a||(a=new $n),s||fs(e)?io(e,t,n,i,r,a):function(e,t,n,i,r,o,a){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case F:return!(e.byteLength!=t.byteLength||!o(new ze(e),new ze(t)));case C:case E:case I:return qa(+e,+t);case S:return e.name==t.name&&e.message==t.message;case k:case P:return e==t+"";case T:var s=un;case D:var c=1&i;if(s||(s=pn),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;i|=2,a.set(e,t);var u=io(s(e),s(t),i,r,o,a);return a.delete(e),u;case R:if(Wn)return Wn.call(e)==Wn.call(t)}return!1}(e,t,l,n,i,r,a);if(!(1&n)){var h=f&&Ue.call(e,"__wrapped__"),g=d&&Ue.call(t,"__wrapped__");if(h||g){var m=h?e.value():e,v=g?t.value():t;return a||(a=new $n),r(m,v,n,i,a)}}if(!p)return!1;return a||(a=new $n),function(e,t,n,i,r,a){var s=1&n,c=oo(e),l=c.length,u=oo(t),f=u.length;if(l!=f&&!s)return!1;var d=l;for(;d--;){var p=c[d];if(!(s?p in t:Ue.call(t,p)))return!1}var h=a.get(e),g=a.get(t);if(h&&g)return h==t&&g==e;var m=!0;a.set(e,t),a.set(t,e);var v=s;for(;++d<l;){var y=e[p=c[d]],b=t[p];if(i)var _=s?i(b,y,p,t,e,a):i(y,b,p,e,t,a);if(!(_===o?y===b||r(y,b,n,i,a):_)){m=!1;break}v||(v="constructor"==p)}if(m&&!v){var C=e.constructor,E=t.constructor;C==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof C&&C instanceof C&&"function"==typeof E&&E instanceof E||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,n,i,r,a)}(e,t,n,i,xi,r))}function Fi(e,t,n,i){var r=n.length,a=r,s=!i;if(null==e)return!a;for(e=we(e);r--;){var c=n[r];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++r<a;){var l=(c=n[r])[0],u=e[l],f=c[1];if(s&&c[2]){if(u===o&&!(l in e))return!1}else{var d=new $n;if(i)var p=i(u,f,l,e,t,d);if(!(p===o?xi(f,u,3,i,d):p))return!1}}return!0}function Li(e){return!(!ns(e)||(t=e,je&&je in t))&&(Za(e)?Ve:be).test(Wo(e));var t}function Ui(e){return"function"==typeof e?e:null==e?oc:"object"==r(e)?za(e)?Vi(e[0],e[1]):qi(e):hc(e)}function Mi(e){if(!To(e))return Xt(e);var t=[];for(var n in we(e))Ue.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ji(e){if(!ns(e))return function(e){var t=[];if(null!=e)for(var n in we(e))t.push(n);return t}(e);var t=To(e),n=[];for(var i in e)("constructor"!=i||!t&&Ue.call(e,i))&&n.push(i);return n}function Wi(e,t){return e<t}function Hi(e,t){var n=-1,r=Ya(e)?i(e.length):[];return hi(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function qi(e){var t=po(e);return 1==t.length&&t[0][2]?wo(t[0][0],t[0][1]):function(n){return n===e||Fi(n,e,t)}}function Vi(e,t){return So(e)&&Io(t)?wo(jo(e),t):function(n){var i=ws(n,e);return i===o&&i===t?As(n,e):xi(t,i,3)}}function Bi(e,t,n,i,r){e!==t&&_i(t,(function(a,s){if(r||(r=new $n),ns(a))!function(e,t,n,i,r,a,s){var c=Do(e,n),l=Do(t,n),u=s.get(l);if(u)return void ni(e,n,u);var f=a?a(c,l,n+"",e,t,s):o,d=f===o;if(d){var p=za(l),h=!p&&Ja(l),g=!p&&!h&&fs(l);f=l,p||h||g?za(c)?f=c:Xa(c)?f=Dr(c):h?(d=!1,f=Or(l,!0)):g?(d=!1,f=Ir(l,!0)):f=[]:as(l)||Ga(l)?(f=c,Ga(c)?f=bs(c):ns(c)&&!Za(c)||(f=bo(l))):d=!1}d&&(s.set(l,f),r(f,l,i,a,s),s.delete(l));ni(e,n,f)}(e,t,s,n,Bi,i,r);else{var c=i?i(Do(e,s),a,s+"",e,t,r):o;c===o&&(c=a),ni(e,s,c)}}),xs)}function Gi(e,t){var n=e.length;if(n)return Co(t+=t<0?n:0,n)?e[t]:o}function zi(e,t,n){t=t.length?Lt(t,(function(e){return za(e)?function(t){return Oi(t,1===e.length?e[0]:e)}:e})):[oc];var i=-1;t=Lt(t,en(uo()));var r=Hi(e,(function(e,n,r){var o=Lt(t,(function(t){return t(e)}));return{criteria:o,index:++i,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(r,(function(e,t){return function(e,t,n){var i=-1,r=e.criteria,o=t.criteria,a=r.length,s=n.length;for(;++i<a;){var c=wr(r[i],o[i]);if(c)return i>=s?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}(e,t,n)}))}function Ki(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var a=t[i],s=Oi(e,a);n(s,a)&&tr(o,Cr(a,e),s)}return o}function Yi(e,t,n,i){var r=i?Gt:Bt,o=-1,a=t.length,s=e;for(e===t&&(t=Dr(t)),n&&(s=Lt(e,en(n)));++o<a;)for(var c=0,l=t[o],u=n?n(l):l;(c=r(s,u,c,i))>-1;)s!==e&&$e.call(s,c,1),$e.call(e,c,1);return e}function Xi(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==o){var o=r;Co(r)?$e.call(e,r,1):pr(e,r)}}return e}function Ji(e,t){return e+vt(Nn()*(t-e+1))}function $i(e,t){var n="";if(!e||t<1||t>g)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Qi(e,t){return xo(Ao(e,t,oc),e+"")}function Zi(e){return Zn(qs(e))}function er(e,t){var n=qs(e);return Uo(n,li(t,0,n.length))}function tr(e,t,n,i){if(!ns(e))return e;for(var r=-1,a=(t=Cr(t,e)).length,s=a-1,c=e;null!=c&&++r<a;){var l=jo(t[r]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(r!=s){var f=c[l];(u=i?i(f,l,c):o)===o&&(u=ns(f)?f:Co(t[r+1])?[]:{})}ii(c,l,u),c=c[l]}return e}var nr=Pn?function(e,t){return Pn.set(e,t),e}:oc,ir=it?function(e,t){return it(e,"toString",{configurable:!0,enumerable:!1,value:nc(t),writable:!0})}:oc;function rr(e){return Uo(qs(e))}function or(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=i(o);++r<o;)a[r]=e[r+t];return a}function ar(e,t){var n;return hi(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function sr(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=e[o];null!==a&&!us(a)&&(n?a<=t:a<t)?i=o+1:r=o}return r}return cr(e,t,oc,n)}function cr(e,t,n,i){var r=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,c=null===t,l=us(t),u=t===o;r<a;){var f=vt((r+a)/2),d=n(e[f]),p=d!==o,h=null===d,g=d==d,m=us(d);if(s)var v=i||g;else v=u?g&&(i||p):c?g&&p&&(i||!h):l?g&&p&&!h&&(i||!m):!h&&!m&&(i?d<=t:d<t);v?r=f+1:a=f}return Cn(a,4294967294)}function lr(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n],s=t?t(a):a;if(!n||!qa(s,c)){var c=s;o[r++]=0===a?0:a}}return o}function ur(e){return"number"==typeof e?e:us(e)?m:+e}function fr(e){if("string"==typeof e)return e;if(za(e))return Lt(e,fr)+"";if(us(e))return Hn?Hn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function dr(e,t,n){var i=-1,r=xt,o=e.length,a=!0,s=[],c=s;if(n)a=!1,r=Ft;else if(o>=200){var l=t?null:$r(e);if(l)return pn(l);a=!1,r=nn,c=new Jn}else c=t?[]:s;e:for(;++i<o;){var u=e[i],f=t?t(u):u;if(u=n||0!==u?u:0,a&&f==f){for(var d=c.length;d--;)if(c[d]===f)continue e;t&&c.push(f),s.push(u)}else r(c,f,n)||(c!==s&&c.push(f),s.push(u))}return s}function pr(e,t){return null==(e=ko(e,t=Cr(t,e)))||delete e[jo(Qo(t))]}function hr(e,t,n,i){return tr(e,t,n(Oi(e,t)),i)}function gr(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?or(e,i?0:o,i?o+1:r):or(e,i?o+1:0,i?r:o)}function mr(e,t){var n=e;return n instanceof zn&&(n=n.value()),Mt(t,(function(e,t){return t.func.apply(t.thisArg,Ut([e],t.args))}),n)}function vr(e,t,n){var r=e.length;if(r<2)return r?dr(e[0]):[];for(var o=-1,a=i(r);++o<r;)for(var s=e[o],c=-1;++c<r;)c!=o&&(a[o]=pi(a[o]||s,e[c],t,n));return dr(bi(a,1),t,n)}function yr(e,t,n){for(var i=-1,r=e.length,a=t.length,s={};++i<r;){var c=i<a?t[i]:o;n(s,e[i],c)}return s}function br(e){return Xa(e)?e:[]}function _r(e){return"function"==typeof e?e:oc}function Cr(e,t){return za(e)?e:So(e,t)?[e]:Mo(_s(e))}var Er=Qi;function Sr(e,t,n){var i=e.length;return n=n===o?i:n,!t&&n>=i?e:or(e,t,n)}var Nr=ot||function(e){return mt.clearTimeout(e)};function Or(e,t){if(t)return e.slice();var n=e.length,i=Ke?Ke(n):new e.constructor(n);return e.copy(i),i}function Tr(e){var t=new e.constructor(e.byteLength);return new ze(t).set(new ze(e)),t}function Ir(e,t){var n=t?Tr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function wr(e,t){if(e!==t){var n=e!==o,i=null===e,r=e==e,a=us(e),s=t!==o,c=null===t,l=t==t,u=us(t);if(!c&&!u&&!a&&e>t||a&&s&&l&&!c&&!u||i&&s&&l||!n&&l||!r)return 1;if(!i&&!a&&!u&&e<t||u&&n&&r&&!i&&!a||c&&n&&r||!s&&r||!l)return-1}return 0}function Ar(e,t,n,r){for(var o=-1,a=e.length,s=n.length,c=-1,l=t.length,u=_n(a-s,0),f=i(l+u),d=!r;++c<l;)f[c]=t[c];for(;++o<s;)(d||o<a)&&(f[n[o]]=e[o]);for(;u--;)f[c++]=e[o++];return f}function kr(e,t,n,r){for(var o=-1,a=e.length,s=-1,c=n.length,l=-1,u=t.length,f=_n(a-c,0),d=i(f+u),p=!r;++o<f;)d[o]=e[o];for(var h=o;++l<u;)d[h+l]=t[l];for(;++s<c;)(p||o<a)&&(d[h+n[s]]=e[o++]);return d}function Dr(e,t){var n=-1,r=e.length;for(t||(t=i(r));++n<r;)t[n]=e[n];return t}function Pr(e,t,n,i){var r=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var c=t[a],l=i?i(n[c],e[c],c,n,e):o;l===o&&(l=e[c]),r?si(n,c,l):ii(n,c,l)}return n}function Rr(e,t){return function(n,i){var r=za(n)?At:oi,o=t?t():{};return r(n,e,uo(i,2),o)}}function xr(e){return Qi((function(t,n){var i=-1,r=n.length,a=r>1?n[r-1]:o,s=r>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(r--,a):o,s&&Eo(n[0],n[1],s)&&(a=r<3?o:a,r=1),t=we(t);++i<r;){var c=n[i];c&&e(t,c,i,a)}return t}))}function Fr(e,t){return function(n,i){if(null==n)return n;if(!Ya(n))return e(n,i);for(var r=n.length,o=t?r:-1,a=we(n);(t?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function Lr(e){return function(t,n,i){for(var r=-1,o=we(t),a=i(t),s=a.length;s--;){var c=a[e?s:++r];if(!1===n(o[c],c,o))break}return t}}function Ur(e){return function(t){var n=ln(t=_s(t))?mn(t):o,i=n?n[0]:t.charAt(0),r=n?Sr(n,1).join(""):t.slice(1);return i[e]()+r}}function Mr(e){return function(t){return Mt(Zs(Gs(t).replace(tt,"")),e,"")}}function jr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Vn(e.prototype),i=e.apply(n,t);return ns(i)?i:n}}function Wr(e){return function(t,n,i){var r=we(t);if(!Ya(t)){var a=uo(n,3);t=Rs(t),n=function(e){return a(r[e],e,r)}}var s=e(t,n,i);return s>-1?r[a?t[s]:s]:o}}function Hr(e){return ro((function(t){var n=t.length,i=n,r=Gn.prototype.thru;for(e&&t.reverse();i--;){var s=t[i];if("function"!=typeof s)throw new De(a);if(r&&!c&&"wrapper"==co(s))var c=new Gn([],!0)}for(i=c?i:n;++i<n;){var l=co(s=t[i]),u="wrapper"==l?so(s):o;c=u&&No(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[co(u[0])].apply(c,u[3]):1==s.length&&No(s)?c[l]():c.thru(s)}return function(){var e=arguments,i=e[0];if(c&&1==e.length&&za(i))return c.plant(i).value();for(var r=0,o=n?t[r].apply(this,e):i;++r<n;)o=t[r].call(this,o);return o}}))}function qr(e,t,n,r,a,s,c,l,u,f){var p=t&d,h=1&t,g=2&t,m=24&t,v=512&t,y=g?o:jr(e);return function d(){for(var b=arguments.length,_=i(b),C=b;C--;)_[C]=arguments[C];if(m)var E=lo(d),S=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}(_,E);if(r&&(_=Ar(_,r,a,m)),s&&(_=kr(_,s,c,m)),b-=S,m&&b<f){var N=dn(_,E);return Xr(e,t,qr,d.placeholder,n,_,N,l,u,f-b)}var O=h?n:this,T=g?O[e]:e;return b=_.length,l?_=function(e,t){var n=e.length,i=Cn(t.length,n),r=Dr(e);for(;i--;){var a=t[i];e[i]=Co(a,n)?r[a]:o}return e}(_,l):v&&b>1&&_.reverse(),p&&u<b&&(_.length=u),this&&this!==mt&&this instanceof d&&(T=y||jr(T)),T.apply(O,_)}}function Vr(e,t){return function(n,i){return function(e,t,n,i){return Ei(e,(function(e,r,o){t(i,n(e),r,o)})),i}(n,e,t(i),{})}}function Br(e,t){return function(n,i){var r;if(n===o&&i===o)return t;if(n!==o&&(r=n),i!==o){if(r===o)return i;"string"==typeof n||"string"==typeof i?(n=fr(n),i=fr(i)):(n=ur(n),i=ur(i)),r=e(n,i)}return r}}function Gr(e){return ro((function(t){return t=Lt(t,en(uo())),Qi((function(n){var i=this;return e(t,(function(e){return wt(e,i,n)}))}))}))}function zr(e,t){var n=(t=t===o?" ":fr(t)).length;if(n<2)return n?$i(t,e):t;var i=$i(t,gt(e/gn(t)));return ln(t)?Sr(mn(i),0,e).join(""):i.slice(0,e)}function Kr(e){return function(t,n,r){return r&&"number"!=typeof r&&Eo(t,n,r)&&(n=r=o),t=gs(t),n===o?(n=t,t=0):n=gs(n),function(e,t,n,r){for(var o=-1,a=_n(gt((t-e)/(n||1)),0),s=i(a);a--;)s[r?a:++o]=e,e+=n;return s}(t,n,r=r===o?t<n?1:-1:gs(r),e)}}function Yr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ys(t),n=ys(n)),e(t,n)}}function Xr(e,t,n,i,r,a,s,c,l,d){var p=8&t;t|=p?u:f,4&(t&=~(p?f:u))||(t&=-4);var h=[e,t,r,p?a:o,p?s:o,p?o:a,p?o:s,c,l,d],g=n.apply(o,h);return No(e)&&Po(g,h),g.placeholder=i,Fo(g,e,t)}function Jr(e){var t=Ie[e];return function(e,n){if(e=ys(e),(n=null==n?0:Cn(ms(n),292))&&Ct(e)){var i=(_s(e)+"e").split("e");return+((i=(_s(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var $r=An&&1/pn(new An([,-0]))[1]==h?function(e){return new An(e)}:uc;function Qr(e){return function(t){var n=vo(t);return n==T?un(t):n==D?hn(t):function(e,t){return Lt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Zr(e,t,n,r,s,h,g,m){var v=2&t;if(!v&&"function"!=typeof e)throw new De(a);var y=r?r.length:0;if(y||(t&=-97,r=s=o),g=g===o?g:_n(ms(g),0),m=m===o?m:ms(m),y-=s?s.length:0,t&f){var b=r,_=s;r=s=o}var C=v?o:so(e),E=[e,t,n,r,s,b,_,h,g,m];if(C&&function(e,t){var n=e[1],i=t[1],r=n|i,o=r<131,a=i==d&&8==n||i==d&&n==p&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&i&&(e[2]=t[2],r|=1&n?0:4);var s=t[3];if(s){var l=e[3];e[3]=l?Ar(l,s,t[4]):s,e[4]=l?dn(e[3],c):t[4]}(s=t[5])&&(l=e[5],e[5]=l?kr(l,s,t[6]):s,e[6]=l?dn(e[5],c):t[6]);(s=t[7])&&(e[7]=s);i&d&&(e[8]=null==e[8]?t[8]:Cn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(E,C),e=E[0],t=E[1],n=E[2],r=E[3],s=E[4],!(m=E[9]=E[9]===o?v?0:e.length:_n(E[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==l?function(e,t,n){var r=jr(e);return function a(){for(var s=arguments.length,c=i(s),l=s,u=lo(a);l--;)c[l]=arguments[l];var f=s<3&&c[0]!==u&&c[s-1]!==u?[]:dn(c,u);return(s-=f.length)<n?Xr(e,t,qr,a.placeholder,o,c,f,o,o,n-s):wt(this&&this!==mt&&this instanceof a?r:e,this,c)}}(e,t,m):t!=u&&33!=t||s.length?qr.apply(o,E):function(e,t,n,r){var o=1&t,a=jr(e);return function t(){for(var s=-1,c=arguments.length,l=-1,u=r.length,f=i(u+c),d=this&&this!==mt&&this instanceof t?a:e;++l<u;)f[l]=r[l];for(;c--;)f[l++]=arguments[++s];return wt(d,o?n:this,f)}}(e,t,n,r);else var S=function(e,t,n){var i=1&t,r=jr(e);return function t(){return(this&&this!==mt&&this instanceof t?r:e).apply(i?n:this,arguments)}}(e,t,n);return Fo((C?nr:Po)(S,E),e,t)}function eo(e,t,n,i){return e===o||qa(e,xe[n])&&!Ue.call(i,n)?t:e}function to(e,t,n,i,r,a){return ns(e)&&ns(t)&&(a.set(t,e),Bi(e,t,o,to,a),a.delete(t)),e}function no(e){return as(e)?o:e}function io(e,t,n,i,r,a){var s=1&n,c=e.length,l=t.length;if(c!=l&&!(s&&l>c))return!1;var u=a.get(e),f=a.get(t);if(u&&f)return u==t&&f==e;var d=-1,p=!0,h=2&n?new Jn:o;for(a.set(e,t),a.set(t,e);++d<c;){var g=e[d],m=t[d];if(i)var v=s?i(m,g,d,t,e,a):i(g,m,d,e,t,a);if(v!==o){if(v)continue;p=!1;break}if(h){if(!Wt(t,(function(e,t){if(!nn(h,t)&&(g===e||r(g,e,n,i,a)))return h.push(t)}))){p=!1;break}}else if(g!==m&&!r(g,m,n,i,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function ro(e){return xo(Ao(e,o,Ko),e+"")}function oo(e){return Ti(e,Rs,go)}function ao(e){return Ti(e,xs,mo)}var so=Pn?function(e){return Pn.get(e)}:uc;function co(e){for(var t=e.name+"",n=Rn[t],i=Ue.call(Rn,t)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function lo(e){return(Ue.call(qn,"placeholder")?qn:e).placeholder}function uo(){var e=qn.iteratee||ac;return e=e===ac?Ui:e,arguments.length?e(arguments[0],arguments[1]):e}function fo(e,t){var n,i,o=e.__data__;return("string"==(i=r(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function po(e){for(var t=Rs(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,Io(r)]}return t}function ho(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Li(n)?n:o}var go=yt?function(e){return null==e?[]:(e=we(e),Rt(yt(e),(function(t){return Je.call(e,t)})))}:vc,mo=yt?function(e){for(var t=[];e;)Ut(t,go(e)),e=Ye(e);return t}:vc,vo=Ii;function yo(e,t,n){for(var i=-1,r=(t=Cr(t,e)).length,o=!1;++i<r;){var a=jo(t[i]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&ts(r)&&Co(a,r)&&(za(e)||Ga(e))}function bo(e){return"function"!=typeof e.constructor||To(e)?{}:Vn(Ye(e))}function _o(e){return za(e)||Ga(e)||!!(Qe&&e&&e[Qe])}function Co(e,t){var n=r(e);return!!(t=null==t?g:t)&&("number"==n||"symbol"!=n&&Ce.test(e))&&e>-1&&e%1==0&&e<t}function Eo(e,t,n){if(!ns(n))return!1;var i=r(t);return!!("number"==i?Ya(n)&&Co(t,n.length):"string"==i&&t in n)&&qa(n[t],e)}function So(e,t){if(za(e))return!1;var n=r(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!us(e))||(ie.test(e)||!ne.test(e)||null!=t&&e in we(t))}function No(e){var t=co(e),n=qn[t];if("function"!=typeof n||!(t in zn.prototype))return!1;if(e===n)return!0;var i=so(n);return!!i&&e===i[0]}(Tn&&vo(new Tn(new ArrayBuffer(1)))!=L||In&&vo(new In)!=T||wn&&vo(wn.resolve())!=A||An&&vo(new An)!=D||kn&&vo(new kn)!=x)&&(vo=function(e){var t=Ii(e),n=t==w?e.constructor:o,i=n?Wo(n):"";if(i)switch(i){case xn:return L;case Fn:return T;case Ln:return A;case Un:return D;case Mn:return x}return t});var Oo=Fe?Za:yc;function To(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||xe)}function Io(e){return e==e&&!ns(e)}function wo(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in we(n)))}}function Ao(e,t,n){return t=_n(t===o?e.length-1:t,0),function(){for(var r=arguments,o=-1,a=_n(r.length-t,0),s=i(a);++o<a;)s[o]=r[t+o];o=-1;for(var c=i(t+1);++o<t;)c[o]=r[o];return c[t]=n(s),wt(e,this,c)}}function ko(e,t){return t.length<2?e:Oi(e,or(t,0,-1))}function Do(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Po=Lo(nr),Ro=ht||function(e,t){return mt.setTimeout(e,t)},xo=Lo(ir);function Fo(e,t,n){var i=t+"";return xo(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return kt(y,(function(n){var i="_."+n[0];t&n[1]&&!xt(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(fe):[]}(i),n)))}function Lo(e){var t=0,n=0;return function(){var i=En(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Uo(e,t){var n=-1,i=e.length,r=i-1;for(t=t===o?i:t;++n<t;){var a=Ji(n,r),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Mo=function(e){var t=La(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,i,r){t.push(i?r.replace(he,"$1"):n||e)})),t}));function jo(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Wo(e){if(null!=e){try{return Le.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ho(e){if(e instanceof zn)return e.clone();var t=new Gn(e.__wrapped__,e.__chain__);return t.__actions__=Dr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var qo=Qi((function(e,t){return Xa(e)?pi(e,bi(t,1,Xa,!0)):[]})),Vo=Qi((function(e,t){var n=Qo(t);return Xa(n)&&(n=o),Xa(e)?pi(e,bi(t,1,Xa,!0),uo(n,2)):[]})),Bo=Qi((function(e,t){var n=Qo(t);return Xa(n)&&(n=o),Xa(e)?pi(e,bi(t,1,Xa,!0),o,n):[]}));function Go(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:ms(n);return r<0&&(r=_n(i+r,0)),Vt(e,uo(t,3),r)}function zo(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i-1;return n!==o&&(r=ms(n),r=n<0?_n(i+r,0):Cn(r,i-1)),Vt(e,uo(t,3),r,!0)}function Ko(e){return(null==e?0:e.length)?bi(e,1):[]}function Yo(e){return e&&e.length?e[0]:o}var Xo=Qi((function(e){var t=Lt(e,br);return t.length&&t[0]===e[0]?Di(t):[]})),Jo=Qi((function(e){var t=Qo(e),n=Lt(e,br);return t===Qo(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Di(n,uo(t,2)):[]})),$o=Qi((function(e){var t=Qo(e),n=Lt(e,br);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Di(n,o,t):[]}));function Qo(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Zo=Qi(ea);function ea(e,t){return e&&e.length&&t&&t.length?Yi(e,t):e}var ta=ro((function(e,t){var n=null==e?0:e.length,i=ci(e,t);return Xi(e,Lt(t,(function(e){return Co(e,n)?+e:e})).sort(wr)),i}));function na(e){return null==e?e:On.call(e)}var ia=Qi((function(e){return dr(bi(e,1,Xa,!0))})),ra=Qi((function(e){var t=Qo(e);return Xa(t)&&(t=o),dr(bi(e,1,Xa,!0),uo(t,2))})),oa=Qi((function(e){var t=Qo(e);return t="function"==typeof t?t:o,dr(bi(e,1,Xa,!0),o,t)}));function aa(e){if(!e||!e.length)return[];var t=0;return e=Rt(e,(function(e){if(Xa(e))return t=_n(e.length,t),!0})),Qt(t,(function(t){return Lt(e,Yt(t))}))}function sa(e,t){if(!e||!e.length)return[];var n=aa(e);return null==t?n:Lt(n,(function(e){return wt(t,o,e)}))}var ca=Qi((function(e,t){return Xa(e)?pi(e,t):[]})),la=Qi((function(e){return vr(Rt(e,Xa))})),ua=Qi((function(e){var t=Qo(e);return Xa(t)&&(t=o),vr(Rt(e,Xa),uo(t,2))})),fa=Qi((function(e){var t=Qo(e);return t="function"==typeof t?t:o,vr(Rt(e,Xa),o,t)})),da=Qi(aa);var pa=Qi((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,sa(e,n)}));function ha(e){var t=qn(e);return t.__chain__=!0,t}function ga(e,t){return t(e)}var ma=ro((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,r=function(t){return ci(t,e)};return!(t>1||this.__actions__.length)&&i instanceof zn&&Co(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:ga,args:[r],thisArg:o}),new Gn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(r)}));var va=Rr((function(e,t,n){Ue.call(e,n)?++e[n]:si(e,n,1)}));var ya=Wr(Go),ba=Wr(zo);function _a(e,t){return(za(e)?kt:hi)(e,uo(t,3))}function Ca(e,t){return(za(e)?Dt:gi)(e,uo(t,3))}var Ea=Rr((function(e,t,n){Ue.call(e,n)?e[n].push(t):si(e,n,[t])}));var Sa=Qi((function(e,t,n){var r=-1,o="function"==typeof t,a=Ya(e)?i(e.length):[];return hi(e,(function(e){a[++r]=o?wt(t,e,n):Pi(e,t,n)})),a})),Na=Rr((function(e,t,n){si(e,n,t)}));function Oa(e,t){return(za(e)?Lt:Hi)(e,uo(t,3))}var Ta=Rr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ia=Qi((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Eo(e,t[0],t[1])?t=[]:n>2&&Eo(t[0],t[1],t[2])&&(t=[t[0]]),zi(e,bi(t,1),[])})),wa=ft||function(){return mt.Date.now()};function Aa(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Zr(e,d,o,o,o,o,t)}function ka(e,t){var n;if("function"!=typeof t)throw new De(a);return e=ms(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Da=Qi((function(e,t,n){var i=1;if(n.length){var r=dn(n,lo(Da));i|=u}return Zr(e,i,t,n,r)})),Pa=Qi((function(e,t,n){var i=3;if(n.length){var r=dn(n,lo(Pa));i|=u}return Zr(t,i,e,n,r)}));function Ra(e,t,n){var i,r,s,c,l,u,f=0,d=!1,p=!1,h=!0;if("function"!=typeof e)throw new De(a);function g(t){var n=i,a=r;return i=r=o,f=t,c=e.apply(a,n)}function m(e){var n=e-u;return u===o||n>=t||n<0||p&&e-f>=s}function v(){var e=wa();if(m(e))return y(e);l=Ro(v,function(e){var n=t-(e-u);return p?Cn(n,s-(e-f)):n}(e))}function y(e){return l=o,h&&i?g(e):(i=r=o,c)}function b(){var e=wa(),n=m(e);if(i=arguments,r=this,u=e,n){if(l===o)return function(e){return f=e,l=Ro(v,t),d?g(e):c}(u);if(p)return Nr(l),l=Ro(v,t),g(u)}return l===o&&(l=Ro(v,t)),c}return t=ys(t)||0,ns(n)&&(d=!!n.leading,s=(p="maxWait"in n)?_n(ys(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),b.cancel=function(){l!==o&&Nr(l),f=0,i=u=r=l=o},b.flush=function(){return l===o?c:y(wa())},b}var xa=Qi((function(e,t){return di(e,1,t)})),Fa=Qi((function(e,t,n){return di(e,ys(t)||0,n)}));function La(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new De(a);var n=function n(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(La.Cache||Xn),n}function Ua(e){if("function"!=typeof e)throw new De(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}La.Cache=Xn;var Ma=Er((function(e,t){var n=(t=1==t.length&&za(t[0])?Lt(t[0],en(uo())):Lt(bi(t,1),en(uo()))).length;return Qi((function(i){for(var r=-1,o=Cn(i.length,n);++r<o;)i[r]=t[r].call(this,i[r]);return wt(e,this,i)}))})),ja=Qi((function(e,t){var n=dn(t,lo(ja));return Zr(e,u,o,t,n)})),Wa=Qi((function(e,t){var n=dn(t,lo(Wa));return Zr(e,f,o,t,n)})),Ha=ro((function(e,t){return Zr(e,p,o,o,o,t)}));function qa(e,t){return e===t||e!=e&&t!=t}var Va=Yr(wi),Ba=Yr((function(e,t){return e>=t})),Ga=Ri(function(){return arguments}())?Ri:function(e){return is(e)&&Ue.call(e,"callee")&&!Je.call(e,"callee")},za=i.isArray,Ka=Et?en(Et):function(e){return is(e)&&Ii(e)==F};function Ya(e){return null!=e&&ts(e.length)&&!Za(e)}function Xa(e){return is(e)&&Ya(e)}var Ja=_t||yc,$a=St?en(St):function(e){return is(e)&&Ii(e)==E};function Qa(e){if(!is(e))return!1;var t=Ii(e);return t==S||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function Za(e){if(!ns(e))return!1;var t=Ii(e);return t==N||t==O||"[object AsyncFunction]"==t||"[object Proxy]"==t}function es(e){return"number"==typeof e&&e==ms(e)}function ts(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=g}function ns(e){var t=r(e);return null!=e&&("object"==t||"function"==t)}function is(e){return null!=e&&"object"==r(e)}var rs=Nt?en(Nt):function(e){return is(e)&&vo(e)==T};function os(e){return"number"==typeof e||is(e)&&Ii(e)==I}function as(e){if(!is(e)||Ii(e)!=w)return!1;var t=Ye(e);if(null===t)return!0;var n=Ue.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Le.call(n)==He}var ss=Ot?en(Ot):function(e){return is(e)&&Ii(e)==k};var cs=Tt?en(Tt):function(e){return is(e)&&vo(e)==D};function ls(e){return"string"==typeof e||!za(e)&&is(e)&&Ii(e)==P}function us(e){return"symbol"==r(e)||is(e)&&Ii(e)==R}var fs=It?en(It):function(e){return is(e)&&ts(e.length)&&!!lt[Ii(e)]};var ds=Yr(Wi),ps=Yr((function(e,t){return e<=t}));function hs(e){if(!e)return[];if(Ya(e))return ls(e)?mn(e):Dr(e);if(Ze&&e[Ze])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ze]());var t=vo(e);return(t==T?un:t==D?pn:qs)(e)}function gs(e){return e?(e=ys(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ms(e){var t=gs(e),n=t%1;return t==t?n?t-n:t:0}function vs(e){return e?li(ms(e),0,v):0}function ys(e){if("number"==typeof e)return e;if(us(e))return m;if(ns(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ns(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zt(e);var n=ye.test(e);return n||_e.test(e)?pt(e.slice(2),n?2:8):ve.test(e)?m:+e}function bs(e){return Pr(e,xs(e))}function _s(e){return null==e?"":fr(e)}var Cs=xr((function(e,t){if(To(t)||Ya(t))Pr(t,Rs(t),e);else for(var n in t)Ue.call(t,n)&&ii(e,n,t[n])})),Es=xr((function(e,t){Pr(t,xs(t),e)})),Ss=xr((function(e,t,n,i){Pr(t,xs(t),e,i)})),Ns=xr((function(e,t,n,i){Pr(t,Rs(t),e,i)})),Os=ro(ci);var Ts=Qi((function(e,t){e=we(e);var n=-1,i=t.length,r=i>2?t[2]:o;for(r&&Eo(t[0],t[1],r)&&(i=1);++n<i;)for(var a=t[n],s=xs(a),c=-1,l=s.length;++c<l;){var u=s[c],f=e[u];(f===o||qa(f,xe[u])&&!Ue.call(e,u))&&(e[u]=a[u])}return e})),Is=Qi((function(e){return e.push(o,to),wt(Ls,o,e)}));function ws(e,t,n){var i=null==e?o:Oi(e,t);return i===o?n:i}function As(e,t){return null!=e&&yo(e,t,ki)}var ks=Vr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=We.call(t)),e[t]=n}),nc(oc)),Ds=Vr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=We.call(t)),Ue.call(e,t)?e[t].push(n):e[t]=[n]}),uo),Ps=Qi(Pi);function Rs(e){return Ya(e)?Qn(e):Mi(e)}function xs(e){return Ya(e)?Qn(e,!0):ji(e)}var Fs=xr((function(e,t,n){Bi(e,t,n)})),Ls=xr((function(e,t,n,i){Bi(e,t,n,i)})),Us=ro((function(e,t){var n={};if(null==e)return n;var i=!1;t=Lt(t,(function(t){return t=Cr(t,e),i||(i=t.length>1),t})),Pr(e,ao(e),n),i&&(n=ui(n,7,no));for(var r=t.length;r--;)pr(n,t[r]);return n}));var Ms=ro((function(e,t){return null==e?{}:function(e,t){return Ki(e,t,(function(t,n){return As(e,n)}))}(e,t)}));function js(e,t){if(null==e)return{};var n=Lt(ao(e),(function(e){return[e]}));return t=uo(t),Ki(e,n,(function(e,n){return t(e,n[0])}))}var Ws=Qr(Rs),Hs=Qr(xs);function qs(e){return null==e?[]:tn(e,Rs(e))}var Vs=Mr((function(e,t,n){return t=t.toLowerCase(),e+(n?Bs(t):t)}));function Bs(e){return Qs(_s(e).toLowerCase())}function Gs(e){return(e=_s(e))&&e.replace(Ee,an).replace(nt,"")}var zs=Mr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ks=Mr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ys=Ur("toLowerCase");var Xs=Mr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Js=Mr((function(e,t,n){return e+(n?" ":"")+Qs(t)}));var $s=Mr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qs=Ur("toUpperCase");function Zs(e,t,n){return e=_s(e),(t=n?o:t)===o?function(e){return at.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var ec=Qi((function(e,t){try{return wt(e,o,t)}catch(e){return Qa(e)?e:new Oe(e)}})),tc=ro((function(e,t){return kt(t,(function(t){t=jo(t),si(e,t,Da(e[t],e))})),e}));function nc(e){return function(){return e}}var ic=Hr(),rc=Hr(!0);function oc(e){return e}function ac(e){return Ui("function"==typeof e?e:ui(e,1))}var sc=Qi((function(e,t){return function(n){return Pi(n,e,t)}})),cc=Qi((function(e,t){return function(n){return Pi(e,n,t)}}));function lc(e,t,n){var i=Rs(t),r=Ni(t,i);null!=n||ns(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=Ni(t,Rs(t)));var o=!(ns(n)&&"chain"in n&&!n.chain),a=Za(e);return kt(r,(function(n){var i=t[n];e[n]=i,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Dr(this.__actions__)).push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,Ut([this.value()],arguments))})})),e}function uc(){}var fc=Gr(Lt),dc=Gr(Pt),pc=Gr(Wt);function hc(e){return So(e)?Yt(jo(e)):function(e){return function(t){return Oi(t,e)}}(e)}var gc=Kr(),mc=Kr(!0);function vc(){return[]}function yc(){return!1}var bc=Br((function(e,t){return e+t}),0),_c=Jr("ceil"),Cc=Br((function(e,t){return e/t}),1),Ec=Jr("floor");var Sc,Nc=Br((function(e,t){return e*t}),1),Oc=Jr("round"),Tc=Br((function(e,t){return e-t}),0);return qn.after=function(e,t){if("function"!=typeof t)throw new De(a);return e=ms(e),function(){if(--e<1)return t.apply(this,arguments)}},qn.ary=Aa,qn.assign=Cs,qn.assignIn=Es,qn.assignInWith=Ss,qn.assignWith=Ns,qn.at=Os,qn.before=ka,qn.bind=Da,qn.bindAll=tc,qn.bindKey=Pa,qn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return za(e)?e:[e]},qn.chain=ha,qn.chunk=function(e,t,n){t=(n?Eo(e,t,n):t===o)?1:_n(ms(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var a=0,s=0,c=i(gt(r/t));a<r;)c[s++]=or(e,a,a+=t);return c},qn.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r},qn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Ut(za(n)?Dr(n):[n],bi(t,1))},qn.cond=function(e){var t=null==e?0:e.length,n=uo();return e=t?Lt(e,(function(e){if("function"!=typeof e[1])throw new De(a);return[n(e[0]),e[1]]})):[],Qi((function(n){for(var i=-1;++i<t;){var r=e[i];if(wt(r[0],this,n))return wt(r[1],this,n)}}))},qn.conforms=function(e){return function(e){var t=Rs(e);return function(n){return fi(n,e,t)}}(ui(e,1))},qn.constant=nc,qn.countBy=va,qn.create=function(e,t){var n=Vn(e);return null==t?n:ai(n,t)},qn.curry=function e(t,n,i){var r=Zr(t,8,o,o,o,o,o,n=i?o:n);return r.placeholder=e.placeholder,r},qn.curryRight=function e(t,n,i){var r=Zr(t,l,o,o,o,o,o,n=i?o:n);return r.placeholder=e.placeholder,r},qn.debounce=Ra,qn.defaults=Ts,qn.defaultsDeep=Is,qn.defer=xa,qn.delay=Fa,qn.difference=qo,qn.differenceBy=Vo,qn.differenceWith=Bo,qn.drop=function(e,t,n){var i=null==e?0:e.length;return i?or(e,(t=n||t===o?1:ms(t))<0?0:t,i):[]},qn.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?or(e,0,(t=i-(t=n||t===o?1:ms(t)))<0?0:t):[]},qn.dropRightWhile=function(e,t){return e&&e.length?gr(e,uo(t,3),!0,!0):[]},qn.dropWhile=function(e,t){return e&&e.length?gr(e,uo(t,3),!0):[]},qn.fill=function(e,t,n,i){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Eo(e,t,n)&&(n=0,i=r),function(e,t,n,i){var r=e.length;for((n=ms(n))<0&&(n=-n>r?0:r+n),(i=i===o||i>r?r:ms(i))<0&&(i+=r),i=n>i?0:vs(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},qn.filter=function(e,t){return(za(e)?Rt:yi)(e,uo(t,3))},qn.flatMap=function(e,t){return bi(Oa(e,t),1)},qn.flatMapDeep=function(e,t){return bi(Oa(e,t),h)},qn.flatMapDepth=function(e,t,n){return n=n===o?1:ms(n),bi(Oa(e,t),n)},qn.flatten=Ko,qn.flattenDeep=function(e){return(null==e?0:e.length)?bi(e,h):[]},qn.flattenDepth=function(e,t){return(null==e?0:e.length)?bi(e,t=t===o?1:ms(t)):[]},qn.flip=function(e){return Zr(e,512)},qn.flow=ic,qn.flowRight=rc,qn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},qn.functions=function(e){return null==e?[]:Ni(e,Rs(e))},qn.functionsIn=function(e){return null==e?[]:Ni(e,xs(e))},qn.groupBy=Ea,qn.initial=function(e){return(null==e?0:e.length)?or(e,0,-1):[]},qn.intersection=Xo,qn.intersectionBy=Jo,qn.intersectionWith=$o,qn.invert=ks,qn.invertBy=Ds,qn.invokeMap=Sa,qn.iteratee=ac,qn.keyBy=Na,qn.keys=Rs,qn.keysIn=xs,qn.map=Oa,qn.mapKeys=function(e,t){var n={};return t=uo(t,3),Ei(e,(function(e,i,r){si(n,t(e,i,r),e)})),n},qn.mapValues=function(e,t){var n={};return t=uo(t,3),Ei(e,(function(e,i,r){si(n,i,t(e,i,r))})),n},qn.matches=function(e){return qi(ui(e,1))},qn.matchesProperty=function(e,t){return Vi(e,ui(t,1))},qn.memoize=La,qn.merge=Fs,qn.mergeWith=Ls,qn.method=sc,qn.methodOf=cc,qn.mixin=lc,qn.negate=Ua,qn.nthArg=function(e){return e=ms(e),Qi((function(t){return Gi(t,e)}))},qn.omit=Us,qn.omitBy=function(e,t){return js(e,Ua(uo(t)))},qn.once=function(e){return ka(2,e)},qn.orderBy=function(e,t,n,i){return null==e?[]:(za(t)||(t=null==t?[]:[t]),za(n=i?o:n)||(n=null==n?[]:[n]),zi(e,t,n))},qn.over=fc,qn.overArgs=Ma,qn.overEvery=dc,qn.overSome=pc,qn.partial=ja,qn.partialRight=Wa,qn.partition=Ta,qn.pick=Ms,qn.pickBy=js,qn.property=hc,qn.propertyOf=function(e){return function(t){return null==e?o:Oi(e,t)}},qn.pull=Zo,qn.pullAll=ea,qn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Yi(e,t,uo(n,2)):e},qn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Yi(e,t,o,n):e},qn.pullAt=ta,qn.range=gc,qn.rangeRight=mc,qn.rearg=Ha,qn.reject=function(e,t){return(za(e)?Rt:yi)(e,Ua(uo(t,3)))},qn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=uo(t,3);++i<o;){var a=e[i];t(a,i,e)&&(n.push(a),r.push(i))}return Xi(e,r),n},qn.rest=function(e,t){if("function"!=typeof e)throw new De(a);return Qi(e,t=t===o?t:ms(t))},qn.reverse=na,qn.sampleSize=function(e,t,n){return t=(n?Eo(e,t,n):t===o)?1:ms(t),(za(e)?ei:er)(e,t)},qn.set=function(e,t,n){return null==e?e:tr(e,t,n)},qn.setWith=function(e,t,n,i){return i="function"==typeof i?i:o,null==e?e:tr(e,t,n,i)},qn.shuffle=function(e){return(za(e)?ti:rr)(e)},qn.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Eo(e,t,n)?(t=0,n=i):(t=null==t?0:ms(t),n=n===o?i:ms(n)),or(e,t,n)):[]},qn.sortBy=Ia,qn.sortedUniq=function(e){return e&&e.length?lr(e):[]},qn.sortedUniqBy=function(e,t){return e&&e.length?lr(e,uo(t,2)):[]},qn.split=function(e,t,n){return n&&"number"!=typeof n&&Eo(e,t,n)&&(t=n=o),(n=n===o?v:n>>>0)?(e=_s(e))&&("string"==typeof t||null!=t&&!ss(t))&&!(t=fr(t))&&ln(e)?Sr(mn(e),0,n):e.split(t,n):[]},qn.spread=function(e,t){if("function"!=typeof e)throw new De(a);return t=null==t?0:_n(ms(t),0),Qi((function(n){var i=n[t],r=Sr(n,0,t);return i&&Ut(r,i),wt(e,this,r)}))},qn.tail=function(e){var t=null==e?0:e.length;return t?or(e,1,t):[]},qn.take=function(e,t,n){return e&&e.length?or(e,0,(t=n||t===o?1:ms(t))<0?0:t):[]},qn.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?or(e,(t=i-(t=n||t===o?1:ms(t)))<0?0:t,i):[]},qn.takeRightWhile=function(e,t){return e&&e.length?gr(e,uo(t,3),!1,!0):[]},qn.takeWhile=function(e,t){return e&&e.length?gr(e,uo(t,3)):[]},qn.tap=function(e,t){return t(e),e},qn.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new De(a);return ns(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Ra(e,t,{leading:i,maxWait:t,trailing:r})},qn.thru=ga,qn.toArray=hs,qn.toPairs=Ws,qn.toPairsIn=Hs,qn.toPath=function(e){return za(e)?Lt(e,jo):us(e)?[e]:Dr(Mo(_s(e)))},qn.toPlainObject=bs,qn.transform=function(e,t,n){var i=za(e),r=i||Ja(e)||fs(e);if(t=uo(t,4),null==n){var o=e&&e.constructor;n=r?i?new o:[]:ns(e)&&Za(o)?Vn(Ye(e)):{}}return(r?kt:Ei)(e,(function(e,i,r){return t(n,e,i,r)})),n},qn.unary=function(e){return Aa(e,1)},qn.union=ia,qn.unionBy=ra,qn.unionWith=oa,qn.uniq=function(e){return e&&e.length?dr(e):[]},qn.uniqBy=function(e,t){return e&&e.length?dr(e,uo(t,2)):[]},qn.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?dr(e,o,t):[]},qn.unset=function(e,t){return null==e||pr(e,t)},qn.unzip=aa,qn.unzipWith=sa,qn.update=function(e,t,n){return null==e?e:hr(e,t,_r(n))},qn.updateWith=function(e,t,n,i){return i="function"==typeof i?i:o,null==e?e:hr(e,t,_r(n),i)},qn.values=qs,qn.valuesIn=function(e){return null==e?[]:tn(e,xs(e))},qn.without=ca,qn.words=Zs,qn.wrap=function(e,t){return ja(_r(t),e)},qn.xor=la,qn.xorBy=ua,qn.xorWith=fa,qn.zip=da,qn.zipObject=function(e,t){return yr(e||[],t||[],ii)},qn.zipObjectDeep=function(e,t){return yr(e||[],t||[],tr)},qn.zipWith=pa,qn.entries=Ws,qn.entriesIn=Hs,qn.extend=Es,qn.extendWith=Ss,lc(qn,qn),qn.add=bc,qn.attempt=ec,qn.camelCase=Vs,qn.capitalize=Bs,qn.ceil=_c,qn.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=ys(n))==n?n:0),t!==o&&(t=(t=ys(t))==t?t:0),li(ys(e),t,n)},qn.clone=function(e){return ui(e,4)},qn.cloneDeep=function(e){return ui(e,5)},qn.cloneDeepWith=function(e,t){return ui(e,5,t="function"==typeof t?t:o)},qn.cloneWith=function(e,t){return ui(e,4,t="function"==typeof t?t:o)},qn.conformsTo=function(e,t){return null==t||fi(e,t,Rs(t))},qn.deburr=Gs,qn.defaultTo=function(e,t){return null==e||e!=e?t:e},qn.divide=Cc,qn.endsWith=function(e,t,n){e=_s(e),t=fr(t);var i=e.length,r=n=n===o?i:li(ms(n),0,i);return(n-=t.length)>=0&&e.slice(n,r)==t},qn.eq=qa,qn.escape=function(e){return(e=_s(e))&&Q.test(e)?e.replace(J,sn):e},qn.escapeRegExp=function(e){return(e=_s(e))&&ae.test(e)?e.replace(oe,"\\$&"):e},qn.every=function(e,t,n){var i=za(e)?Pt:mi;return n&&Eo(e,t,n)&&(t=o),i(e,uo(t,3))},qn.find=ya,qn.findIndex=Go,qn.findKey=function(e,t){return qt(e,uo(t,3),Ei)},qn.findLast=ba,qn.findLastIndex=zo,qn.findLastKey=function(e,t){return qt(e,uo(t,3),Si)},qn.floor=Ec,qn.forEach=_a,qn.forEachRight=Ca,qn.forIn=function(e,t){return null==e?e:_i(e,uo(t,3),xs)},qn.forInRight=function(e,t){return null==e?e:Ci(e,uo(t,3),xs)},qn.forOwn=function(e,t){return e&&Ei(e,uo(t,3))},qn.forOwnRight=function(e,t){return e&&Si(e,uo(t,3))},qn.get=ws,qn.gt=Va,qn.gte=Ba,qn.has=function(e,t){return null!=e&&yo(e,t,Ai)},qn.hasIn=As,qn.head=Yo,qn.identity=oc,qn.includes=function(e,t,n,i){e=Ya(e)?e:qs(e),n=n&&!i?ms(n):0;var r=e.length;return n<0&&(n=_n(r+n,0)),ls(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&Bt(e,t,n)>-1},qn.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:ms(n);return r<0&&(r=_n(i+r,0)),Bt(e,t,r)},qn.inRange=function(e,t,n){return t=gs(t),n===o?(n=t,t=0):n=gs(n),function(e,t,n){return e>=Cn(t,n)&&e<_n(t,n)}(e=ys(e),t,n)},qn.invoke=Ps,qn.isArguments=Ga,qn.isArray=za,qn.isArrayBuffer=Ka,qn.isArrayLike=Ya,qn.isArrayLikeObject=Xa,qn.isBoolean=function(e){return!0===e||!1===e||is(e)&&Ii(e)==C},qn.isBuffer=Ja,qn.isDate=$a,qn.isElement=function(e){return is(e)&&1===e.nodeType&&!as(e)},qn.isEmpty=function(e){if(null==e)return!0;if(Ya(e)&&(za(e)||"string"==typeof e||"function"==typeof e.splice||Ja(e)||fs(e)||Ga(e)))return!e.length;var t=vo(e);if(t==T||t==D)return!e.size;if(To(e))return!Mi(e).length;for(var n in e)if(Ue.call(e,n))return!1;return!0},qn.isEqual=function(e,t){return xi(e,t)},qn.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:o)?n(e,t):o;return i===o?xi(e,t,o,n):!!i},qn.isError=Qa,qn.isFinite=function(e){return"number"==typeof e&&Ct(e)},qn.isFunction=Za,qn.isInteger=es,qn.isLength=ts,qn.isMap=rs,qn.isMatch=function(e,t){return e===t||Fi(e,t,po(t))},qn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Fi(e,t,po(t),n)},qn.isNaN=function(e){return os(e)&&e!=+e},qn.isNative=function(e){if(Oo(e))throw new Oe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Li(e)},qn.isNil=function(e){return null==e},qn.isNull=function(e){return null===e},qn.isNumber=os,qn.isObject=ns,qn.isObjectLike=is,qn.isPlainObject=as,qn.isRegExp=ss,qn.isSafeInteger=function(e){return es(e)&&e>=-9007199254740991&&e<=g},qn.isSet=cs,qn.isString=ls,qn.isSymbol=us,qn.isTypedArray=fs,qn.isUndefined=function(e){return e===o},qn.isWeakMap=function(e){return is(e)&&vo(e)==x},qn.isWeakSet=function(e){return is(e)&&"[object WeakSet]"==Ii(e)},qn.join=function(e,t){return null==e?"":Ht.call(e,t)},qn.kebabCase=zs,qn.last=Qo,qn.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i;return n!==o&&(r=(r=ms(n))<0?_n(i+r,0):Cn(r,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,r):Vt(e,zt,r,!0)},qn.lowerCase=Ks,qn.lowerFirst=Ys,qn.lt=ds,qn.lte=ps,qn.max=function(e){return e&&e.length?vi(e,oc,wi):o},qn.maxBy=function(e,t){return e&&e.length?vi(e,uo(t,2),wi):o},qn.mean=function(e){return Kt(e,oc)},qn.meanBy=function(e,t){return Kt(e,uo(t,2))},qn.min=function(e){return e&&e.length?vi(e,oc,Wi):o},qn.minBy=function(e,t){return e&&e.length?vi(e,uo(t,2),Wi):o},qn.stubArray=vc,qn.stubFalse=yc,qn.stubObject=function(){return{}},qn.stubString=function(){return""},qn.stubTrue=function(){return!0},qn.multiply=Nc,qn.nth=function(e,t){return e&&e.length?Gi(e,ms(t)):o},qn.noConflict=function(){return mt._===this&&(mt._=qe),this},qn.noop=uc,qn.now=wa,qn.pad=function(e,t,n){e=_s(e);var i=(t=ms(t))?gn(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return zr(vt(r),n)+e+zr(gt(r),n)},qn.padEnd=function(e,t,n){e=_s(e);var i=(t=ms(t))?gn(e):0;return t&&i<t?e+zr(t-i,n):e},qn.padStart=function(e,t,n){e=_s(e);var i=(t=ms(t))?gn(e):0;return t&&i<t?zr(t-i,n)+e:e},qn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Sn(_s(e).replace(se,""),t||0)},qn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Eo(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=gs(e),t===o?(t=e,e=0):t=gs(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=Nn();return Cn(e+r*(t-e+dt("1e-"+((r+"").length-1))),t)}return Ji(e,t)},qn.reduce=function(e,t,n){var i=za(e)?Mt:Jt,r=arguments.length<3;return i(e,uo(t,4),n,r,hi)},qn.reduceRight=function(e,t,n){var i=za(e)?jt:Jt,r=arguments.length<3;return i(e,uo(t,4),n,r,gi)},qn.repeat=function(e,t,n){return t=(n?Eo(e,t,n):t===o)?1:ms(t),$i(_s(e),t)},qn.replace=function(){var e=arguments,t=_s(e[0]);return e.length<3?t:t.replace(e[1],e[2])},qn.result=function(e,t,n){var i=-1,r=(t=Cr(t,e)).length;for(r||(r=1,e=o);++i<r;){var a=null==e?o:e[jo(t[i])];a===o&&(i=r,a=n),e=Za(a)?a.call(e):a}return e},qn.round=Oc,qn.runInContext=e,qn.sample=function(e){return(za(e)?Zn:Zi)(e)},qn.size=function(e){if(null==e)return 0;if(Ya(e))return ls(e)?gn(e):e.length;var t=vo(e);return t==T||t==D?e.size:Mi(e).length},qn.snakeCase=Xs,qn.some=function(e,t,n){var i=za(e)?Wt:ar;return n&&Eo(e,t,n)&&(t=o),i(e,uo(t,3))},qn.sortedIndex=function(e,t){return sr(e,t)},qn.sortedIndexBy=function(e,t,n){return cr(e,t,uo(n,2))},qn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=sr(e,t);if(i<n&&qa(e[i],t))return i}return-1},qn.sortedLastIndex=function(e,t){return sr(e,t,!0)},qn.sortedLastIndexBy=function(e,t,n){return cr(e,t,uo(n,2),!0)},qn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=sr(e,t,!0)-1;if(qa(e[n],t))return n}return-1},qn.startCase=Js,qn.startsWith=function(e,t,n){return e=_s(e),n=null==n?0:li(ms(n),0,e.length),t=fr(t),e.slice(n,n+t.length)==t},qn.subtract=Tc,qn.sum=function(e){return e&&e.length?$t(e,oc):0},qn.sumBy=function(e,t){return e&&e.length?$t(e,uo(t,2)):0},qn.template=function(e,t,n){var i=qn.templateSettings;n&&Eo(e,t,n)&&(t=o),e=_s(e),t=Ss({},t,i,eo);var r,a,s=Ss({},t.imports,i.imports,eo),c=Rs(s),l=tn(s,c),u=0,f=t.interpolate||Se,d="__p += '",p=Ae((t.escape||Se).source+"|"+f.source+"|"+(f===te?ge:Se).source+"|"+(t.evaluate||Se).source+"|$","g"),h="//# sourceURL="+(Ue.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ct+"]")+"\n";e.replace(p,(function(t,n,i,o,s,c){return i||(i=o),d+=e.slice(u,c).replace(Ne,cn),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),d+="';\n";var g=Ue.call(t,"variable")&&t.variable;if(g){if(pe.test(g))throw new Oe("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(z,""):d).replace(K,"$1").replace(Y,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=ec((function(){return Te(c,h+"return "+d).apply(o,l)}));if(m.source=d,Qa(m))throw m;return m},qn.times=function(e,t){if((e=ms(e))<1||e>g)return[];var n=v,i=Cn(e,v);t=uo(t),e-=v;for(var r=Qt(i,t);++n<e;)t(n);return r},qn.toFinite=gs,qn.toInteger=ms,qn.toLength=vs,qn.toLower=function(e){return _s(e).toLowerCase()},qn.toNumber=ys,qn.toSafeInteger=function(e){return e?li(ms(e),-9007199254740991,g):0===e?e:0},qn.toString=_s,qn.toUpper=function(e){return _s(e).toUpperCase()},qn.trim=function(e,t,n){if((e=_s(e))&&(n||t===o))return Zt(e);if(!e||!(t=fr(t)))return e;var i=mn(e),r=mn(t);return Sr(i,rn(i,r),on(i,r)+1).join("")},qn.trimEnd=function(e,t,n){if((e=_s(e))&&(n||t===o))return e.slice(0,vn(e)+1);if(!e||!(t=fr(t)))return e;var i=mn(e);return Sr(i,0,on(i,mn(t))+1).join("")},qn.trimStart=function(e,t,n){if((e=_s(e))&&(n||t===o))return e.replace(se,"");if(!e||!(t=fr(t)))return e;var i=mn(e);return Sr(i,rn(i,mn(t))).join("")},qn.truncate=function(e,t){var n=30,i="...";if(ns(t)){var r="separator"in t?t.separator:r;n="length"in t?ms(t.length):n,i="omission"in t?fr(t.omission):i}var a=(e=_s(e)).length;if(ln(e)){var s=mn(e);a=s.length}if(n>=a)return e;var c=n-gn(i);if(c<1)return i;var l=s?Sr(s,0,c).join(""):e.slice(0,c);if(r===o)return l+i;if(s&&(c+=l.length-c),ss(r)){if(e.slice(c).search(r)){var u,f=l;for(r.global||(r=Ae(r.source,_s(me.exec(r))+"g")),r.lastIndex=0;u=r.exec(f);)var d=u.index;l=l.slice(0,d===o?c:d)}}else if(e.indexOf(fr(r),c)!=c){var p=l.lastIndexOf(r);p>-1&&(l=l.slice(0,p))}return l+i},qn.unescape=function(e){return(e=_s(e))&&$.test(e)?e.replace(X,yn):e},qn.uniqueId=function(e){var t=++Me;return _s(e)+t},qn.upperCase=$s,qn.upperFirst=Qs,qn.each=_a,qn.eachRight=Ca,qn.first=Yo,lc(qn,(Sc={},Ei(qn,(function(e,t){Ue.call(qn.prototype,t)||(Sc[t]=e)})),Sc),{chain:!1}),qn.VERSION="4.17.21",kt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){qn[e].placeholder=qn})),kt(["drop","take"],(function(e,t){zn.prototype[e]=function(n){n=n===o?1:_n(ms(n),0);var i=this.__filtered__&&!t?new zn(this):this.clone();return i.__filtered__?i.__takeCount__=Cn(n,i.__takeCount__):i.__views__.push({size:Cn(n,v),type:e+(i.__dir__<0?"Right":"")}),i},zn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),kt(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;zn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:uo(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),kt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");zn.prototype[e]=function(){return this[n](1).value()[0]}})),kt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");zn.prototype[e]=function(){return this.__filtered__?new zn(this):this[n](1)}})),zn.prototype.compact=function(){return this.filter(oc)},zn.prototype.find=function(e){return this.filter(e).head()},zn.prototype.findLast=function(e){return this.reverse().find(e)},zn.prototype.invokeMap=Qi((function(e,t){return"function"==typeof e?new zn(this):this.map((function(n){return Pi(n,e,t)}))})),zn.prototype.reject=function(e){return this.filter(Ua(uo(e)))},zn.prototype.slice=function(e,t){e=ms(e);var n=this;return n.__filtered__&&(e>0||t<0)?new zn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=ms(t))<0?n.dropRight(-t):n.take(t-e)),n)},zn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},zn.prototype.toArray=function(){return this.take(v)},Ei(zn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),r=qn[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);r&&(qn.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,c=t instanceof zn,l=s[0],u=c||za(t),f=function(e){var t=r.apply(qn,Ut([e],s));return i&&d?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(c=u=!1);var d=this.__chain__,p=!!this.__actions__.length,h=a&&!d,g=c&&!p;if(!a&&u){t=g?t:new zn(this);var m=e.apply(t,s);return m.__actions__.push({func:ga,args:[f],thisArg:o}),new Gn(m,d)}return h&&g?e.apply(this,s):(m=this.thru(f),h?i?m.value()[0]:m.value():m)})})),kt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Pe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);qn.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(za(r)?r:[],e)}return this[n]((function(n){return t.apply(za(n)?n:[],e)}))}})),Ei(zn.prototype,(function(e,t){var n=qn[t];if(n){var i=n.name+"";Ue.call(Rn,i)||(Rn[i]=[]),Rn[i].push({name:t,func:n})}})),Rn[qr(o,2).name]=[{name:"wrapper",func:o}],zn.prototype.clone=function(){var e=new zn(this.__wrapped__);return e.__actions__=Dr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Dr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Dr(this.__views__),e},zn.prototype.reverse=function(){if(this.__filtered__){var e=new zn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},zn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=za(e),i=t<0,r=n?e.length:0,o=function(e,t,n){var i=-1,r=n.length;for(;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Cn(t,e+a);break;case"takeRight":e=_n(e,t-a)}}return{start:e,end:t}}(0,r,this.__views__),a=o.start,s=o.end,c=s-a,l=i?s:a-1,u=this.__iteratees__,f=u.length,d=0,p=Cn(c,this.__takeCount__);if(!n||!i&&r==c&&p==c)return mr(e,this.__actions__);var h=[];e:for(;c--&&d<p;){for(var g=-1,m=e[l+=t];++g<f;){var v=u[g],y=v.iteratee,b=v.type,_=y(m);if(2==b)m=_;else if(!_){if(1==b)continue e;break e}}h[d++]=m}return h},qn.prototype.at=ma,qn.prototype.chain=function(){return ha(this)},qn.prototype.commit=function(){return new Gn(this.value(),this.__chain__)},qn.prototype.next=function(){this.__values__===o&&(this.__values__=hs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},qn.prototype.plant=function(e){for(var t,n=this;n instanceof Bn;){var i=Ho(n);i.__index__=0,i.__values__=o,t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t},qn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof zn){var t=e;return this.__actions__.length&&(t=new zn(this)),(t=t.reverse()).__actions__.push({func:ga,args:[na],thisArg:o}),new Gn(t,this.__chain__)}return this.thru(na)},qn.prototype.toJSON=qn.prototype.valueOf=qn.prototype.value=function(){return mr(this.__wrapped__,this.__actions__)},qn.prototype.first=qn.prototype.head,Ze&&(qn.prototype[Ze]=function(){return this}),qn}();"object"==r(n.amdO)&&n.amdO?(mt._=bn,(i=function(){return bn}.call(t,n,t,e))===o||(e.exports=i)):yt?((yt.exports=bn)._=bn,vt._=bn):mt._=bn}.call(this)},7347:function(e){"use strict";function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},t.apply(this,arguments)}var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var n={},i=0;i<10;i++)n["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(n).map((function(e){return n[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(t({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var o,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))i.call(o,l)&&(s[l]=o[l]);if(n){a=n(o);for(var u=0;u<a.length;u++)r.call(o,a[u])&&(s[a[u]]=o[a[u]])}}return s}},1574:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)},o=s(n(5466)),a=s(n(9543));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)((function(e,t,n,i,a){var s=e[t],c=void 0===s?"undefined":r(s);return o.default.isValidElement(s)?new Error("Invalid "+i+" `"+a+"` of type ReactElement supplied to `"+n+"`, expected a ReactComponent or a DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):"object"===c&&"function"==typeof s.render||1===s.nodeType?null:new Error("Invalid "+i+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected a ReactComponent or a DOMElement.")})),e.exports=t.default},8536:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var i,r=n(6516),o=(i=r)&&i.__esModule?i:{default:i};var a={};function s(e,t){return function(n,i,r,s,c){var l=r||"<<anonymous>>",u=c||i;if(null!=n[i]){var f=r+"."+i;(0,o.default)(a[f],"The "+s+" `"+u+"` of `"+l+"` is deprecated. "+t+"."),a[f]=!0}for(var d=arguments.length,p=Array(d>5?d-5:0),h=5;h<d;h++)p[h-5]=arguments[h];return e.apply(void 0,[n,i,r,s,c].concat(p))}}s._resetWarned=function(){a={}},e.exports=t.default},2909:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(5466)),r=n(9972),o=a(n(9543));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((function(e,t,n,o,a){var s=e[t];return i.default.isValidElement(s)?new Error("Invalid "+o+" `"+a+"` of type ReactElement supplied to `"+n+"`,expected an element type (a string , component class, or function component)."):(0,r.isValidElementType)(s)?null:new Error("Invalid "+o+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected an element type (a string , component class, or function component).")})),e.exports=t.default},9543:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,i,r,o,a){var s=r||"<<anonymous>>",c=a||i;if(null==n[i])return t?new Error("Required "+o+" `"+c+"` was not specified in `"+s+"`."):null;for(var l=arguments.length,u=Array(l>6?l-6:0),f=6;f<l;f++)u[f-6]=arguments[f];return e.apply(void 0,[n,i,s,o,c].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},6516:function(e){"use strict";var t=function(){};e.exports=t},3433:function(e,t,n){"use strict";var i=n(6642);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},3074:function(e,t,n){e.exports=n(3433)()},6642:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3748:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var r=n(5466),o=n(7347),a=n(7767);function s(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);!function(e,t,n,i,r,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,o,a,s],l=0;(e=Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function c(e,t,n,i,r,o,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}r||s("227");var l=!1,u=null,f=!1,d=null,p={onError:function(e){l=!0,u=e}};function h(e,t,n,i,r,o,a,s,f){l=!1,u=null,c.apply(p,arguments)}var g=null,m={};function v(){if(g)for(var e in m){var t=m[e],n=g.indexOf(e);if(-1<n||s("96",e),!b[n])for(var i in t.extractEvents||s("97",e),b[n]=t,n=t.eventTypes){var r=void 0,o=n[i],a=t,c=i;_.hasOwnProperty(c)&&s("99",c),_[c]=o;var l=o.phasedRegistrationNames;if(l){for(r in l)l.hasOwnProperty(r)&&y(l[r],a,c);r=!0}else o.registrationName?(y(o.registrationName,a,c),r=!0):r=!1;r||s("98",i,e)}}}function y(e,t,n){C[e]&&s("100",e),C[e]=t,E[e]=t.eventTypes[n].dependencies}var b=[],_={},C={},E={},S=null,N=null,O=null;function T(e,t,n){var i=e.type||"unknown-event";e.currentTarget=O(n),function(e,t,n,i,r,o,a,c,p){if(h.apply(this,arguments),l){if(l){var g=u;l=!1,u=null}else s("198"),g=void 0;f||(f=!0,d=g)}}(i,t,void 0,e),e.currentTarget=null}function I(e,t){return null==t&&s("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function w(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var A=null;function k(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)T(e,t[i],n[i]);else t&&T(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var D={injectEventPluginOrder:function(e){g&&s("101"),g=Array.prototype.slice.call(e),v()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];m.hasOwnProperty(t)&&m[t]===i||(m[t]&&s("102",t),m[t]=i,n=!0)}n&&v()}};function P(e,t){var n=e.stateNode;if(!n)return null;var r=S(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&s("231",t,i(n)),n)}function R(e){if(null!==e&&(A=I(A,e)),e=A,A=null,e&&(w(e,k),A&&s("95"),f))throw e=d,f=!1,d=null,e}var x=Math.random().toString(36).slice(2),F="__reactInternalInstance$"+x,L="__reactEventHandlers$"+x;function U(e){if(e[F])return e[F];for(;!e[F];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[F]).tag||6===e.tag?e:null}function M(e){return!(e=e[F])||5!==e.tag&&6!==e.tag?null:e}function j(e){if(5===e.tag||6===e.tag)return e.stateNode;s("33")}function W(e){return e[L]||null}function H(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function q(e,t,n){(t=P(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=I(n._dispatchListeners,t),n._dispatchInstances=I(n._dispatchInstances,e))}function V(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=H(t);for(t=n.length;0<t--;)q(n[t],"captured",e);for(t=0;t<n.length;t++)q(n[t],"bubbled",e)}}function B(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=P(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=I(n._dispatchListeners,t),n._dispatchInstances=I(n._dispatchInstances,e))}function G(e){e&&e.dispatchConfig.registrationName&&B(e._targetInst,null,e)}function z(e){w(e,V)}var K=!("undefined"==typeof window||!window.document||!window.document.createElement);function Y(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var X={animationend:Y("Animation","AnimationEnd"),animationiteration:Y("Animation","AnimationIteration"),animationstart:Y("Animation","AnimationStart"),transitionend:Y("Transition","TransitionEnd")},J={},$={};function Q(e){if(J[e])return J[e];if(!X[e])return e;var t,n=X[e];for(t in n)if(n.hasOwnProperty(t)&&t in $)return J[e]=n[t];return e}K&&($=document.createElement("div").style,"AnimationEvent"in window||(delete X.animationend.animation,delete X.animationiteration.animation,delete X.animationstart.animation),"TransitionEvent"in window||delete X.transitionend.transition);var Z=Q("animationend"),ee=Q("animationiteration"),te=Q("animationstart"),ne=Q("transitionend"),ie="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),re=null,oe=null,ae=null;function se(){if(ae)return ae;var e,t,n=oe,i=n.length,r="value"in re?re.value:re.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return ae=r.slice(e,1<t?1-t:void 0)}function ce(){return!0}function le(){return!1}function ue(e,t,n,i){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ce:le,this.isPropagationStopped=le,this}function fe(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function de(e){e instanceof this||s("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function pe(e){e.eventPool=[],e.getPooled=fe,e.release=de}o(ue.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ce)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ce)},persist:function(){this.isPersistent=ce},isPersistent:le,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=le,this._dispatchInstances=this._dispatchListeners=null}}),ue.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ue.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var r=new t;return o(r,n.prototype),n.prototype=r,n.prototype.constructor=n,n.Interface=o({},i.Interface,e),n.extend=i.extend,pe(n),n},pe(ue);var he=ue.extend({data:null}),ge=ue.extend({data:null}),me=[9,13,27,32],ve=K&&"CompositionEvent"in window,ye=null;K&&"documentMode"in document&&(ye=document.documentMode);var be=K&&"TextEvent"in window&&!ye,_e=K&&(!ve||ye&&8<ye&&11>=ye),Ce=String.fromCharCode(32),Ee={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Se=!1;function Ne(e,t){switch(e){case"keyup":return-1!==me.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Oe(e){return"object"===i(e=e.detail)&&"data"in e?e.data:null}var Te=!1;var Ie={eventTypes:Ee,extractEvents:function(e,t,n,i){var r=void 0,o=void 0;if(ve)e:{switch(e){case"compositionstart":r=Ee.compositionStart;break e;case"compositionend":r=Ee.compositionEnd;break e;case"compositionupdate":r=Ee.compositionUpdate;break e}r=void 0}else Te?Ne(e,n)&&(r=Ee.compositionEnd):"keydown"===e&&229===n.keyCode&&(r=Ee.compositionStart);return r?(_e&&"ko"!==n.locale&&(Te||r!==Ee.compositionStart?r===Ee.compositionEnd&&Te&&(o=se()):(oe="value"in(re=i)?re.value:re.textContent,Te=!0)),r=he.getPooled(r,t,n,i),o?r.data=o:null!==(o=Oe(n))&&(r.data=o),z(r),o=r):o=null,(e=be?function(e,t){switch(e){case"compositionend":return Oe(t);case"keypress":return 32!==t.which?null:(Se=!0,Ce);case"textInput":return(e=t.data)===Ce&&Se?null:e;default:return null}}(e,n):function(e,t){if(Te)return"compositionend"===e||!ve&&Ne(e,t)?(e=se(),ae=oe=re=null,Te=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _e&&"ko"!==t.locale?null:t.data}}(e,n))?((t=ge.getPooled(Ee.beforeInput,t,n,i)).data=e,z(t)):t=null,null===o?t:null===t?o:[o,t]}},we=null,Ae=null,ke=null;function De(e){if(e=N(e)){"function"!=typeof we&&s("280");var t=S(e.stateNode);we(e.stateNode,e.type,t)}}function Pe(e){Ae?ke?ke.push(e):ke=[e]:Ae=e}function Re(){if(Ae){var e=Ae,t=ke;if(ke=Ae=null,De(e),t)for(e=0;e<t.length;e++)De(t[e])}}function xe(e,t){return e(t)}function Fe(e,t,n){return e(t,n)}function Le(){}var Ue=!1;function Me(e,t){if(Ue)return e(t);Ue=!0;try{return xe(e,t)}finally{Ue=!1,(null!==Ae||null!==ke)&&(Le(),Re())}}var je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function We(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!je[e.type]:"textarea"===t}function He(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function qe(e){if(!K)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function Ve(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Be(e){e._valueTracker||(e._valueTracker=function(e){var t=Ve(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ge(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Ve(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}var ze=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;ze.hasOwnProperty("ReactCurrentDispatcher")||(ze.ReactCurrentDispatcher={current:null});var Ke=/^(.*)[\\\/]/,Ye="function"==typeof Symbol&&Symbol.for,Xe=Ye?Symbol.for("react.element"):60103,Je=Ye?Symbol.for("react.portal"):60106,$e=Ye?Symbol.for("react.fragment"):60107,Qe=Ye?Symbol.for("react.strict_mode"):60108,Ze=Ye?Symbol.for("react.profiler"):60114,et=Ye?Symbol.for("react.provider"):60109,tt=Ye?Symbol.for("react.context"):60110,nt=Ye?Symbol.for("react.concurrent_mode"):60111,it=Ye?Symbol.for("react.forward_ref"):60112,rt=Ye?Symbol.for("react.suspense"):60113,ot=Ye?Symbol.for("react.memo"):60115,at=Ye?Symbol.for("react.lazy"):60116,st="function"==typeof Symbol&&Symbol.iterator;function ct(e){return null===e||"object"!==i(e)?null:"function"==typeof(e=st&&e[st]||e["@@iterator"])?e:null}function lt(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case nt:return"ConcurrentMode";case $e:return"Fragment";case Je:return"Portal";case Ze:return"Profiler";case Qe:return"StrictMode";case rt:return"Suspense"}if("object"===i(e))switch(e.$$typeof){case tt:return"Context.Consumer";case et:return"Context.Provider";case it:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ot:return lt(e.type);case at:if(e=1===e._status?e._result:null)return lt(e)}return null}function ut(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,r=e._debugSource,o=lt(e.type);n=null,i&&(n=lt(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace(Ke,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}t+=n,e=e.return}while(e);return t}var ft=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dt=Object.prototype.hasOwnProperty,pt={},ht={};function gt(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(i(t)){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mt(e,t,n,i,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){vt[e]=new mt(e,0,!1,e,null)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];vt[t]=new mt(t,1,!1,e[1],null)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){vt[e]=new mt(e,2,!1,e.toLowerCase(),null)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){vt[e]=new mt(e,2,!1,e,null)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){vt[e]=new mt(e,3,!1,e.toLowerCase(),null)})),["checked","multiple","muted","selected"].forEach((function(e){vt[e]=new mt(e,3,!0,e,null)})),["capture","download"].forEach((function(e){vt[e]=new mt(e,4,!1,e,null)})),["cols","rows","size","span"].forEach((function(e){vt[e]=new mt(e,6,!1,e,null)})),["rowSpan","start"].forEach((function(e){vt[e]=new mt(e,5,!1,e.toLowerCase(),null)}));var yt=/[\-:]([a-z])/g;function bt(e){return e[1].toUpperCase()}function _t(e,t,n,i){var r=vt.hasOwnProperty(t)?vt[t]:null;(null!==r?0===r.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(gt(t,n,r,i)&&(n=null),i||null===r?function(e){return!!dt.call(ht,e)||!dt.call(pt,e)&&(ft.test(e)?ht[e]=!0:(pt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}function Ct(e){switch(i(e)){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Et(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function St(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=Ct(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Nt(e,t){null!=(t=t.checked)&&_t(e,"checked",t,!1)}function Ot(e,t){Nt(e,t);var n=Ct(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?It(e,t.type,n):t.hasOwnProperty("defaultValue")&&It(e,t.type,Ct(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Tt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function It(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(yt,bt);vt[t]=new mt(t,1,!1,e,null)})),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(yt,bt);vt[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink")})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(yt,bt);vt[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")})),["tabIndex","crossOrigin"].forEach((function(e){vt[e]=new mt(e,1,!1,e.toLowerCase(),null)}));var wt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function At(e,t,n){return(e=ue.getPooled(wt.change,e,t,n)).type="change",Pe(n),z(e),e}var kt=null,Dt=null;function Pt(e){R(e)}function Rt(e){if(Ge(j(e)))return e}function xt(e,t){if("change"===e)return t}var Ft=!1;function Lt(){kt&&(kt.detachEvent("onpropertychange",Ut),Dt=kt=null)}function Ut(e){"value"===e.propertyName&&Rt(Dt)&&Me(Pt,e=At(Dt,e,He(e)))}function Mt(e,t,n){"focus"===e?(Lt(),Dt=n,(kt=t).attachEvent("onpropertychange",Ut)):"blur"===e&&Lt()}function jt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Rt(Dt)}function Wt(e,t){if("click"===e)return Rt(t)}function Ht(e,t){if("input"===e||"change"===e)return Rt(t)}K&&(Ft=qe("input")&&(!document.documentMode||9<document.documentMode));var qt={eventTypes:wt,_isInputEventSupported:Ft,extractEvents:function(e,t,n,i){var r=t?j(t):window,o=void 0,a=void 0,s=r.nodeName&&r.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===r.type?o=xt:We(r)?Ft?o=Ht:(o=jt,a=Mt):(s=r.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=Wt),o&&(o=o(e,t)))return At(o,n,i);a&&a(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&It(r,"number",r.value)}},Vt=ue.extend({view:null,detail:null}),Bt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Bt[e])&&!!t[e]}function zt(){return Gt}var Kt=0,Yt=0,Xt=!1,Jt=!1,$t=Vt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:zt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Kt;return Kt=e.screenX,Xt?"mousemove"===e.type?e.screenX-t:0:(Xt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Yt;return Yt=e.screenY,Jt?"mousemove"===e.type?e.screenY-t:0:(Jt=!0,0)}}),Qt=$t.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Zt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},en={eventTypes:Zt,extractEvents:function(e,t,n,i){var r="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(r&&(n.relatedTarget||n.fromElement)||!o&&!r)return null;if(r=i.window===i?i:(r=i.ownerDocument)?r.defaultView||r.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?U(t):null):o=null,o===t)return null;var a=void 0,s=void 0,c=void 0,l=void 0;"mouseout"===e||"mouseover"===e?(a=$t,s=Zt.mouseLeave,c=Zt.mouseEnter,l="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=Qt,s=Zt.pointerLeave,c=Zt.pointerEnter,l="pointer");var u=null==o?r:j(o);if(r=null==t?r:j(t),(e=a.getPooled(s,o,n,i)).type=l+"leave",e.target=u,e.relatedTarget=r,(n=a.getPooled(c,t,n,i)).type=l+"enter",n.target=r,n.relatedTarget=u,i=t,o&&i)e:{for(r=i,l=0,a=t=o;a;a=H(a))l++;for(a=0,c=r;c;c=H(c))a++;for(;0<l-a;)t=H(t),l--;for(;0<a-l;)r=H(r),a--;for(;l--;){if(t===r||t===r.alternate)break e;t=H(t),r=H(r)}t=null}else t=null;for(r=t,t=[];o&&o!==r&&(null===(l=o.alternate)||l!==r);)t.push(o),o=H(o);for(o=[];i&&i!==r&&(null===(l=i.alternate)||l!==r);)o.push(i),i=H(i);for(i=0;i<t.length;i++)B(t[i],"bubbled",e);for(i=o.length;0<i--;)B(o[i],"captured",n);return[e,n]}};function tn(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var nn=Object.prototype.hasOwnProperty;function rn(e,t){if(tn(e,t))return!0;if("object"!==i(e)||null===e||"object"!==i(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!nn.call(t,n[r])||!tn(e[n[r]],t[n[r]]))return!1;return!0}function on(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function an(e){2!==on(e)&&s("188")}function sn(e){if(e=function(e){var t=e.alternate;if(!t)return 3===(t=on(e))&&s("188"),1===t?null:e;for(var n=e,i=t;;){var r=n.return,o=r?r.alternate:null;if(!r||!o)break;if(r.child===o.child){for(var a=r.child;a;){if(a===n)return an(r),e;if(a===i)return an(r),t;a=a.sibling}s("188")}if(n.return!==i.return)n=r,i=o;else{a=!1;for(var c=r.child;c;){if(c===n){a=!0,n=r,i=o;break}if(c===i){a=!0,i=r,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,i=r;break}if(c===i){a=!0,i=o,n=r;break}c=c.sibling}a||s("189")}}n.alternate!==i&&s("190")}return 3!==n.tag&&s("188"),n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var cn=ue.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ln=ue.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),un=Vt.extend({relatedTarget:null});function fn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn=Vt.extend({key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=fn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:zt,charCode:function(e){return"keypress"===e.type?fn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?fn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),gn=$t.extend({dataTransfer:null}),mn=Vt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:zt}),vn=ue.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),yn=$t.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),bn=[["abort","abort"],[Z,"animationEnd"],[ee,"animationIteration"],[te,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ne,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],_n={},Cn={};function En(e,t){var n=e[0],i="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[n],isInteractive:t},_n[e]=t,Cn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach((function(e){En(e,!0)})),bn.forEach((function(e){En(e,!1)}));var Sn={eventTypes:_n,isInteractiveTopLevelEventType:function(e){return void 0!==(e=Cn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,i){var r=Cn[e];if(!r)return null;switch(e){case"keypress":if(0===fn(n))return null;case"keydown":case"keyup":e=hn;break;case"blur":case"focus":e=un;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=$t;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=mn;break;case Z:case ee:case te:e=cn;break;case ne:e=vn;break;case"scroll":e=Vt;break;case"wheel":e=yn;break;case"copy":case"cut":case"paste":e=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Qt;break;default:e=ue}return z(t=e.getPooled(r,t,n,i)),t}},Nn=Sn.isInteractiveTopLevelEventType,On=[];function Tn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i;for(i=n;i.return;)i=i.return;if(!(i=3!==i.tag?null:i.stateNode.containerInfo))break;e.ancestors.push(n),n=U(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=He(e.nativeEvent);i=e.topLevelType;for(var o=e.nativeEvent,a=null,s=0;s<b.length;s++){var c=b[s];c&&(c=c.extractEvents(i,t,o,r))&&(a=I(a,c))}R(a)}}var In=!0;function wn(e,t){if(!t)return null;var n=(Nn(e)?kn:Dn).bind(null,e);t.addEventListener(e,n,!1)}function An(e,t){if(!t)return null;var n=(Nn(e)?kn:Dn).bind(null,e);t.addEventListener(e,n,!0)}function kn(e,t){Fe(Dn,e,t)}function Dn(e,t){if(In){var n=He(t);if(null===(n=U(n))||"number"!=typeof n.tag||2===on(n)||(n=null),On.length){var i=On.pop();i.topLevelType=e,i.nativeEvent=t,i.targetInst=n,e=i}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Me(Tn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>On.length&&On.push(e)}}}var Pn={},Rn=0,xn="_reactListenersID"+(""+Math.random()).slice(2);function Fn(e){return Object.prototype.hasOwnProperty.call(e,xn)||(e[xn]=Rn++,Pn[e[xn]]={}),Pn[e[xn]]}function Ln(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mn(e,t){var n,i=Un(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Un(i)}}function jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Wn(){for(var e=window,t=Ln();t instanceof e.HTMLIFrameElement;){try{e=t.contentDocument.defaultView}catch(e){break}t=Ln(e.document)}return t}function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function qn(e){var t=Wn(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jn(n.ownerDocument.documentElement,n)){if(null!==i&&Hn(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=Mn(n,o);var a=Mn(n,i);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vn=K&&"documentMode"in document&&11>=document.documentMode,Bn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Gn=null,zn=null,Kn=null,Yn=!1;function Xn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Yn||null==Gn||Gn!==Ln(n)?null:("selectionStart"in(n=Gn)&&Hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Kn&&rn(Kn,n)?null:(Kn=n,(e=ue.getPooled(Bn.select,zn,e,t)).type="select",e.target=Gn,z(e),e))}var Jn={eventTypes:Bn,extractEvents:function(e,t,n,i){var r,o=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;if(!(r=!o)){e:{o=Fn(o),r=E.onSelect;for(var a=0;a<r.length;a++){var s=r[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}r=!o}if(r)return null;switch(o=t?j(t):window,e){case"focus":(We(o)||"true"===o.contentEditable)&&(Gn=o,zn=t,Kn=null);break;case"blur":Kn=zn=Gn=null;break;case"mousedown":Yn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yn=!1,Xn(n,i);case"selectionchange":if(Vn)break;case"keydown":case"keyup":return Xn(n,i)}return null}};function $n(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Qn(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ct(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Zn(e,t){return null!=t.dangerouslySetInnerHTML&&s("91"),o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ei(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&s("92"),Array.isArray(t)&&(1>=t.length||s("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:Ct(n)}}function ti(e,t){var n=Ct(t.value),i=Ct(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ni(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}D.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),S=W,N=M,O=j,D.injectEventPluginsByName({SimpleEventPlugin:Sn,EnterLeaveEventPlugin:en,ChangeEventPlugin:qt,SelectEventPlugin:Jn,BeforeInputEventPlugin:Ie});var ii={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ri(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oi(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ri(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ai,si=void 0,ci=(ai=function(e,t){if(e.namespaceURI!==ii.svg||"innerHTML"in e)e.innerHTML=t;else{for((si=si||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=si.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ai(e,t)}))}:ai);function li(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ui={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fi=["Webkit","ms","Moz","O"];function di(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ui.hasOwnProperty(e)&&ui[e]?(""+t).trim():t+"px"}function pi(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=di(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(ui).forEach((function(e){fi.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ui[t]=ui[e]}))}));var hi=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gi(e,t){t&&(hi[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&s("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&s("60"),"object"===i(t.dangerouslySetInnerHTML)&&"__html"in t.dangerouslySetInnerHTML||s("61")),null!=t.style&&"object"!==i(t.style)&&s("62",""))}function mi(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function vi(e,t){var n=Fn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=E[t];for(var i=0;i<t.length;i++){var r=t[i];if(!n.hasOwnProperty(r)||!n[r]){switch(r){case"scroll":An("scroll",e);break;case"focus":case"blur":An("focus",e),An("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":qe(r)&&An(r,e);break;case"invalid":case"submit":case"reset":break;default:-1===ie.indexOf(r)&&wn(r,e)}n[r]=!0}}}function yi(){}var bi=null,_i=null;function Ci(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ei(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"===i(t.dangerouslySetInnerHTML)&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Si="function"==typeof setTimeout?setTimeout:void 0,Ni="function"==typeof clearTimeout?clearTimeout:void 0,Oi=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback;function Ii(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function wi(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Ai=[],ki=-1;function Di(e){0>ki||(e.current=Ai[ki],Ai[ki]=null,ki--)}function Pi(e,t){ki++,Ai[ki]=e.current,e.current=t}var Ri={},xi={current:Ri},Fi={current:!1},Li=Ri;function Ui(e,t){var n=e.type.contextTypes;if(!n)return Ri;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Mi(e){return null!=(e=e.childContextTypes)}function ji(e){Di(Fi),Di(xi)}function Wi(e){Di(Fi),Di(xi)}function Hi(e,t,n){xi.current!==Ri&&s("168"),Pi(xi,t),Pi(Fi,n)}function qi(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var r in i=i.getChildContext())r in e||s("108",lt(t)||"Unknown",r);return o({},n,i)}function Vi(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Ri,Li=xi.current,Pi(xi,t),Pi(Fi,Fi.current),!0}function Bi(e,t,n){var i=e.stateNode;i||s("169"),n?(t=qi(e,t,Li),i.__reactInternalMemoizedMergedChildContext=t,Di(Fi),Di(xi),Pi(xi,t)):Di(Fi),Pi(Fi,n)}var Gi=null,zi=null;function Ki(e){return function(t){try{return e(t)}catch(e){}}}function Yi(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Xi(e,t,n,i){return new Yi(e,t,n,i)}function Ji(e){return!(!(e=e.prototype)||!e.isReactComponent)}function $i(e,t){var n=e.alternate;return null===n?((n=Xi(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qi(e,t,n,r,o,a){var c=2;if(r=e,"function"==typeof e)Ji(e)&&(c=1);else if("string"==typeof e)c=5;else e:switch(e){case $e:return Zi(n.children,o,a,t);case nt:return er(n,3|o,a,t);case Qe:return er(n,2|o,a,t);case Ze:return(e=Xi(12,n,t,4|o)).elementType=Ze,e.type=Ze,e.expirationTime=a,e;case rt:return(e=Xi(13,n,t,o)).elementType=rt,e.type=rt,e.expirationTime=a,e;default:if("object"===i(e)&&null!==e)switch(e.$$typeof){case et:c=10;break e;case tt:c=9;break e;case it:c=11;break e;case ot:c=14;break e;case at:c=16,r=null;break e}s("130",null==e?e:i(e),"")}return(t=Xi(c,n,t,o)).elementType=e,t.type=r,t.expirationTime=a,t}function Zi(e,t,n,i){return(e=Xi(7,e,i,t)).expirationTime=n,e}function er(e,t,n,i){return e=Xi(8,e,i,t),t=0==(1&t)?Qe:nt,e.elementType=t,e.type=t,e.expirationTime=n,e}function tr(e,t,n){return(e=Xi(6,e,null,t)).expirationTime=n,e}function nr(e,t,n){return(t=Xi(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ir(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),ar(t,e)}function rr(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,i=e.latestPendingTime;n===t?e.earliestPendingTime=i===t?e.latestPendingTime=0:i:i===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,i=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:i>t&&(e.latestSuspendedTime=t),ar(t,e)}function or(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function ar(e,t){var n=t.earliestSuspendedTime,i=t.latestSuspendedTime,r=t.earliestPendingTime,o=t.latestPingedTime;0===(r=0!==r?r:o)&&(0===e||i<e)&&(r=i),0!==(e=r)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=r,t.expirationTime=e}function sr(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var cr=(new r.Component).refs;function lr(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,null!==(i=e.updateQueue)&&0===e.expirationTime&&(i.baseState=n)}var ur={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===on(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=As(),r=ea(i=es(i,e));r.payload=t,null!=n&&(r.callback=n),Ya(),na(e,r),rs(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=As(),r=ea(i=es(i,e));r.tag=Yo,r.payload=t,null!=n&&(r.callback=n),Ya(),na(e,r),rs(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=As(),i=ea(n=es(n,e));i.tag=Xo,null!=t&&(i.callback=t),Ya(),na(e,i),rs(e,n)}};function fr(e,t,n,i,r,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!rn(n,i)||!rn(r,o))}function dr(e,t,n){var r=!1,o=Ri,a=t.contextType;return"object"===i(a)&&null!==a?a=zo(a):(o=Mi(t)?Li:xi.current,a=(r=null!=(r=t.contextTypes))?Ui(e,o):Ri),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ur,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function pr(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ur.enqueueReplaceState(t,t.state,null)}function hr(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=cr;var a=t.contextType;"object"===i(a)&&null!==a?o.context=zo(a):(a=Mi(t)?Li:xi.current,o.context=Ui(e,a)),null!==(a=e.updateQueue)&&(aa(e,a,n,o,r),o.state=e.memoizedState),"function"==typeof(a=t.getDerivedStateFromProps)&&(lr(e,t,a,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&ur.enqueueReplaceState(o,o.state,null),null!==(a=e.updateQueue)&&(aa(e,a,n,o,r),o.state=e.memoizedState)),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}var gr=Array.isArray;function mr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!==i(e)){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&s("309"),r=n.stateNode),r||s("147",e);var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;t===cr&&(t=r.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}"string"!=typeof e&&s("284"),n._owner||s("290",e)}return e}function vr(e,t){"textarea"!==e.type&&s("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function yr(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,n){return(e=$i(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function c(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=tr(n,e.mode,i)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,i){return null!==t&&t.elementType===n.type?((i=o(t,n.props)).ref=mr(e,t,n),i.return=e,i):((i=Qi(n.type,n.key,n.props,null,e.mode,i)).ref=mr(e,t,n),i.return=e,i)}function f(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=nr(n,e.mode,i)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,i,r){return null===t||7!==t.tag?((t=Zi(n,e.mode,i,r)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=tr(""+t,e.mode,n)).return=e,t;if("object"===i(t)&&null!==t){switch(t.$$typeof){case Xe:return(n=Qi(t.type,t.key,t.props,null,e.mode,n)).ref=mr(e,null,t),n.return=e,n;case Je:return(t=nr(t,e.mode,n)).return=e,t}if(gr(t)||ct(t))return(t=Zi(t,e.mode,n,null)).return=e,t;vr(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===i(n)&&null!==n){switch(n.$$typeof){case Xe:return n.key===o?n.type===$e?d(e,t,n.props.children,r,o):u(e,t,n,r):null;case Je:return n.key===o?f(e,t,n,r):null}if(gr(n)||ct(n))return null!==o?null:d(e,t,n,r,null);vr(e,n)}return null}function g(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===i(r)&&null!==r){switch(r.$$typeof){case Xe:return e=e.get(null===r.key?n:r.key)||null,r.type===$e?d(t,e,r.props.children,o,r.key):u(t,e,r,o);case Je:return f(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(gr(r)||ct(r))return d(t,e=e.get(n)||null,r,o,null);vr(t,r)}return null}function m(i,o,s,c){for(var l=null,u=null,f=o,d=o=0,m=null;null!==f&&d<s.length;d++){f.index>d?(m=f,f=null):m=f.sibling;var v=h(i,f,s[d],c);if(null===v){null===f&&(f=m);break}e&&f&&null===v.alternate&&t(i,f),o=a(v,o,d),null===u?l=v:u.sibling=v,u=v,f=m}if(d===s.length)return n(i,f),l;if(null===f){for(;d<s.length;d++)(f=p(i,s[d],c))&&(o=a(f,o,d),null===u?l=f:u.sibling=f,u=f);return l}for(f=r(i,f);d<s.length;d++)(m=g(f,i,d,s[d],c))&&(e&&null!==m.alternate&&f.delete(null===m.key?d:m.key),o=a(m,o,d),null===u?l=m:u.sibling=m,u=m);return e&&f.forEach((function(e){return t(i,e)})),l}function v(i,o,c,l){var u=ct(c);"function"!=typeof u&&s("150"),null==(c=u.call(c))&&s("151");for(var f=u=null,d=o,m=o=0,v=null,y=c.next();null!==d&&!y.done;m++,y=c.next()){d.index>m?(v=d,d=null):v=d.sibling;var b=h(i,d,y.value,l);if(null===b){d||(d=v);break}e&&d&&null===b.alternate&&t(i,d),o=a(b,o,m),null===f?u=b:f.sibling=b,f=b,d=v}if(y.done)return n(i,d),u;if(null===d){for(;!y.done;m++,y=c.next())null!==(y=p(i,y.value,l))&&(o=a(y,o,m),null===f?u=y:f.sibling=y,f=y);return u}for(d=r(i,d);!y.done;m++,y=c.next())null!==(y=g(d,i,m,y.value,l))&&(e&&null!==y.alternate&&d.delete(null===y.key?m:y.key),o=a(y,o,m),null===f?u=y:f.sibling=y,f=y);return e&&d.forEach((function(e){return t(i,e)})),u}return function(e,r,a,l){var u="object"===i(a)&&null!==a&&a.type===$e&&null===a.key;u&&(a=a.props.children);var f="object"===i(a)&&null!==a;if(f)switch(a.$$typeof){case Xe:e:{for(f=a.key,u=r;null!==u;){if(u.key===f){if(7===u.tag?a.type===$e:u.elementType===a.type){n(e,u.sibling),(r=o(u,a.type===$e?a.props.children:a.props)).ref=mr(e,u,a),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}a.type===$e?((r=Zi(a.props.children,e.mode,l,a.key)).return=e,e=r):((l=Qi(a.type,a.key,a.props,null,e.mode,l)).ref=mr(e,r,a),l.return=e,e=l)}return c(e);case Je:e:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=o(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=nr(a,e.mode,l)).return=e,e=r}return c(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,a)).return=e,e=r):(n(e,r),(r=tr(a,e.mode,l)).return=e,e=r),c(e);if(gr(a))return m(e,r,a,l);if(ct(a))return v(e,r,a,l);if(f&&vr(e,a),void 0===a&&!u)switch(e.tag){case 1:case 0:s("152",(l=e.type).displayName||l.name||"Component")}return n(e,r)}}var br=yr(!0),_r=yr(!1),Cr={},Er={current:Cr},Sr={current:Cr},Nr={current:Cr};function Or(e){return e===Cr&&s("174"),e}function Tr(e,t){Pi(Nr,t),Pi(Sr,e),Pi(Er,Cr);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oi(null,"");break;default:t=oi(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Di(Er),Pi(Er,t)}function Ir(e){Di(Er),Di(Sr),Di(Nr)}function wr(e){Or(Nr.current);var t=Or(Er.current),n=oi(t,e.type);t!==n&&(Pi(Sr,e),Pi(Er,n))}function Ar(e){Sr.current===e&&(Di(Er),Di(Sr))}var kr=0,Dr=2,Pr=4,Rr=8,xr=16,Fr=32,Lr=64,Ur=128,Mr=ze.ReactCurrentDispatcher,jr=0,Wr=null,Hr=null,qr=null,Vr=null,Br=null,Gr=null,zr=0,Kr=null,Yr=0,Xr=!1,Jr=null,$r=0;function Qr(){s("307")}function Zr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tn(e[n],t[n]))return!1;return!0}function eo(e,t,n,i,r,o){if(jr=o,Wr=t,qr=null!==e?e.memoizedState:null,Mr.current=null===qr?ho:go,t=n(i,r),Xr){do{Xr=!1,$r+=1,qr=null!==e?e.memoizedState:null,Gr=Vr,Kr=Br=Hr=null,Mr.current=go,t=n(i,r)}while(Xr);Jr=null,$r=0}return Mr.current=po,(e=Wr).memoizedState=Vr,e.expirationTime=zr,e.updateQueue=Kr,e.effectTag|=Yr,e=null!==Hr&&null!==Hr.next,jr=0,Gr=Br=Vr=qr=Hr=Wr=null,zr=0,Kr=null,Yr=0,e&&s("300"),t}function to(){Mr.current=po,jr=0,Gr=Br=Vr=qr=Hr=Wr=null,zr=0,Kr=null,Yr=0,Xr=!1,Jr=null,$r=0}function no(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Br?Vr=Br=e:Br=Br.next=e,Br}function io(){if(null!==Gr)Gr=(Br=Gr).next,qr=null!==(Hr=qr)?Hr.next:null;else{null===qr&&s("310");var e={memoizedState:(Hr=qr).memoizedState,baseState:Hr.baseState,queue:Hr.queue,baseUpdate:Hr.baseUpdate,next:null};Br=null===Br?Vr=e:Br.next=e,qr=Hr.next}return Br}function ro(e,t){return"function"==typeof t?t(e):t}function oo(e){var t=io(),n=t.queue;if(null===n&&s("311"),0<$r){var i=n.dispatch;if(null!==Jr){var r=Jr.get(n);if(void 0!==r){Jr.delete(n);var o=t.memoizedState;do{o=e(o,r.action),r=r.next}while(null!==r);return tn(o,t.memoizedState)||(To=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),[o,i]}}return[t.memoizedState,i]}i=n.last;var a=t.baseUpdate;if(o=t.baseState,null!==a?(null!==i&&(i.next=null),i=a.next):i=null!==i?i.next:null,null!==i){var c=r=null,l=i,u=!1;do{var f=l.expirationTime;f<jr?(u||(u=!0,c=a,r=o),f>zr&&(zr=f)):o=l.eagerReducer===e?l.eagerState:e(o,l.action),a=l,l=l.next}while(null!==l&&l!==i);u||(c=a,r=o),tn(o,t.memoizedState)||(To=!0),t.memoizedState=o,t.baseUpdate=c,t.baseState=r,n.eagerReducer=e,n.eagerState=o}return[t.memoizedState,n.dispatch]}function ao(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===Kr?(Kr={lastEffect:null}).lastEffect=e.next=e:null===(t=Kr.lastEffect)?Kr.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Kr.lastEffect=e),e}function so(e,t,n,i){var r=no();Yr|=e,r.memoizedState=ao(t,n,void 0,void 0===i?null:i)}function co(e,t,n,i){var r=io();i=void 0===i?null:i;var o=void 0;if(null!==Hr){var a=Hr.memoizedState;if(o=a.destroy,null!==i&&Zr(i,a.deps))return void ao(kr,n,o,i)}Yr|=e,r.memoizedState=ao(t,n,o,i)}function lo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function uo(){}function fo(e,t,n){25>$r||s("301");var i=e.alternate;if(e===Wr||null!==i&&i===Wr)if(Xr=!0,e={expirationTime:jr,action:n,eagerReducer:null,eagerState:null,next:null},null===Jr&&(Jr=new Map),void 0===(n=Jr.get(t)))Jr.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{Ya();var r=As(),o={expirationTime:r=es(r,e),action:n,eagerReducer:null,eagerState:null,next:null},a=t.last;if(null===a)o.next=o;else{var c=a.next;null!==c&&(o.next=c),a.next=o}if(t.last=o,0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.eagerReducer))try{var l=t.eagerState,u=i(l,n);if(o.eagerReducer=i,o.eagerState=u,tn(u,l))return}catch(e){}rs(e,r)}}var po={readContext:zo,useCallback:Qr,useContext:Qr,useEffect:Qr,useImperativeHandle:Qr,useLayoutEffect:Qr,useMemo:Qr,useReducer:Qr,useRef:Qr,useState:Qr,useDebugValue:Qr},ho={readContext:zo,useCallback:function(e,t){return no().memoizedState=[e,void 0===t?null:t],e},useContext:zo,useEffect:function(e,t){return so(516,Ur|Lr,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,so(4,Pr|Fr,lo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return so(4,Pr|Fr,e,t)},useMemo:function(e,t){var n=no();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=no();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={last:null,dispatch:null,eagerReducer:e,eagerState:t}).dispatch=fo.bind(null,Wr,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},no().memoizedState=e},useState:function(e){var t=no();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,eagerReducer:ro,eagerState:e}).dispatch=fo.bind(null,Wr,e),[t.memoizedState,e]},useDebugValue:uo},go={readContext:zo,useCallback:function(e,t){var n=io();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Zr(t,i[1])?i[0]:(n.memoizedState=[e,t],e)},useContext:zo,useEffect:function(e,t){return co(516,Ur|Lr,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,co(4,Pr|Fr,lo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return co(4,Pr|Fr,e,t)},useMemo:function(e,t){var n=io();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Zr(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:oo,useRef:function(){return io().memoizedState},useState:function(e){return oo(ro)},useDebugValue:uo},mo=null,vo=null,yo=!1;function bo(e,t){var n=Xi(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function _o(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Co(e){if(yo){var t=vo;if(t){var n=t;if(!_o(e,t)){if(!(t=Ii(n))||!_o(e,t))return e.effectTag|=2,yo=!1,void(mo=e);bo(mo,n)}mo=e,vo=wi(t)}else e.effectTag|=2,yo=!1,mo=e}}function Eo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;mo=e}function So(e){if(e!==mo)return!1;if(!yo)return Eo(e),yo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ei(t,e.memoizedProps))for(t=vo;t;)bo(e,t),t=Ii(t);return Eo(e),vo=mo?Ii(e.stateNode):null,!0}function No(){vo=mo=null,yo=!1}var Oo=ze.ReactCurrentOwner,To=!1;function Io(e,t,n,i){t.child=null===e?_r(t,null,n,i):br(t,e.child,n,i)}function wo(e,t,n,i,r){n=n.render;var o=t.ref;return Go(t,r),i=eo(e,t,n,i,o,r),null===e||To?(t.effectTag|=1,Io(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Uo(e,t,r))}function Ao(e,t,n,i,r,o){if(null===e){var a=n.type;return"function"!=typeof a||Ji(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Qi(n.type,null,i,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ko(e,t,a,i,r,o))}return a=e.child,r<o&&(r=a.memoizedProps,(n=null!==(n=n.compare)?n:rn)(r,i)&&e.ref===t.ref)?Uo(e,t,o):(t.effectTag|=1,(e=$i(a,i)).ref=t.ref,e.return=t,t.child=e)}function ko(e,t,n,i,r,o){return null!==e&&rn(e.memoizedProps,i)&&e.ref===t.ref&&(To=!1,r<o)?Uo(e,t,o):Po(e,t,n,i,o)}function Do(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Po(e,t,n,i,r){var o=Mi(n)?Li:xi.current;return o=Ui(t,o),Go(t,r),n=eo(e,t,n,i,o,r),null===e||To?(t.effectTag|=1,Io(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Uo(e,t,r))}function Ro(e,t,n,r,o){if(Mi(n)){var a=!0;Vi(t)}else a=!1;if(Go(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),dr(t,n,r),hr(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,c=t.memoizedProps;s.props=c;var l=s.context,u=n.contextType;"object"===i(u)&&null!==u?u=zo(u):u=Ui(t,u=Mi(n)?Li:xi.current);var f=n.getDerivedStateFromProps,d="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(c!==r||l!==u)&&pr(t,s,r,u),$o=!1;var p=t.memoizedState;l=s.state=p;var h=t.updateQueue;null!==h&&(aa(t,h,r,s,o),l=t.memoizedState),c!==r||p!==l||Fi.current||$o?("function"==typeof f&&(lr(t,n,f,r),l=t.memoizedState),(c=$o||fr(t,n,c,r,p,l,u))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.effectTag|=4)):("function"==typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=c):("function"==typeof s.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.stateNode,c=t.memoizedProps,s.props=t.type===t.elementType?c:sr(t.type,c),l=s.context,"object"===i(u=n.contextType)&&null!==u?u=zo(u):u=Ui(t,u=Mi(n)?Li:xi.current),(d="function"==typeof(f=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(c!==r||l!==u)&&pr(t,s,r,u),$o=!1,l=t.memoizedState,p=s.state=l,null!==(h=t.updateQueue)&&(aa(t,h,r,s,o),p=t.memoizedState),c!==r||l!==p||Fi.current||$o?("function"==typeof f&&(lr(t,n,f,r),p=t.memoizedState),(f=$o||fr(t,n,c,r,l,p,u))?(d||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,u),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof s.componentDidUpdate&&(t.effectTag|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof s.componentDidUpdate||c===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||c===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=u,r=f):("function"!=typeof s.componentDidUpdate||c===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||c===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return xo(e,t,n,r,a,o)}function xo(e,t,n,i,r,o){Do(e,t);var a=0!=(64&t.effectTag);if(!i&&!a)return r&&Bi(t,n,!1),Uo(e,t,o);i=t.stateNode,Oo.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&a?(t.child=br(t,e.child,null,o),t.child=br(t,null,s,o)):Io(e,t,s,o),t.memoizedState=i.state,r&&Bi(t,n,!0),t.child}function Fo(e){var t=e.stateNode;t.pendingContext?Hi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Hi(0,t.context,!1),Tr(e,t.containerInfo)}function Lo(e,t,n){var i=t.mode,r=t.pendingProps,o=t.memoizedState;if(0==(64&t.effectTag)){o=null;var a=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},a=!0,t.effectTag&=-65;if(null===e)if(a){var s=r.fallback;e=Zi(null,i,0,null),0==(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),i=Zi(s,i,n,null),e.sibling=i,(n=e).return=i.return=t}else n=i=_r(t,null,r.children,n);else null!==e.memoizedState?(s=(i=e.child).sibling,a?(n=r.fallback,r=$i(i,i.pendingProps),0==(1&t.mode)&&((a=null!==t.memoizedState?t.child.child:t.child)!==i.child&&(r.child=a)),i=r.sibling=$i(s,n,s.expirationTime),n=r,r.childExpirationTime=0,n.return=i.return=t):n=i=br(t,i.child,r.children,n)):(s=e.child,a?(a=r.fallback,(r=Zi(null,i,0,null)).child=s,0==(1&t.mode)&&(r.child=null!==t.memoizedState?t.child.child:t.child),(i=r.sibling=Zi(a,i,n,null)).effectTag|=2,n=r,r.childExpirationTime=0,n.return=i.return=t):i=n=br(t,s,r.children,n)),t.stateNode=e.stateNode;return t.memoizedState=o,t.child=n,i}function Uo(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&s("153"),null!==t.child){for(n=$i(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=$i(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Mo(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Fi.current)To=!0;else if(r<n){switch(To=!1,t.tag){case 3:Fo(t),No();break;case 5:wr(t);break;case 1:Mi(t.type)&&Vi(t);break;case 4:Tr(t,t.stateNode.containerInfo);break;case 10:Vo(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Lo(e,t,n):null!==(t=Uo(e,t,n))?t.sibling:null}return Uo(e,t,n)}}else To=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var o=Ui(t,xi.current);if(Go(t,n),o=eo(null,t,r,e,o,n),t.effectTag|=1,"object"===i(o)&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,to(),Mi(r)){var a=!0;Vi(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var c=r.getDerivedStateFromProps;"function"==typeof c&&lr(t,r,c,e),o.updater=ur,t.stateNode=o,o._reactInternalFiber=t,hr(t,r,e,n),t=xo(null,t,r,!0,a,n)}else t.tag=0,Io(null,t,o,n),t=t.child;return t;case 16:switch(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),a=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)})),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(o),t.type=e,o=t.tag=function(e){if("function"==typeof e)return Ji(e)?1:0;if(null!=e){if((e=e.$$typeof)===it)return 11;if(e===ot)return 14}return 2}(e),a=sr(e,a),c=void 0,o){case 0:c=Po(null,t,e,a,n);break;case 1:c=Ro(null,t,e,a,n);break;case 11:c=wo(null,t,e,a,n);break;case 14:c=Ao(null,t,e,sr(e.type,a),r,n);break;default:s("306",e,"")}return c;case 0:return r=t.type,o=t.pendingProps,Po(e,t,r,o=t.elementType===r?o:sr(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ro(e,t,r,o=t.elementType===r?o:sr(r,o),n);case 3:return Fo(t),null===(r=t.updateQueue)&&s("282"),o=null!==(o=t.memoizedState)?o.element:null,aa(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===o?(No(),t=Uo(e,t,n)):(o=t.stateNode,(o=(null===e||null===e.child)&&o.hydrate)&&(vo=wi(t.stateNode.containerInfo),mo=t,o=yo=!0),o?(t.effectTag|=2,t.child=_r(t,null,r,n)):(Io(e,t,r,n),No()),t=t.child),t;case 5:return wr(t),null===e&&Co(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,c=o.children,Ei(r,o)?c=null:null!==a&&Ei(r,a)&&(t.effectTag|=16),Do(e,t),1!==n&&1&t.mode&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Io(e,t,c,n),t=t.child),t;case 6:return null===e&&Co(t),null;case 13:return Lo(e,t,n);case 4:return Tr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=br(t,null,r,n):Io(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,wo(e,t,r,o=t.elementType===r?o:sr(r,o),n);case 7:return Io(e,t,t.pendingProps,n),t.child;case 8:case 12:return Io(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,c=t.memoizedProps,Vo(t,a=o.value),null!==c){var l=c.value;if(0===(a=tn(l,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(c.children===o.children&&!Fi.current){t=Uo(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.contextDependencies;if(null!==u){c=l.child;for(var f=u.first;null!==f;){if(f.context===r&&0!=(f.observedBits&a)){1===l.tag&&((f=ea(n)).tag=Xo,na(l,f)),l.expirationTime<n&&(l.expirationTime=n),null!==(f=l.alternate)&&f.expirationTime<n&&(f.expirationTime=n),f=n;for(var d=l.return;null!==d;){var p=d.alternate;if(d.childExpirationTime<f)d.childExpirationTime=f,null!==p&&p.childExpirationTime<f&&(p.childExpirationTime=f);else{if(!(null!==p&&p.childExpirationTime<f))break;p.childExpirationTime=f}d=d.return}u.expirationTime<n&&(u.expirationTime=n);break}f=f.next}}else c=10===l.tag&&l.type===t.type?null:l.child;if(null!==c)c.return=l;else for(c=l;null!==c;){if(c===t){c=null;break}if(null!==(l=c.sibling)){l.return=c.return,c=l;break}c=c.return}l=c}}Io(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(a=t.pendingProps).children,Go(t,n),r=r(o=zo(o,a.unstable_observedBits)),t.effectTag|=1,Io(e,t,r,n),t.child;case 14:return a=sr(o=t.type,t.pendingProps),Ao(e,t,o,a=sr(o.type,a),r,n);case 15:return ko(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:sr(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Mi(r)?(e=!0,Vi(t)):e=!1,Go(t,n),dr(t,r,o),hr(t,r,o,n),xo(null,t,r,!0,e,n)}s("156")}var jo={current:null},Wo=null,Ho=null,qo=null;function Vo(e,t){var n=e.type._context;Pi(jo,n._currentValue),n._currentValue=t}function Bo(e){var t=jo.current;Di(jo),e.type._context._currentValue=t}function Go(e,t){Wo=e,qo=Ho=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(To=!0),e.contextDependencies=null}function zo(e,t){return qo!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(qo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ho?(null===Wo&&s("308"),Ho=t,Wo.contextDependencies={first:t,expirationTime:0}):Ho=Ho.next=t),e._currentValue}var Ko=0,Yo=1,Xo=2,Jo=3,$o=!1;function Qo(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Zo(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ea(e){return{expirationTime:e,tag:Ko,payload:null,callback:null,next:null,nextEffect:null}}function ta(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function na(e,t){var n=e.alternate;if(null===n){var i=e.updateQueue,r=null;null===i&&(i=e.updateQueue=Qo(e.memoizedState))}else i=e.updateQueue,r=n.updateQueue,null===i?null===r?(i=e.updateQueue=Qo(e.memoizedState),r=n.updateQueue=Qo(n.memoizedState)):i=e.updateQueue=Zo(r):null===r&&(r=n.updateQueue=Zo(i));null===r||i===r?ta(i,t):null===i.lastUpdate||null===r.lastUpdate?(ta(i,t),ta(r,t)):(ta(i,t),r.lastUpdate=t)}function ia(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Qo(e.memoizedState):ra(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function ra(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Zo(t)),t}function oa(e,t,n,i,r,a){switch(n.tag){case Yo:return"function"==typeof(e=n.payload)?e.call(a,i,r):e;case Jo:e.effectTag=-2049&e.effectTag|64;case Ko:if(null==(r="function"==typeof(e=n.payload)?e.call(a,i,r):e))break;return o({},i,r);case Xo:$o=!0}return i}function aa(e,t,n,i,r){$o=!1;for(var o=(t=ra(e,t)).baseState,a=null,s=0,c=t.firstUpdate,l=o;null!==c;){var u=c.expirationTime;u<r?(null===a&&(a=c,o=l),s<u&&(s=u)):(l=oa(e,0,c,l,n,i),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=c:(t.lastEffect.nextEffect=c,t.lastEffect=c))),c=c.next}for(u=null,c=t.firstCapturedUpdate;null!==c;){var f=c.expirationTime;f<r?(null===u&&(u=c,null===a&&(o=l)),s<f&&(s=f)):(l=oa(e,0,c,l,n,i),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=c:(t.lastCapturedEffect.nextEffect=c,t.lastCapturedEffect=c))),c=c.next}null===a&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===u&&(o=l),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=u,e.expirationTime=s,e.memoizedState=l}function sa(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),ca(t.firstEffect,n),t.firstEffect=t.lastEffect=null,ca(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function ca(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var i=t;"function"!=typeof n&&s("191",n),n.call(i)}e=e.nextEffect}}function la(e,t){return{value:e,source:t,stack:ut(t)}}function ua(e){e.effectTag|=4}var fa=void 0,da=void 0,pa=void 0,ha=void 0;fa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},da=function(){},pa=function(e,t,n,i,r){var a=e.memoizedProps;if(a!==i){var s=t.stateNode;switch(Or(Er.current),e=null,n){case"input":a=Et(s,a),i=Et(s,i),e=[];break;case"option":a=$n(s,a),i=$n(s,i),e=[];break;case"select":a=o({},a,{value:void 0}),i=o({},i,{value:void 0}),e=[];break;case"textarea":a=Zn(s,a),i=Zn(s,i),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof i.onClick&&(s.onclick=yi)}gi(n,i),s=n=void 0;var c=null;for(n in a)if(!i.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var l=a[n];for(s in l)l.hasOwnProperty(s)&&(c||(c={}),c[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(C.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in i){var u=i[n];if(l=null!=a?a[n]:void 0,i.hasOwnProperty(n)&&u!==l&&(null!=u||null!=l))if("style"===n)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(c||(c={}),c[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(c||(c={}),c[s]=u[s])}else c||(e||(e=[]),e.push(n,c)),c=u;else"dangerouslySetInnerHTML"===n?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(e=e||[]).push(n,""+u)):"children"===n?l===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(n,""+u):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(C.hasOwnProperty(n)?(null!=u&&vi(r,n),e||l===u||(e=[])):(e=e||[]).push(n,u))}c&&(e=e||[]).push("style",c),r=e,(t.updateQueue=r)&&ua(t)}},ha=function(e,t,n,i){n!==i&&ua(t)};var ga="function"==typeof WeakSet?WeakSet:Set;function ma(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=ut(n)),null!==n&&lt(n.type),t=t.value,null!==e&&1===e.tag&&lt(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function va(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Za(e,t)}else t.current=null}function ya(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&e)!==kr){var r=i.destroy;i.destroy=void 0,void 0!==r&&r()}(i.tag&t)!==kr&&(r=i.create,i.destroy=r()),i=i.next}while(i!==n)}}function ba(e){switch("function"==typeof zi&&zi(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var i=n.destroy;if(void 0!==i){var r=e;try{i()}catch(e){Za(r,e)}}n=n.next}while(n!==t)}break;case 1:if(va(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Za(e,t)}break;case 5:va(e);break;case 4:Ea(e)}}function _a(e){return 5===e.tag||3===e.tag||4===e.tag}function Ca(e){e:{for(var t=e.return;null!==t;){if(_a(t)){var n=t;break e}t=t.return}s("160"),n=void 0}var i=t=void 0;switch(n.tag){case 5:t=n.stateNode,i=!1;break;case 3:case 4:t=n.stateNode.containerInfo,i=!0;break;default:s("161")}16&n.effectTag&&(li(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_a(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var r=e;;){if(5===r.tag||6===r.tag)if(n)if(i){var o=t,a=r.stateNode,c=n;8===o.nodeType?o.parentNode.insertBefore(a,c):o.insertBefore(a,c)}else t.insertBefore(r.stateNode,n);else i?(a=t,c=r.stateNode,8===a.nodeType?(o=a.parentNode).insertBefore(c,a):(o=a).appendChild(c),null!=(a=a._reactRootContainer)||null!==o.onclick||(o.onclick=yi)):t.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Ea(e){for(var t=e,n=!1,i=void 0,r=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&s("160"),n.tag){case 5:i=n.stateNode,r=!1;break e;case 3:case 4:i=n.stateNode.containerInfo,r=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,a=o;;)if(ba(a),null!==a.child&&4!==a.tag)a.child.return=a,a=a.child;else{if(a===o)break;for(;null===a.sibling;){if(null===a.return||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}r?(o=i,a=t.stateNode,8===o.nodeType?o.parentNode.removeChild(a):o.removeChild(a)):i.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){i=t.stateNode.containerInfo,r=!0,t.child.return=t,t=t.child;continue}}else if(ba(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function Sa(e,t){switch(t.tag){case 0:case 11:case 14:case 15:ya(Pr,Rr,t);break;case 1:case 3:case 12:case 17:break;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps;e=null!==e?e.memoizedProps:i;var r=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&function(e,t,n,i,r){e[L]=r,"input"===n&&"radio"===r.type&&null!=r.name&&Nt(e,r),mi(n,i),i=mi(n,r);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?pi(e,s):"dangerouslySetInnerHTML"===a?ci(e,s):"children"===a?li(e,s):_t(e,a,s,i)}switch(n){case"input":Ot(e,r);break;case"textarea":ti(e,r);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!r.multiple,null!=(n=r.value)?Qn(e,!!r.multiple,n,!1):t!==!!r.multiple&&(null!=r.defaultValue?Qn(e,!!r.multiple,r.defaultValue,!0):Qn(e,!!r.multiple,r.multiple?[]:"",!1))}}(n,o,r,e,i)}break;case 6:null===t.stateNode&&s("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 13:if(n=t.memoizedState,i=void 0,e=t,null===n?i=!1:(i=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=As())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var i=n.stateNode;if(t)i.style.display="none";else{i=n.stateNode;var r=n.memoizedProps.style;r=null!=r&&r.hasOwnProperty("display")?r.display:null,i.style.display=di("display",r)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(i=n.child.sibling).return=n,n=i;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,i),null!==(n=t.updateQueue)){t.updateQueue=null;var a=t.stateNode;null===a&&(a=t.stateNode=new ga),n.forEach((function(e){var n=ns.bind(null,t,e);a.has(e)||(a.add(e),e.then(n,n))}))}break;default:s("163")}}var Na="function"==typeof WeakMap?WeakMap:Map;function Oa(e,t,n){(n=ea(n)).tag=Jo,n.payload={element:null};var i=t.value;return n.callback=function(){js(i),ma(e,t)},n}function Ta(e,t,n){(n=ea(n)).tag=Jo;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return i(r)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===qa?qa=new Set([this]):qa.add(this));var n=t.value,r=t.stack;ma(e,t),this.componentDidCatch(n,{componentStack:null!==r?r:""})}),n}function Ia(e){switch(e.tag){case 1:Mi(e.type)&&ji();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Ir(),Wi(),0!=(64&(t=e.effectTag))&&s("285"),e.effectTag=-2049&t|64,e;case 5:return Ar(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:default:return null;case 4:return Ir(),null;case 10:return Bo(e),null}}var wa=ze.ReactCurrentDispatcher,Aa=ze.ReactCurrentOwner,ka=1073741822,Da=!1,Pa=null,Ra=null,xa=0,Fa=-1,La=!1,Ua=null,Ma=!1,ja=null,Wa=null,Ha=null,qa=null;function Va(){if(null!==Pa)for(var e=Pa.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!=n&&ji();break;case 3:Ir(),Wi();break;case 5:Ar(t);break;case 4:Ir();break;case 10:Bo(t)}e=e.return}Ra=null,xa=0,Fa=-1,La=!1,Pa=null}function Ba(){for(;null!==Ua;){var e=Ua.effectTag;if(16&e&&li(Ua.stateNode,""),128&e){var t=Ua.alternate;null!==t&&(null!==(t=t.ref)&&("function"==typeof t?t(null):t.current=null))}switch(14&e){case 2:Ca(Ua),Ua.effectTag&=-3;break;case 6:Ca(Ua),Ua.effectTag&=-3,Sa(Ua.alternate,Ua);break;case 4:Sa(Ua.alternate,Ua);break;case 8:Ea(e=Ua),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}Ua=Ua.nextEffect}}function Ga(){for(;null!==Ua;){if(256&Ua.effectTag)e:{var e=Ua.alternate,t=Ua;switch(t.tag){case 0:case 11:case 15:ya(Dr,kr,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:sr(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:s("163")}}Ua=Ua.nextEffect}}function za(e,t){for(;null!==Ua;){var n=Ua.effectTag;if(36&n){var i=Ua.alternate,r=Ua,o=t;switch(r.tag){case 0:case 11:case 15:ya(xr,Fr,r);break;case 1:var a=r.stateNode;if(4&r.effectTag)if(null===i)a.componentDidMount();else{var c=r.elementType===r.type?i.memoizedProps:sr(r.type,i.memoizedProps);a.componentDidUpdate(c,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}null!==(i=r.updateQueue)&&sa(0,i,a);break;case 3:if(null!==(i=r.updateQueue)){if(a=null,null!==r.child)switch(r.child.tag){case 5:case 1:a=r.child.stateNode}sa(0,i,a)}break;case 5:o=r.stateNode,null===i&&4&r.effectTag&&Ci(r.type,r.memoizedProps)&&o.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:s("163")}}128&n&&(null!==(r=Ua.ref)&&(o=Ua.stateNode,"function"==typeof r?r(o):r.current=o)),512&n&&(ja=e),Ua=Ua.nextEffect}}function Ka(e,t){Ha=Wa=ja=null;var n=us;us=!0;do{if(512&t.effectTag){var i=!1,r=void 0;try{var o=t;ya(Ur,kr,o),ya(kr,Lr,o)}catch(e){i=!0,r=e}i&&Za(t,r)}t=t.nextEffect}while(null!==t);us=n,0!==(n=e.expirationTime)&&ks(e,n),ms||us||Fs(1073741823,!1)}function Ya(){null!==Wa&&Ti(Wa),null!==Ha&&Ha()}function Xa(e,t){Ma=Da=!0,e.current===t&&s("177");var n=e.pendingCommitExpirationTime;0===n&&s("261"),e.pendingCommitExpirationTime=0;var i=t.expirationTime,r=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(n=e.earliestSuspendedTime)?ir(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,ir(e,t)):t>n&&ir(e,t)}ar(0,e)}(e,r>i?r:i),Aa.current=null,i=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,i=t.firstEffect):i=t:i=t.firstEffect,bi=In,_i=function(){var e=Wn();if(Hn(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var i=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{t.nodeType,r.nodeType}catch(e){t=null;break e}var o=0,a=-1,s=-1,c=0,l=0,u=e,f=null;t:for(;;){for(var d;u!==t||0!==i&&3!==u.nodeType||(a=o+i),u!==r||0!==n&&3!==u.nodeType||(s=o+n),3===u.nodeType&&(o+=u.nodeValue.length),null!==(d=u.firstChild);)f=u,u=d;for(;;){if(u===e)break t;if(f===t&&++c===i&&(a=o),f===r&&++l===n&&(s=o),null!==(d=u.nextSibling))break;f=(u=f).parentNode}u=d}t=-1===a||-1===s?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),In=!1,Ua=i;null!==Ua;){r=!1;var o=void 0;try{Ga()}catch(e){r=!0,o=e}r&&(null===Ua&&s("178"),Za(Ua,o),null!==Ua&&(Ua=Ua.nextEffect))}for(Ua=i;null!==Ua;){r=!1,o=void 0;try{Ba()}catch(e){r=!0,o=e}r&&(null===Ua&&s("178"),Za(Ua,o),null!==Ua&&(Ua=Ua.nextEffect))}for(qn(_i),_i=null,In=!!bi,bi=null,e.current=t,Ua=i;null!==Ua;){r=!1,o=void 0;try{za(e,n)}catch(e){r=!0,o=e}r&&(null===Ua&&s("178"),Za(Ua,o),null!==Ua&&(Ua=Ua.nextEffect))}if(null!==i&&null!==ja){var c=Ka.bind(null,e,i);Wa=a.unstable_runWithPriority(a.unstable_NormalPriority,(function(){return Oi(c)})),Ha=c}Da=Ma=!1,"function"==typeof Gi&&Gi(t.stateNode),n=t.expirationTime,0===(t=(t=t.childExpirationTime)>n?t:n)&&(qa=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function Ja(e){for(;;){var t=e.alternate,n=e.return,i=e.sibling;if(0==(1024&e.effectTag)){Pa=e;e:{var r=t,a=xa,c=(t=e).pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 18:break;case 1:case 17:Mi(t.type)&&ji();break;case 3:Ir(),Wi(),(c=t.stateNode).pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),null!==r&&null!==r.child||(So(t),t.effectTag&=-3),da(t);break;case 5:Ar(t);var l=Or(Nr.current);if(a=t.type,null!==r&&null!=t.stateNode)pa(r,t,a,c,l),r.ref!==t.ref&&(t.effectTag|=128);else if(c){var u=Or(Er.current);if(So(t)){r=(c=t).stateNode;var f=c.type,d=c.memoizedProps,p=l;switch(r[F]=c,r[L]=d,a=void 0,l=f){case"iframe":case"object":wn("load",r);break;case"video":case"audio":for(f=0;f<ie.length;f++)wn(ie[f],r);break;case"source":wn("error",r);break;case"img":case"image":case"link":wn("error",r),wn("load",r);break;case"form":wn("reset",r),wn("submit",r);break;case"details":wn("toggle",r);break;case"input":St(r,d),wn("invalid",r),vi(p,"onChange");break;case"select":r._wrapperState={wasMultiple:!!d.multiple},wn("invalid",r),vi(p,"onChange");break;case"textarea":ei(r,d),wn("invalid",r),vi(p,"onChange")}for(a in gi(l,d),f=null,d)d.hasOwnProperty(a)&&(u=d[a],"children"===a?"string"==typeof u?r.textContent!==u&&(f=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(f=["children",""+u]):C.hasOwnProperty(a)&&null!=u&&vi(p,a));switch(l){case"input":Be(r),Tt(r,d,!0);break;case"textarea":Be(r),ni(r);break;case"select":case"option":break;default:"function"==typeof d.onClick&&(r.onclick=yi)}a=f,c.updateQueue=a,(c=null!==a)&&ua(t)}else{d=t,r=a,p=c,f=9===l.nodeType?l:l.ownerDocument,u===ii.html&&(u=ri(r)),u===ii.html?"script"===r?((r=f.createElement("div")).innerHTML="<script><\/script>",f=r.removeChild(r.firstChild)):"string"==typeof p.is?f=f.createElement(r,{is:p.is}):(f=f.createElement(r),"select"===r&&p.multiple&&(f.multiple=!0)):f=f.createElementNS(u,r),(r=f)[F]=d,r[L]=c,fa(r,t,!1,!1),p=r;var h=l,g=mi(f=a,d=c);switch(f){case"iframe":case"object":wn("load",p),l=d;break;case"video":case"audio":for(l=0;l<ie.length;l++)wn(ie[l],p);l=d;break;case"source":wn("error",p),l=d;break;case"img":case"image":case"link":wn("error",p),wn("load",p),l=d;break;case"form":wn("reset",p),wn("submit",p),l=d;break;case"details":wn("toggle",p),l=d;break;case"input":St(p,d),l=Et(p,d),wn("invalid",p),vi(h,"onChange");break;case"option":l=$n(p,d);break;case"select":p._wrapperState={wasMultiple:!!d.multiple},l=o({},d,{value:void 0}),wn("invalid",p),vi(h,"onChange");break;case"textarea":ei(p,d),l=Zn(p,d),wn("invalid",p),vi(h,"onChange");break;default:l=d}gi(f,l),u=void 0;var m=f,v=p,y=l;for(u in y)if(y.hasOwnProperty(u)){var b=y[u];"style"===u?pi(v,b):"dangerouslySetInnerHTML"===u?null!=(b=b?b.__html:void 0)&&ci(v,b):"children"===u?"string"==typeof b?("textarea"!==m||""!==b)&&li(v,b):"number"==typeof b&&li(v,""+b):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(C.hasOwnProperty(u)?null!=b&&vi(h,u):null!=b&&_t(v,u,b,g))}switch(f){case"input":Be(p),Tt(p,d,!1);break;case"textarea":Be(p),ni(p);break;case"option":null!=d.value&&p.setAttribute("value",""+Ct(d.value));break;case"select":(l=p).multiple=!!d.multiple,null!=(p=d.value)?Qn(l,!!d.multiple,p,!1):null!=d.defaultValue&&Qn(l,!!d.multiple,d.defaultValue,!0);break;default:"function"==typeof l.onClick&&(p.onclick=yi)}(c=Ci(a,c))&&ua(t),t.stateNode=r}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&s("166");break;case 6:r&&null!=t.stateNode?ha(r,t,r.memoizedProps,c):("string"!=typeof c&&(null===t.stateNode&&s("166")),r=Or(Nr.current),Or(Er.current),So(t)?(a=(c=t).stateNode,r=c.memoizedProps,a[F]=c,(c=a.nodeValue!==r)&&ua(t)):(a=t,(c=(9===r.nodeType?r:r.ownerDocument).createTextNode(c))[F]=t,a.stateNode=c));break;case 13:if(c=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=a,Pa=t;break e}c=null!==c,a=null!==r&&null!==r.memoizedState,null!==r&&!c&&a&&(null!==(r=r.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=r,r.nextEffect=l):(t.firstEffect=t.lastEffect=r,r.nextEffect=null),r.effectTag=8)),(c||a)&&(t.effectTag|=4);break;case 4:Ir(),da(t);break;case 10:Bo(t);break;default:s("156")}Pa=null}if(t=e,1===xa||1!==t.childExpirationTime){for(c=0,a=t.child;null!==a;)(r=a.expirationTime)>c&&(c=r),(l=a.childExpirationTime)>c&&(c=l),a=a.sibling;t.childExpirationTime=c}if(null!==Pa)return Pa;null!==n&&0==(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=Ia(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==i)return i;if(null===n)break;e=n}return null}function $a(e){var t=Mo(e.alternate,e,xa);return e.memoizedProps=e.pendingProps,null===t&&(t=Ja(e)),Aa.current=null,t}function Qa(e,t){Da&&s("243"),Ya(),Da=!0;var n=wa.current;wa.current=po;var r=e.nextExpirationTimeToWorkOn;r===xa&&e===Ra&&null!==Pa||(Va(),xa=r,Pa=$i((Ra=e).current,null),e.pendingCommitExpirationTime=0);for(var o=!1;;){try{if(t)for(;null!==Pa&&!Rs();)Pa=$a(Pa);else for(;null!==Pa;)Pa=$a(Pa)}catch(t){if(qo=Ho=Wo=null,to(),null===Pa)o=!0,js(t);else{null===Pa&&s("271");var a=Pa,c=a.return;if(null!==c){e:{var l=e,u=c,f=a,d=t;if(c=xa,f.effectTag|=1024,f.firstEffect=f.lastEffect=null,null!==d&&"object"===i(d)&&"function"==typeof d.then){var p=d;d=u;var h=-1,g=-1;do{if(13===d.tag){var m=d.alternate;if(null!==m&&null!==(m=m.memoizedState)){g=10*(1073741822-m.timedOutAt);break}"number"==typeof(m=d.pendingProps.maxDuration)&&(0>=m?h=0:(-1===h||m<h)&&(h=m))}d=d.return}while(null!==d);d=u;do{if((m=13===d.tag)&&(m=void 0!==d.memoizedProps.fallback&&null===d.memoizedState),m){if(null===(u=d.updateQueue)?((u=new Set).add(p),d.updateQueue=u):u.add(p),0==(1&d.mode)){d.effectTag|=64,f.effectTag&=-1957,1===f.tag&&(null===f.alternate?f.tag=17:((c=ea(1073741823)).tag=Xo,na(f,c))),f.expirationTime=1073741823;break e}u=c;var v=(f=l).pingCache;null===v?(v=f.pingCache=new Na,m=new Set,v.set(p,m)):void 0===(m=v.get(p))&&(m=new Set,v.set(p,m)),m.has(u)||(m.add(u),f=ts.bind(null,f,p,u),p.then(f,f)),-1===h?l=1073741823:(-1===g&&(g=10*(1073741822-or(l,c))-5e3),l=g+h),0<=l&&Fa<l&&(Fa=l),d.effectTag|=2048,d.expirationTime=c;break e}d=d.return}while(null!==d);d=Error((lt(f.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ut(f))}La=!0,d=la(d,f),l=u;do{switch(l.tag){case 3:l.effectTag|=2048,l.expirationTime=c,ia(l,c=Oa(l,d,c));break e;case 1:if(h=d,g=l.type,f=l.stateNode,0==(64&l.effectTag)&&("function"==typeof g.getDerivedStateFromError||null!==f&&"function"==typeof f.componentDidCatch&&(null===qa||!qa.has(f)))){l.effectTag|=2048,l.expirationTime=c,ia(l,c=Ta(l,h,c));break e}}l=l.return}while(null!==l)}Pa=Ja(a);continue}o=!0,js(t)}}break}if(Da=!1,wa.current=n,qo=Ho=Wo=null,to(),o)Ra=null,e.finishedWork=null;else if(null!==Pa)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&s("281"),Ra=null,La){if(o=e.latestPendingTime,a=e.latestSuspendedTime,c=e.latestPingedTime,0!==o&&o<r||0!==a&&a<r||0!==c&&c<r)return rr(e,r),void Is(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void Is(e,n,r,t,-1)}t&&-1!==Fa?(rr(e,r),(t=10*(1073741822-or(e,r)))<Fa&&(Fa=t),t=10*(1073741822-As()),t=Fa-t,Is(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function Za(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===qa||!qa.has(i)))return na(n,e=Ta(n,e=la(t,e),1073741823)),void rs(n,1073741823);break;case 3:return na(n,e=Oa(n,e=la(t,e),1073741823)),void rs(n,1073741823)}n=n.return}3===e.tag&&(na(e,n=Oa(e,n=la(t,e),1073741823)),rs(e,1073741823))}function es(e,t){var n=a.unstable_getCurrentPriorityLevel(),i=void 0;if(0==(1&t.mode))i=1073741823;else if(Da&&!Ma)i=xa;else{switch(n){case a.unstable_ImmediatePriority:i=1073741823;break;case a.unstable_UserBlockingPriority:i=1073741822-10*(1+((1073741822-e+15)/10|0));break;case a.unstable_NormalPriority:i=1073741822-25*(1+((1073741822-e+500)/25|0));break;case a.unstable_LowPriority:case a.unstable_IdlePriority:i=1;break;default:s("313")}null!==Ra&&i===xa&&--i}return n===a.unstable_UserBlockingPriority&&(0===ps||i<ps)&&(ps=i),i}function ts(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),null!==Ra&&xa===n?Ra=null:(t=e.earliestSuspendedTime,i=e.latestSuspendedTime,0!==t&&n<=t&&n>=i&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),ar(n,e),0!==(n=e.expirationTime)&&ks(e,n)))}function ns(e,t){var n=e.stateNode;null!==n&&n.delete(t),null!==(e=is(e,t=es(t=As(),e)))&&(ir(e,t),0!==(t=e.expirationTime)&&ks(e,t))}function is(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return r}function rs(e,t){null!==(e=is(e,t))&&(!Da&&0!==xa&&t>xa&&Va(),ir(e,t),Da&&!Ma&&Ra===e||ks(e,e.expirationTime),Ss>Es&&(Ss=0,s("185")))}function os(e,t,n,i,r){return a.unstable_runWithPriority(a.unstable_ImmediatePriority,(function(){return e(t,n,i,r)}))}var as=null,ss=null,cs=0,ls=void 0,us=!1,fs=null,ds=0,ps=0,hs=!1,gs=null,ms=!1,vs=!1,ys=null,bs=a.unstable_now(),_s=1073741822-(bs/10|0),Cs=_s,Es=50,Ss=0,Ns=null;function Os(){_s=1073741822-((a.unstable_now()-bs)/10|0)}function Ts(e,t){if(0!==cs){if(t<cs)return;null!==ls&&a.unstable_cancelCallback(ls)}cs=t,e=a.unstable_now()-bs,ls=a.unstable_scheduleCallback(xs,{timeout:10*(1073741822-t)-e})}function Is(e,t,n,i,r){e.expirationTime=i,0!==r||Rs()?0<r&&(e.timeoutHandle=Si(ws.bind(null,e,t,n),r)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function ws(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,Os(),Cs=_s,Ls(e,n)}function As(){return us||(Ds(),0!==ds&&1!==ds||(Os(),Cs=_s)),Cs}function ks(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===ss?(as=ss=e,e.nextScheduledRoot=e):(ss=ss.nextScheduledRoot=e).nextScheduledRoot=as):t>e.expirationTime&&(e.expirationTime=t),us||(ms?vs&&(fs=e,ds=1073741823,Us(e,1073741823,!1)):1073741823===t?Fs(1073741823,!1):Ts(e,t))}function Ds(){var e=0,t=null;if(null!==ss)for(var n=ss,i=as;null!==i;){var r=i.expirationTime;if(0===r){if((null===n||null===ss)&&s("244"),i===i.nextScheduledRoot){as=ss=i.nextScheduledRoot=null;break}if(i===as)as=r=i.nextScheduledRoot,ss.nextScheduledRoot=r,i.nextScheduledRoot=null;else{if(i===ss){(ss=n).nextScheduledRoot=as,i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{if(r>e&&(e=r,t=i),i===ss)break;if(1073741823===e)break;n=i,i=i.nextScheduledRoot}}fs=t,ds=e}var Ps=!1;function Rs(){return!!Ps||!!a.unstable_shouldYield()&&(Ps=!0)}function xs(){try{if(!Rs()&&null!==as){Os();var e=as;do{var t=e.expirationTime;0!==t&&_s<=t&&(e.nextExpirationTimeToWorkOn=_s),e=e.nextScheduledRoot}while(e!==as)}Fs(0,!0)}finally{Ps=!1}}function Fs(e,t){if(Ds(),t)for(Os(),Cs=_s;null!==fs&&0!==ds&&e<=ds&&!(Ps&&_s>ds);)Us(fs,ds,_s>ds),Ds(),Os(),Cs=_s;else for(;null!==fs&&0!==ds&&e<=ds;)Us(fs,ds,!1),Ds();if(t&&(cs=0,ls=null),0!==ds&&Ts(fs,ds),Ss=0,Ns=null,null!==ys)for(e=ys,ys=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){hs||(hs=!0,gs=e)}}if(hs)throw e=gs,gs=null,hs=!1,e}function Ls(e,t){us&&s("253"),fs=e,ds=t,Us(e,t,!1),Fs(1073741823,!1)}function Us(e,t,n){if(us&&s("245"),us=!0,n){var i=e.finishedWork;null!==i?Ms(e,i,t):(e.finishedWork=null,-1!==(i=e.timeoutHandle)&&(e.timeoutHandle=-1,Ni(i)),Qa(e,n),null!==(i=e.finishedWork)&&(Rs()?e.finishedWork=i:Ms(e,i,t)))}else null!==(i=e.finishedWork)?Ms(e,i,t):(e.finishedWork=null,-1!==(i=e.timeoutHandle)&&(e.timeoutHandle=-1,Ni(i)),Qa(e,n),null!==(i=e.finishedWork)&&Ms(e,i,t));us=!1}function Ms(e,t,n){var i=e.firstBatch;if(null!==i&&i._expirationTime>=n&&(null===ys?ys=[i]:ys.push(i),i._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===Ns?Ss++:(Ns=e,Ss=0),a.unstable_runWithPriority(a.unstable_ImmediatePriority,(function(){Xa(e,t)}))}function js(e){null===fs&&s("246"),fs.expirationTime=0,hs||(hs=!0,gs=e)}function Ws(e,t){var n=ms;ms=!0;try{return e(t)}finally{(ms=n)||us||Fs(1073741823,!1)}}function Hs(e,t){if(ms&&!vs){vs=!0;try{return e(t)}finally{vs=!1}}return e(t)}function qs(e,t,n){ms||us||0===ps||(Fs(ps,!1),ps=0);var i=ms;ms=!0;try{return a.unstable_runWithPriority(a.unstable_UserBlockingPriority,(function(){return e(t,n)}))}finally{(ms=i)||us||Fs(1073741823,!1)}}function Vs(e,t,n,i,r){var o=t.current;e:if(n){t:{2===on(n=n._reactInternalFiber)&&1===n.tag||s("170");var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Mi(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(null!==a);s("171"),a=void 0}if(1===n.tag){var c=n.type;if(Mi(c)){n=qi(n,c,a);break e}}n=a}else n=Ri;return null===t.context?t.context=n:t.pendingContext=n,t=r,(r=ea(i)).payload={element:e},null!==(t=void 0===t?null:t)&&(r.callback=t),Ya(),na(o,r),rs(o,i),i}function Bs(e,t,n,i){var r=t.current;return Vs(e,t,n,r=es(As(),r),i)}function Gs(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function zs(e){var t=1073741822-25*(1+((1073741822-As()+500)/25|0));t>=ka&&(t=ka-1),this._expirationTime=ka=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Ks(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ys(e,t,n){e={current:t=Xi(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function Xs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Js(e,t,n,i,r){var o=n._reactRootContainer;if(o){if("function"==typeof r){var a=r;r=function(){var e=Gs(o._internalRoot);a.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,r):o.render(t,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ys(e,!1,t)}(n,i),"function"==typeof r){var s=r;r=function(){var e=Gs(o._internalRoot);s.call(e)}}Hs((function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,r):o.render(t,r)}))}return Gs(o._internalRoot)}function $s(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Xs(t)||s("200"),function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Je,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}we=function(e,t,n){switch(t){case"input":if(Ot(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=W(i);r||s("90"),Ge(i),Ot(i,r)}}}break;case"textarea":ti(e,n);break;case"select":null!=(t=n.value)&&Qn(e,!!n.multiple,t,!1)}},zs.prototype.render=function(e){this._defer||s("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,i=new Ks;return Vs(e,t,null,n,i._onCommit),i},zs.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},zs.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||s("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var i=null,r=t;r!==this;)i=r,r=r._next;null===i&&s("251"),i._next=r._next,this._next=t,e.firstBatch=this}this._defer=!1,Ls(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},zs.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Ks.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Ks.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&s("191",n),n()}}},Ys.prototype.render=function(e,t){var n=this._internalRoot,i=new Ks;return null!==(t=void 0===t?null:t)&&i.then(t),Bs(e,n,null,i._onCommit),i},Ys.prototype.unmount=function(e){var t=this._internalRoot,n=new Ks;return null!==(e=void 0===e?null:e)&&n.then(e),Bs(null,t,null,n._onCommit),n},Ys.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var i=this._internalRoot,r=new Ks;return null!==(n=void 0===n?null:n)&&r.then(n),Bs(t,i,e,r._onCommit),r},Ys.prototype.createBatch=function(){var e=new zs(this),t=e._expirationTime,n=this._internalRoot,i=n.firstBatch;if(null===i)n.firstBatch=e,e._next=null;else{for(n=null;null!==i&&i._expirationTime>=t;)n=i,i=i._next;e._next=i,null!==n&&(n._next=e)}return e},xe=Ws,Fe=qs,Le=function(){us||0===ps||(Fs(ps,!1),ps=0)};var Qs={createPortal:$s,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?s("188"):s("268",Object.keys(e))),e=null===(e=sn(t))?null:e.stateNode},hydrate:function(e,t,n){return Xs(t)||s("200"),Js(null,e,t,!0,n)},render:function(e,t,n){return Xs(t)||s("200"),Js(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){return Xs(n)||s("200"),(null==e||void 0===e._reactInternalFiber)&&s("38"),Js(e,t,n,!1,i)},unmountComponentAtNode:function(e){return Xs(e)||s("40"),!!e._reactRootContainer&&(Hs((function(){Js(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return $s.apply(void 0,arguments)},unstable_batchedUpdates:Ws,unstable_interactiveUpdates:qs,flushSync:function(e,t){us&&s("187");var n=ms;ms=!0;try{return os(e,t)}finally{ms=n,Fs(1073741823,!1)}},unstable_createRoot:function(e,t){return Xs(e)||s("299","unstable_createRoot"),new Ys(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=ms;ms=!0;try{os(e)}finally{(ms=t)||us||Fs(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[M,j,W,D.injectEventPluginsByName,_,z,function(e){w(e,G)},Pe,Re,Dn,R]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Gi=Ki((function(e){return t.onCommitFiberRoot(n,e)})),zi=Ki((function(e){return t.onCommitFiberUnmount(n,e)}))}catch(e){}})(o({},e,{overrideProps:null,currentDispatcherRef:ze.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=sn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:U,bundleType:0,version:"16.8.2",rendererPackageName:"react-dom"});var Zs={default:Qs},ec=Zs&&Qs||Zs;e.exports=ec.default||ec},6116:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(3748)},4005:function(e,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var i="function"==typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,u=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.async_mode"):60111,d=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,g=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,y=i?Symbol.for("react.block"):60121,b=i?Symbol.for("react.fundamental"):60117,_=i?Symbol.for("react.responder"):60118,C=i?Symbol.for("react.scope"):60119;function E(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case f:case d:case a:case c:case s:case h:return e;default:switch(e=e&&e.$$typeof){case u:case p:case v:case m:case l:return e;default:return t}}case o:return t}}}function S(e){return E(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return S(e)||E(e)===f},t.isConcurrentMode=S,t.isContextConsumer=function(e){return E(e)===u},t.isContextProvider=function(e){return E(e)===l},t.isElement=function(e){return"object"===n(e)&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===p},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===v},t.isMemo=function(e){return E(e)===m},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===c},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===c||e===s||e===h||e===g||"object"===n(e)&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p||e.$$typeof===b||e.$$typeof===_||e.$$typeof===C||e.$$typeof===y)},t.typeOf=E},9972:function(e,t,n){"use strict";e.exports=n(4005)},7600:function(e,t,n){"use strict";function i(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function r(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function o(e,t){try{var n=this.props,i=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var c=e.displayName||e.name,l="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=i,t.componentWillReceiveProps=r),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var i=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,i)}}return e}n.r(t),n.d(t,{polyfill:function(){return a}}),i.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},2434:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.__esModule=!0;var r=u(n(3074)),o=u(n(1574)),a=u(n(5466)),s=u(n(6116)),c=u(n(5896)),l=u(n(7857));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==i(t)&&"function"!=typeof t?e:t}var d=function(e){function t(){var n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),u=0;u<r;u++)o[u]=arguments[u];return n=i=f(this,e.call.apply(e,[this].concat(o))),i._mountOverlayTarget=function(){i._overlayTarget||(i._overlayTarget=document.createElement("div"),i._portalContainerNode=(0,c.default)(i.props.container,(0,l.default)(i).body),i._portalContainerNode.appendChild(i._overlayTarget))},i._unmountOverlayTarget=function(){i._overlayTarget&&(i._portalContainerNode.removeChild(i._overlayTarget),i._overlayTarget=null),i._portalContainerNode=null},i._renderOverlay=function(){var e=i.props.children?a.default.Children.only(i.props.children):null;if(null!==e){i._mountOverlayTarget();var t=!i._overlayInstance;i._overlayInstance=s.default.unstable_renderSubtreeIntoContainer(i,e,i._overlayTarget,(function(){t&&i.props.onRendered&&i.props.onRendered()}))}else i._unrenderOverlay(),i._unmountOverlayTarget()},i._unrenderOverlay=function(){i._overlayTarget&&(s.default.unmountComponentAtNode(i._overlayTarget),i._overlayInstance=null)},i.getMountNode=function(){return i._overlayTarget},f(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+i(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},t.prototype.componentDidUpdate=function(){this._renderOverlay()},t.prototype.componentWillReceiveProps=function(e){this._overlayTarget&&e.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,c.default)(e.container,(0,l.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},t.prototype.render=function(){return null},t}(a.default.Component);d.displayName="Portal",d.propTypes={container:r.default.oneOfType([o.default,r.default.func]),onRendered:r.default.func},t.default=d,e.exports=t.default},5233:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=S(n(9313)),a=S(n(1038)),s=S(n(955)),c=S(n(3074)),l=S(n(1574)),u=S(n(8536)),f=S(n(2909)),d=n(5466),p=S(d),h=S(n(6116)),g=S(n(1312)),m=S(n(9318)),v=S(n(4936)),y=S(n(2686)),b=S(n(8845)),_=S(n(7809)),C=S(n(5896)),E=S(n(7857));function S(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==i(t)&&"function"!=typeof t?e:t}var O=new m.default,T=function(e){function t(){var n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=i=N(this,e.call.apply(e,[this].concat(o))),I.call(i),N(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+i(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.omitProps=function(e,t){var n=Object.keys(e),i={};return n.map((function(n){Object.prototype.hasOwnProperty.call(t,n)||(i[n]=e[n])})),i},t.prototype.render=function(){var e=this.props,n=e.show,i=e.container,o=e.children,a=e.transition,s=e.backdrop,c=e.className,l=e.style,u=e.onExit,f=e.onExiting,h=e.onEnter,g=e.onEntering,m=e.onEntered,b=p.default.Children.only(o),_=this.omitProps(this.props,t.propTypes);if(!(n||a&&!this.state.exited))return null;var C=b.props,E=C.role,S=C.tabIndex;return void 0!==E&&void 0!==S||(b=(0,d.cloneElement)(b,{role:void 0===E?"document":E,tabIndex:null==S?"-1":S})),a&&(b=p.default.createElement(a,{appear:!0,unmountOnExit:!0,in:n,onExit:u,onExiting:f,onExited:this.handleHidden,onEnter:h,onEntering:g,onEntered:m},b)),p.default.createElement(v.default,{ref:this.setMountNode,container:i,onRendered:this.onPortalRendered},p.default.createElement("div",r({ref:this.setModalNodeRef,role:E||"dialog"},_,{style:l,className:c}),s&&this.renderBackdrop(),p.default.createElement(y.default,{ref:this.setDialogRef},b)))},t.prototype.componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},t.prototype.componentWillUpdate=function(e){!this.props.show&&e.show&&this.checkForFocus()},t.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},t.prototype.componentDidUpdate=function(e){var t=this.props.transition;!e.show||this.props.show||t?!e.show&&this.props.show&&this.onShow():this.onHide()},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.show,n=e.transition;this._isMounted=!1,(t||n&&!this.state.exited)&&this.onHide()},t.prototype.autoFocus=function(){if(this.props.autoFocus){var e=this.getDialogElement(),t=(0,o.default)((0,E.default)(this));e&&!(0,a.default)(e,t)&&(this.lastFocus=t,e.hasAttribute("tabIndex")||((0,g.default)(!1,'The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to "-1".'),e.setAttribute("tabIndex",-1)),e.focus())}},t.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},t.prototype.getDialogElement=function(){return h.default.findDOMNode(this.dialog)},t.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},t}(p.default.Component);T.propTypes=r({},v.default.propTypes,{show:c.default.bool,container:c.default.oneOfType([l.default,c.default.func]),onShow:c.default.func,onHide:c.default.func,backdrop:c.default.oneOfType([c.default.bool,c.default.oneOf(["static"])]),renderBackdrop:c.default.func,onEscapeKeyDown:c.default.func,onEscapeKeyUp:(0,u.default)(c.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:c.default.func,backdropStyle:c.default.object,backdropClassName:c.default.string,containerClassName:c.default.string,keyboard:c.default.bool,transition:f.default,backdropTransition:f.default,autoFocus:c.default.bool,enforceFocus:c.default.bool,restoreFocus:c.default.bool,onEnter:c.default.func,onEntering:c.default.func,onEntered:c.default.func,onExit:c.default.func,onExiting:c.default.func,onExited:c.default.func,manager:c.default.object.isRequired}),T.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:O,renderBackdrop:function(e){return p.default.createElement("div",e)}};var I=function(){var e=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var t=e.props,n=t.backdropStyle,i=t.backdropClassName,r=t.renderBackdrop,o=t.backdropTransition,a=r({ref:function(t){return e.backdrop=t},style:n,className:i,onClick:e.handleBackdropClick});return o&&(a=p.default.createElement(o,{appear:!0,in:e.props.show},a)),a},this.onPortalRendered=function(){e.autoFocus(),e.props.onShow&&e.props.onShow()},this.onShow=function(){var t=(0,E.default)(e),n=(0,C.default)(e.props.container,t.body);e.props.manager.add(e,n,e.props.containerClassName),e._onDocumentKeydownListener=(0,b.default)(t,"keydown",e.handleDocumentKeyDown),e._onDocumentKeyupListener=(0,b.default)(t,"keyup",e.handleDocumentKeyUp),e._onFocusinListener=(0,_.default)(e.enforceFocus)},this.onHide=function(){e.props.manager.remove(e),e._onDocumentKeydownListener.remove(),e._onDocumentKeyupListener.remove(),e._onFocusinListener.remove(),e.props.restoreFocus&&e.restoreLastFocus()},this.setMountNode=function(t){e.mountNode=t?t.getMountNode():t},this.setModalNodeRef=function(t){e.modalNode=t},this.setDialogRef=function(t){e.dialog=t},this.handleHidden=function(){var t;(e.setState({exited:!0}),e.onHide(),e.props.onExited)&&(t=e.props).onExited.apply(t,arguments)},this.handleBackdropClick=function(t){t.target===t.currentTarget&&(e.props.onBackdropClick&&e.props.onBackdropClick(t),!0===e.props.backdrop&&e.props.onHide())},this.handleDocumentKeyDown=function(t){e.props.keyboard&&27===t.keyCode&&e.isTopModal()&&(e.props.onEscapeKeyDown&&e.props.onEscapeKeyDown(t),e.props.onHide())},this.handleDocumentKeyUp=function(t){e.props.keyboard&&27===t.keyCode&&e.isTopModal()&&e.props.onEscapeKeyUp&&e.props.onEscapeKeyUp(t)},this.checkForFocus=function(){s.default&&(e.lastFocus=(0,o.default)())},this.enforceFocus=function(){if(e.props.enforceFocus&&e._isMounted&&e.isTopModal()){var t=e.getDialogElement(),n=(0,o.default)((0,E.default)(e));t&&!(0,a.default)(t,n)&&t.focus()}}};T.Manager=m.default,t.default=T,e.exports=t.default},9318:function(e,t,n){"use strict";t.__esModule=!0;var i=c(n(5137)),r=c(n(1284)),o=c(n(9011)),a=c(n(7136)),s=n(4047);function c(e){return e&&e.__esModule?e:{default:e}}t.default=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=n.hideSiblingNodes,l=void 0===c||c,u=n.handleContainerOverflow,f=void 0===u||u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.add=function(e,n,c){var l=t.modals.indexOf(e),u=t.containers.indexOf(n);if(-1!==l)return l;if(l=t.modals.length,t.modals.push(e),t.hideSiblingNodes&&(0,s.hideSiblings)(n,e.mountNode),-1!==u)return t.data[u].modals.push(e),l;var f={modals:[e],classes:c?c.split(/\s+/):[],overflowing:(0,a.default)(n)};return t.handleContainerOverflow&&function(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt((0,r.default)(t,"paddingRight")||0,10)+(0,o.default)()+"px"),(0,r.default)(t,n)}(f,n),f.classes.forEach(i.default.addClass.bind(null,n)),t.containers.push(n),t.data.push(f),l},this.remove=function(e){var n=t.modals.indexOf(e);if(-1!==n){var r=function(e,t){return n=function(e){return-1!==e.modals.indexOf(t)},i=-1,e.some((function(e,t){if(n(e,t))return i=t,!0})),i;var n,i}(t.data,e),o=t.data[r],a=t.containers[r];o.modals.splice(o.modals.indexOf(e),1),t.modals.splice(n,1),0===o.modals.length?(o.classes.forEach(i.default.removeClass.bind(null,a)),t.handleContainerOverflow&&function(e,t){var n=e.style;Object.keys(n).forEach((function(e){return t.style[e]=n[e]}))}(o,a),t.hideSiblingNodes&&(0,s.showSiblings)(a,e.mountNode),t.containers.splice(r,1),t.data.splice(r,1)):t.hideSiblingNodes&&(0,s.ariaHidden)(!1,o.modals[o.modals.length-1].mountNode)}},this.isTopModal=function(e){return!!t.modals.length&&t.modals[t.modals.length-1]===e},this.hideSiblingNodes=l,this.handleContainerOverflow=f,this.modals=[],this.containers=[],this.data=[]},e.exports=t.default},4936:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.__esModule=!0;var r=f(n(3074)),o=f(n(1574)),a=f(n(5466)),s=f(n(6116)),c=f(n(5896)),l=f(n(7857)),u=f(n(2434));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==i(t)&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=i=d(this,e.call.apply(e,[this].concat(o))),i.setContainer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.props;i._portalContainerNode=(0,c.default)(e.container,(0,l.default)(i).body)},i.getMountNode=function(){return i._portalContainerNode},d(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+i(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.setContainer(),this.forceUpdate(this.props.onRendered)},t.prototype.componentWillReceiveProps=function(e){e.container!==this.props.container&&this.setContainer(e)},t.prototype.componentWillUnmount=function(){this._portalContainerNode=null},t.prototype.render=function(){return this.props.children&&this._portalContainerNode?s.default.createPortal(this.props.children,this._portalContainerNode):null},t}(a.default.Component);p.displayName="Portal",p.propTypes={container:r.default.oneOfType([o.default,r.default.func]),onRendered:r.default.func},t.default=s.default.createPortal?p:u.default,e.exports=t.default},2686:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.__esModule=!0;var r=a(n(3074)),o=a(n(5466));function a(e){return e&&e.__esModule?e:{default:e}}var s={children:r.default.node},c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==i(t)&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+i(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return this.props.children},t}(o.default.Component);c.propTypes=s,t.default=c,e.exports=t.default},1400:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.__esModule=!0;var r=u(n(1038)),o=u(n(3074)),a=u(n(5466)),s=u(n(6116)),c=u(n(8845)),l=u(n(7857));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==i(t)&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return a.addEventListeners=function(){var e=a.props.event,t=(0,l.default)(a);a.documentMouseCaptureListener=(0,c.default)(t,e,a.handleMouseCapture,!0),a.documentMouseListener=(0,c.default)(t,e,a.handleMouse),a.documentKeyupListener=(0,c.default)(t,"keyup",a.handleKeyUp)},a.removeEventListeners=function(){a.documentMouseCaptureListener&&a.documentMouseCaptureListener.remove(),a.documentMouseListener&&a.documentMouseListener.remove(),a.documentKeyupListener&&a.documentKeyupListener.remove()},a.handleMouseCapture=function(e){var t;a.preventMouseRootClose=!!((t=e).metaKey||t.altKey||t.ctrlKey||t.shiftKey)||!function(e){return 0===e.button}(e)||(0,r.default)(s.default.findDOMNode(a),e.target)},a.handleMouse=function(e){!a.preventMouseRootClose&&a.props.onRootClose&&a.props.onRootClose(e)},a.handleKeyUp=function(e){27===e.keyCode&&a.props.onRootClose&&a.props.onRootClose(e)},a.preventMouseRootClose=!1,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+i(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},t.prototype.componentDidUpdate=function(e){!this.props.disabled&&e.disabled?this.addEventListeners():this.props.disabled&&!e.disabled&&this.removeEventListeners()},t.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},t.prototype.render=function(){return this.props.children},t}(a.default.Component);f.displayName="RootCloseWrapper",f.propTypes={onRootClose:o.default.func,children:o.default.element,disabled:o.default.bool,event:o.default.oneOf(["click","mousedown"])},f.defaultProps={event:"click"},t.default=f,e.exports=t.default},8845:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,o){return(0,i.default)(e,t,n,o),{remove:function(){(0,r.default)(e,t,n,o)}}};var i=o(n(2810)),r=o(n(8557));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},7809:function(e,t){"use strict";t.__esModule=!0,t.default=function(e){var t=!document.addEventListener,n=void 0;t?(document.attachEvent("onfocusin",e),n=function(){return document.detachEvent("onfocusin",e)}):(document.addEventListener("focus",e,!0),n=function(){return document.removeEventListener("focus",e,!0)});return{remove:n}},e.exports=t.default},5896:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e="function"==typeof e?e():e,o.default.findDOMNode(e)||t};var i,r=n(6116),o=(i=r)&&i.__esModule?i:{default:i};e.exports=t.default},7136:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,i.default)(e)||(t=e,t&&"body"===t.tagName.toLowerCase())?function(e){var t=(0,r.default)(e),n=(0,i.default)(t),o=n.innerWidth;if(!o){var a=t.documentElement.getBoundingClientRect();o=a.right-Math.abs(a.left)}return t.body.clientWidth<o}(e):e.scrollHeight>e.clientHeight;var t};var i=o(n(6139)),r=o(n(1393));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},4047:function(e,t){"use strict";t.__esModule=!0,t.ariaHidden=r,t.hideSiblings=function(e,t){i(e,t,(function(e){return r(!0,e)}))},t.showSiblings=function(e,t){i(e,t,(function(e){return r(!1,e)}))};var n=["template","script","style"],i=function(e,t,i){t=[].concat(t),[].forEach.call(e.children,(function(e){var r,o,a;-1===t.indexOf(e)&&(o=(r=e).nodeType,a=r.tagName,1===o&&-1===n.indexOf(a.toLowerCase()))&&i(e)}))};function r(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}},7857:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,r.default)(i.default.findDOMNode(e))};var i=o(n(6116)),r=o(n(1393));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},9425:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(3074)),r=s(n(5466)),o=s(n(6116)),a=n(7600);n(1964);function s(e){return e&&e.__esModule?e:{default:e}}var c="unmounted";t.UNMOUNTED=c;var l="exited";t.EXITED=l;var u="entering";t.ENTERING=u;var f="entered";t.ENTERED=f;var d="exiting";t.EXITING=d;var p=function(e){var t,n;function i(t,n){var i;i=e.call(this,t,n)||this;var r,o=n.transitionGroup,a=o&&!o.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?a?(r=l,i.appearStatus=u):r=f:r=t.unmountOnExit||t.mountOnEnter?c:l,i.state={status:r},i.nextCallback=null,i}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=i.prototype;return a.getChildContext=function(){return{transitionGroup:null}},i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===c?{status:l}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==u&&n!==f&&(t=u):n!==u&&n!==f||(t=d)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);t===u?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:c})},a.performEnter=function(e,t){var n=this,i=this.props.enter,r=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=r?o.appear:o.enter;t||i?(this.props.onEnter(e,r),this.safeSetState({status:u},(function(){n.props.onEntering(e,r),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:f},(function(){n.props.onEntered(e,r)}))}))}))):this.safeSetState({status:f},(function(){n.props.onEntered(e)}))},a.performExit=function(e){var t=this,n=this.props.exit,i=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:d},(function(){t.props.onExiting(e),t.onTransitionEnd(e,i.exit,(function(){t.safeSetState({status:l},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:l},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var i=null==t&&!this.props.addEndListener;e&&!i?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===c)return null;var t=this.props,n=t.children,i=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,["children"]);if(delete i.in,delete i.mountOnEnter,delete i.unmountOnExit,delete i.appear,delete i.enter,delete i.exit,delete i.timeout,delete i.addEndListener,delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,"function"==typeof n)return n(e,i);var o=r.default.Children.only(n);return r.default.cloneElement(o,i)},i}(r.default.Component);function h(){}p.contextTypes={transitionGroup:i.object},p.childContextTypes={transitionGroup:function(){}},p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:h,onEntering:h,onEntered:h,onExit:h,onExiting:h,onExited:h},p.UNMOUNTED=0,p.EXITED=1,p.ENTERING=2,p.ENTERED=3,p.EXITING=4;var g=(0,a.polyfill)(p);t.default=g},1964:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var i;(i=n(3074))&&i.__esModule;t.timeoutsShape=null;t.classNamesShape=null},6751:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var r=n(7347),o="function"==typeof Symbol&&Symbol.for,a=o?Symbol.for("react.element"):60103,s=o?Symbol.for("react.portal"):60106,c=o?Symbol.for("react.fragment"):60107,l=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,f=o?Symbol.for("react.provider"):60109,d=o?Symbol.for("react.context"):60110,p=o?Symbol.for("react.concurrent_mode"):60111,h=o?Symbol.for("react.forward_ref"):60112,g=o?Symbol.for("react.suspense"):60113,m=o?Symbol.for("react.memo"):60115,v=o?Symbol.for("react.lazy"):60116,y="function"==typeof Symbol&&Symbol.iterator;function b(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);!function(e,t,n,i,r,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,o,a,s],l=0;(e=Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C={};function E(e,t,n){this.props=e,this.context=t,this.refs=C,this.updater=n||_}function S(){}function N(e,t,n){this.props=e,this.context=t,this.refs=C,this.updater=n||_}E.prototype.isReactComponent={},E.prototype.setState=function(e,t){"object"!==i(e)&&"function"!=typeof e&&null!=e&&b("85"),this.updater.enqueueSetState(this,e,t,"setState")},E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},S.prototype=E.prototype;var O=N.prototype=new S;O.constructor=N,r(O,E.prototype),O.isPureReactComponent=!0;var T={current:null},I={current:null},w=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var i=void 0,r={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!A.hasOwnProperty(i)&&(r[i]=t[i]);var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===r[i]&&(r[i]=c[i]);return{$$typeof:a,type:e,key:o,ref:s,props:r,_owner:I.current}}function D(e){return"object"===i(e)&&null!==e&&e.$$typeof===a}var P=/\/+/g,R=[];function x(e,t,n,i){if(R.length){var r=R.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function F(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function L(e,t,n,r){var o=i(e);"undefined"!==o&&"boolean"!==o||(e=null);var c=!1;if(null===e)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case a:case s:c=!0}}if(c)return n(r,e,""===t?"."+M(e,0):t),1;if(c=0,t=""===t?".":t+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u=t+M(o=e[l],l);c+=L(o,u,n,r)}else if(null===e||"object"!==i(e)?u=null:u="function"==typeof(u=y&&e[y]||e["@@iterator"])?u:null,"function"==typeof u)for(e=u.call(e),l=0;!(o=e.next()).done;)c+=L(o=o.value,u=t+M(o,l++),n,r);else"object"===o&&b("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return c}function U(e,t,n){return null==e?0:L(e,"",t,n)}function M(e,t){return"object"===i(e)&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function j(e,t){e.func.call(e.context,t,e.count++)}function W(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?H(e,i,n,(function(e){return e})):null!=e&&(D(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+n)),i.push(e))}function H(e,t,n,i,r){var o="";null!=n&&(o=(""+n).replace(P,"$&/")+"/"),U(e,W,t=x(t,o,i,r)),F(t)}function q(){var e=T.current;return null===e&&b("307"),e}var V={Children:{map:function(e,t,n){if(null==e)return e;var i=[];return H(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;U(e,j,t=x(null,null,t,n)),F(t)},count:function(e){return U(e,(function(){return null}),null)},toArray:function(e){var t=[];return H(e,t,null,(function(e){return e})),t},only:function(e){return D(e)||b("143"),e}},createRef:function(){return{current:null}},Component:E,PureComponent:N,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:f,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return q().useCallback(e,t)},useContext:function(e,t){return q().useContext(e,t)},useEffect:function(e,t){return q().useEffect(e,t)},useImperativeHandle:function(e,t,n){return q().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return q().useLayoutEffect(e,t)},useMemo:function(e,t){return q().useMemo(e,t)},useReducer:function(e,t,n){return q().useReducer(e,t,n)},useRef:function(e){return q().useRef(e)},useState:function(e){return q().useState(e)},Fragment:c,StrictMode:l,Suspense:g,createElement:k,cloneElement:function(e,t,n){null==e&&b("267",e);var i=void 0,o=r({},e.props),s=e.key,c=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,l=I.current),void 0!==t.key&&(s=""+t.key);var u=void 0;for(i in e.type&&e.type.defaultProps&&(u=e.type.defaultProps),t)w.call(t,i)&&!A.hasOwnProperty(i)&&(o[i]=void 0===t[i]&&void 0!==u?u[i]:t[i])}if(1===(i=arguments.length-2))o.children=n;else if(1<i){u=Array(i);for(var f=0;f<i;f++)u[f]=arguments[f+2];o.children=u}return{$$typeof:a,type:e.type,key:s,ref:c,props:o,_owner:l}},createFactory:function(e){var t=k.bind(null,e);return t.type=e,t},isValidElement:D,version:"16.8.2",unstable_ConcurrentMode:p,unstable_Profiler:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:T,ReactCurrentOwner:I,assign:r}},B={default:V},G=B&&V||B;e.exports=G.default||G},5466:function(e,t,n){"use strict";e.exports=n(6751)},8794:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=null,o=!1,a=3,s=-1,c=-1,l=!1,u=!1;function f(){if(!l){var e=r.expirationTime;u?O():u=!0,N(h,e)}}function d(){var e=r,t=r.next;if(r===t)r=null;else{var n=r.previous;r=n.next=t,t.previous=n}e.next=e.previous=null,n=e.callback,t=e.expirationTime,e=e.priorityLevel;var i=a,o=c;a=e,c=t;try{var s=n()}finally{a=i,c=o}if("function"==typeof s)if(s={callback:s,priorityLevel:e,expirationTime:t,next:null,previous:null},null===r)r=s.next=s.previous=s;else{n=null,e=r;do{if(e.expirationTime>=t){n=e;break}e=e.next}while(e!==r);null===n?n=r:n===r&&(r=s,f()),(t=n.previous).next=n.previous=s,s.next=n,s.previous=t}}function p(){if(-1===s&&null!==r&&1===r.priorityLevel){l=!0;try{do{d()}while(null!==r&&1===r.priorityLevel)}finally{l=!1,null!==r?f():u=!1}}}function h(e){l=!0;var n=o;o=e;try{if(e)for(;null!==r;){var i=t.unstable_now();if(!(r.expirationTime<=i))break;do{d()}while(null!==r&&r.expirationTime<=i)}else if(null!==r)do{d()}while(null!==r&&!T())}finally{l=!1,o=n,null!==r?f():u=!1,p()}}var g,m,v=Date,y="function"==typeof setTimeout?setTimeout:void 0,b="function"==typeof clearTimeout?clearTimeout:void 0,_="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,C="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function E(e){g=_((function(t){b(m),e(t)})),m=y((function(){C(g),e(t.unstable_now())}),100)}if("object"===("undefined"==typeof performance?"undefined":i(performance))&&"function"==typeof performance.now){var S=performance;t.unstable_now=function(){return S.now()}}else t.unstable_now=function(){return v.now()};var N,O,T,I=null;if("undefined"!=typeof window?I=window:void 0!==n.g&&(I=n.g),I&&I._schedMock){var w=I._schedMock;N=w[0],O=w[1],T=w[2],t.unstable_now=w[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var A=null,k=function(e){if(null!==A)try{A(e)}finally{A=null}};N=function(e){null!==A?setTimeout(N,0,e):(A=e,setTimeout(k,0,!1))},O=function(){A=null},T=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof _&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof C&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var D=null,P=!1,R=-1,x=!1,F=!1,L=0,U=33,M=33;T=function(){return L<=t.unstable_now()};var j=new MessageChannel,W=j.port2;j.port1.onmessage=function(){P=!1;var e=D,n=R;D=null,R=-1;var i=t.unstable_now(),r=!1;if(0>=L-i){if(!(-1!==n&&n<=i))return x||(x=!0,E(H)),D=e,void(R=n);r=!0}if(null!==e){F=!0;try{e(r)}finally{F=!1}}};var H=function e(t){if(null!==D){E(e);var n=t-L+M;n<M&&U<M?(8>n&&(n=8),M=n<U?U:n):U=n,L=t+M,P||(P=!0,W.postMessage(void 0))}else x=!1};N=function(e,t){D=e,R=t,F||0>t?W.postMessage(void 0):x||(x=!0,E(H))},O=function(){D=null,P=!1,R=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=a,r=s;a=e,s=t.unstable_now();try{return n()}finally{a=i,s=r,p()}},t.unstable_next=function(e){switch(a){case 1:case 2:case 3:var n=3;break;default:n=a}var i=a,r=s;a=n,s=t.unstable_now();try{return e()}finally{a=i,s=r,p()}},t.unstable_scheduleCallback=function(e,n){var o=-1!==s?s:t.unstable_now();if("object"===i(n)&&null!==n&&"number"==typeof n.timeout)n=o+n.timeout;else switch(a){case 1:n=o+-1;break;case 2:n=o+250;break;case 5:n=o+1073741823;break;case 4:n=o+1e4;break;default:n=o+5e3}if(e={callback:e,priorityLevel:a,expirationTime:n,next:null,previous:null},null===r)r=e.next=e.previous=e,f();else{o=null;var c=r;do{if(c.expirationTime>n){o=c;break}c=c.next}while(c!==r);null===o?o=r:o===r&&(r=e,f()),(n=o.previous).next=o.previous=e,e.next=o,e.previous=n}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)r=null;else{e===r&&(r=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=a;return function(){var i=a,r=s;a=n,s=t.unstable_now();try{return e.apply(this,arguments)}finally{a=i,s=r,p()}}},t.unstable_getCurrentPriorityLevel=function(){return a},t.unstable_shouldYield=function(){return!o&&(null!==r&&r.expirationTime<c||T())},t.unstable_continueExecution=function(){null!==r&&f()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return r}},7767:function(e,t,n){"use strict";e.exports=n(8794)},6168:function(e){e.exports=function(e,t){for(var n=e.split("."),i=t.split("."),r=0;r<3;r++){var o=Number(n[r]),a=Number(i[r]);if(o>a)return 1;if(a>o)return-1;if(!isNaN(o)&&isNaN(a))return 1;if(isNaN(o)&&!isNaN(a))return-1}return 0}},807:function(e){function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},t.apply(this,arguments)}var n=/^[-+]?0x[a-fA-F0-9]+$/,i=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o=t({},r,o),!e||"string"!=typeof e)return e;var a=e.trim();if(void 0!==o.skipLike&&o.skipLike.test(a))return e;if(o.hex&&n.test(a))return Number.parseInt(a,16);var s=i.exec(a);if(s){var c=s[1],l=s[2],u=function(e){if(e&&-1!==e.indexOf("."))return"."===(e=e.replace(/0+$/,""))?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substr(0,e.length-1)),e;return e}(s[3]),f=s[4]||s[6];if(!o.leadingZeros&&l.length>0&&c&&"."!==a[2])return e;if(!o.leadingZeros&&l.length>0&&!c&&"."!==a[1])return e;var d=Number(a),p=""+d;return-1!==p.search(/[eE]/)||f?o.eNotation?d:e:-1!==a.indexOf(".")?"0"===p&&""===u||p===u||c&&p==="-"+u?d:e:l?u===p||c+u===p?d:e:a===p||a===c+p?d:e}return e}},9846:function(e,t,n){var i=n(652),r=n(1246),o=r;o.v1=i,o.v4=r,e.exports=o},5459:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var i=n||0,r=t;return[r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]]].join("")}},7019:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},652:function(e,t,n){var i,r,o=n(7019),a=n(5459),s=0,c=0;e.exports=function(e,t,n){var l=t&&n||0,u=t||[],f=(e=e||{}).node||i,d=void 0!==e.clockseq?e.clockseq:r;if(null==f||null==d){var p=o();null==f&&(f=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=r=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:c+1,m=h-s+(g-c)/1e4;if(m<0&&void 0===e.clockseq&&(d=d+1&16383),(m<0||h>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,c=g,r=d;var v=(1e4*(268435455&(h+=122192928e5))+g)%4294967296;u[l++]=v>>>24&255,u[l++]=v>>>16&255,u[l++]=v>>>8&255,u[l++]=255&v;var y=h/4294967296*1e4&268435455;u[l++]=y>>>8&255,u[l++]=255&y,u[l++]=y>>>24&15|16,u[l++]=y>>>16&255,u[l++]=d>>>8|128,u[l++]=255&d;for(var b=0;b<6;++b)u[l+b]=f[b];return t||a(u)}},1246:function(e,t,n){var i=n(7019),r=n(5459);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||r(a)}},1312:function(e){"use strict";e.exports=function(){}},9570:function(e,t,n){var i=n(3143).FilterCSS,r=n(3143).getDefaultWhiteList,o=n(5306);function a(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var s=new i;function c(e){return e.replace(l,"&lt;").replace(u,"&gt;")}var l=/</g,u=/>/g,f=/"/g,d=/&quot;/g,p=/&#([a-zA-Z0-9]*);?/gim,h=/&colon;?/gim,g=/&newline;?/gim,m=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,v=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,y=/u\s*r\s*l\s*\(.*/gi;function b(e){return e.replace(f,"&quot;")}function _(e){return e.replace(d,'"')}function C(e){return e.replace(p,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function E(e){return e.replace(h,":").replace(g," ")}function S(e){for(var t="",n=0,i=e.length;n<i;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return o.trim(t)}function N(e){return e=S(e=E(e=C(e=_(e))))}function O(e){return e=c(e=b(e))}t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},t.getDefaultWhiteList=a,t.onTag=function(e,t,n){},t.onIgnoreTag=function(e,t,n){},t.onTagAttr=function(e,t,n){},t.onIgnoreTagAttr=function(e,t,n){},t.safeAttrValue=function(e,t,n,i){if(n=N(n),"href"===t||"src"===t){if("#"===(n=o.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(m.lastIndex=0,m.test(n))return""}else if("style"===t){if(v.lastIndex=0,v.test(n))return"";if(y.lastIndex=0,y.test(n)&&(m.lastIndex=0,m.test(n)))return"";!1!==i&&(n=(i=i||s).process(n))}return n=O(n)},t.escapeHtml=c,t.escapeQuote=b,t.unescapeQuote=_,t.escapeHtmlEntities=C,t.escapeDangerHtml5Entities=E,t.clearNonPrintableCharacter=S,t.friendlyAttrValue=N,t.escapeAttrValue=O,t.onIgnoreTagStripAll=function(){return""},t.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var n=!Array.isArray(e),i=[],r=!1;return{onIgnoreTag:function(a,s,c){if(function(t){return!!n||-1!==o.indexOf(e,t)}(a)){if(c.isClosing){var l="[/removed]",u=c.position+10;return i.push([!1!==r?r:c.position,u]),r=!1,l}return r||(r=c.position),"[removed]"}return t(a,s,c)},remove:function(e){var t="",n=0;return o.forEach(i,(function(i){t+=e.slice(n,i[0]),n=i[1]})),t+=e.slice(n)}}},t.stripCommentTag=function(e){for(var t="",n=0;n<e.length;){var i=e.indexOf("\x3c!--",n);if(-1===i){t+=e.slice(n);break}t+=e.slice(n,i);var r=e.indexOf("--\x3e",i);if(-1===r)break;n=r+3}return t},t.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},t.attributeWrapSign='"',t.cssFilter=s,t.getDefaultCSSWhiteList=r},7154:function(e,t,n){var i=n(9570),r=n(2954),o=n(1172);function a(e,t){return new o(t).process(e)}(t=e.exports=a).filterXSS=a,t.FilterXSS=o,function(){for(var e in i)t[e]=i[e];for(var n in r)t[n]=r[n]}(),"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)},2954:function(e,t,n){var i=n(5306);function r(e){var t,n=i.spaceIndex(e);return t=-1===n?e.slice(1,-1):e.slice(1,n+1),"/"===(t=i.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function o(e){return"</"===e.slice(0,2)}var a=/[^a-zA-Z0-9\\_:.-]/gim;function s(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function c(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"'"===n||'"'===n?t:-1}}function l(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function u(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}t.parseTag=function(e,t,n){"use strict";var i="",a=0,s=!1,c=!1,l=0,u=e.length,f="",d="";e:for(l=0;l<u;l++){var p=e.charAt(l);if(!1===s){if("<"===p){s=l;continue}}else if(!1===c){if("<"===p){i+=n(e.slice(a,l)),s=l,a=l;continue}if(">"===p||l===u-1){i+=n(e.slice(a,s)),f=r(d=e.slice(s,l+1)),i+=t(s,i.length,f,d,o(d)),a=l+1,s=!1;continue}if('"'===p||"'"===p)for(var h=1,g=e.charAt(l-h);""===g.trim()||"="===g;){if("="===g){c=p;continue e}g=e.charAt(l-++h)}}else if(p===c){c=!1;continue}}return a<u&&(i+=n(e.substr(a))),i},t.parseAttr=function(e,t){"use strict";var n=0,r=0,o=[],f=!1,d=e.length;function p(e,n){if(!((e=(e=i.trim(e)).replace(a,"").toLowerCase()).length<1)){var r=t(e,n||"");r&&o.push(r)}}for(var h=0;h<d;h++){var g,m=e.charAt(h);if(!1!==f||"="!==m)if(!1===f||h!==r)if(/\s|\n|\t/.test(m)){if(e=e.replace(/\s|\n|\t/g," "),!1===f){if(-1===(g=s(e,h))){p(i.trim(e.slice(n,h))),f=!1,n=h+1;continue}h=g-1;continue}if(-1===(g=l(e,h-1))){p(f,u(i.trim(e.slice(n,h)))),f=!1,n=h+1;continue}}else;else{if(-1===(g=e.indexOf(m,h+1)))break;p(f,i.trim(e.slice(r+1,g))),f=!1,n=(h=g)+1}else f=e.slice(n,h),n=h+1,r='"'===e.charAt(n)||"'"===e.charAt(n)?n:c(e,h+1)}return n<e.length&&(!1===f?p(e.slice(n)):p(f,u(i.trim(e.slice(n))))),i.trim(o.join(" "))}},5306:function(e){e.exports={indexOf:function(e,t){var n,i;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var i,r;if(Array.prototype.forEach)return e.forEach(t,n);for(i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}},1172:function(e,t,n){var i=n(3143).FilterCSS,r=n(9570),o=n(2954),a=o.parseTag,s=o.parseAttr,c=n(5306);function l(e){return null==e}function u(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=r.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var t={};for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map((function(e){return e.toLowerCase()})):t[n.toLowerCase()]=e[n];return t}(e.whiteList||e.allowList):e.whiteList=r.whiteList,this.attributeWrapSign=!0===e.singleQuotedAttributeValue?"'":r.attributeWrapSign,e.onTag=e.onTag||r.onTag,e.onTagAttr=e.onTagAttr||r.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||r.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||r.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||r.safeAttrValue,e.escapeHtml=e.escapeHtml||r.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new i(e.css))}u.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this,n=t.options,i=n.whiteList,o=n.onTag,u=n.onIgnoreTag,f=n.onTagAttr,d=n.onIgnoreTagAttr,p=n.safeAttrValue,h=n.escapeHtml,g=t.attributeWrapSign,m=t.cssFilter;n.stripBlankChar&&(e=r.stripBlankChar(e)),n.allowCommentTag||(e=r.stripCommentTag(e));var v=!1;n.stripIgnoreTagBody&&(v=r.StripTagBody(n.stripIgnoreTagBody,u),u=v.onIgnoreTag);var y=a(e,(function(e,t,n,r,a){var v={sourcePosition:e,position:t,isClosing:a,isWhite:Object.prototype.hasOwnProperty.call(i,n)},y=o(n,r,v);if(!l(y))return y;if(v.isWhite){if(v.isClosing)return"</"+n+">";var b=function(e){var t=c.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=c.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=c.trim(e.slice(0,-1))),{html:e,closing:n}}(r),_=i[n],C=s(b.html,(function(e,t){var i=-1!==c.indexOf(_,e),r=f(n,e,t,i);return l(r)?i?(t=p(n,e,t,m))?e+"="+g+t+g:e:l(r=d(n,e,t,i))?void 0:r:r}));return r="<"+n,C&&(r+=" "+C),b.closing&&(r+=" /"),r+=">"}return l(y=u(n,r,v))?h(r):y}),h);return v&&(y=v.remove(y)),y},e.exports=u},1229:function(e,t,n){e.exports=n.p+"assets/Acrobat-tile-rounded-2BGHbpX.png"},7229:function(e,t,n){e.exports=n.p+"assets/Ai-tile-rounded-1EpYC1O.png"},5019:function(e,t,n){e.exports=n.p+"assets/CC-tile-rounded-3XXZTQf.png"},5556:function(e,t,n){e.exports=n.p+"assets/Frame-4Cq-4Sn.svg"},346:function(e,t,n){e.exports=n.p+"assets/Id-tile-rounded--04ueNL.png"},1105:function(e,t,n){e.exports=n.p+"assets/Lr-tile-rounded-33PUi2t.png"},2127:function(e,t,n){e.exports=n.p+"assets/Pr-tile-rounded-3NY7_pd.png"},9981:function(e,t,n){e.exports=n.p+"assets/Ps-tile-rounded-2tG6zek.png"},6089:function(e,t,n){e.exports=n.p+"assets/S2_Icon_Bell_20_N-qA6uO9f.svg"},1676:function(e,t,n){e.exports=n.p+"assets/WelcomeScreenBubble-3WG0rMc.svg"},5301:function(e,t,n){e.exports=n.p+"assets/acrobat_prodc_appicon_noshadow_128-3jMD0vZ.png"},9257:function(e,t,n){e.exports=n.p+"assets/ai_appicon_noshadow_128-3lnhdGX.png"},375:function(e,t,n){e.exports=n.p+"assets/behance_icon-1Dh2MSi.png"},5842:function(e,t,n){e.exports=n.p+"assets/bell_empty-3GA8STS.png"},5047:function(e,t,n){e.exports=n.p+"assets/bell_empty_state-3KNvQh1.svg"},5108:function(e,t,n){e.exports=n.p+"assets/bell_icon-3oCrB0B.png"},8247:function(e,t,n){e.exports=n.p+"assets/cc_appicon_noshadow_128--GCxpdN.png"},3063:function(e,t,n){e.exports=n.p+"assets/creative_cloud_icon-3stqSX6.png"},3170:function(e,t,n){e.exports=n.p+"assets/creative_cloud_round_icon-FAl-GXp.png"},2771:function(e,t,n){e.exports=n.p+"assets/id_appicon_noshadow_128-2z0WxDI.png"},7487:function(e,t,n){e.exports=n.p+"assets/lr_appicon_noshadow_128-1PklJJg.png"},9991:function(e,t,n){e.exports=n.p+"assets/pr_appicon_noshadow_128-1nNBpwt.png"},8419:function(e,t,n){e.exports=n.p+"assets/project-placeholder-3fFMafD.png"},8485:function(e,t,n){e.exports=n.p+"assets/ps_appicon_256-3azXj8Z.svg"},3799:function(e,t,n){e.exports=n.p+"assets/ps_appicon_noshadow_128-1HG7w90.png"},3246:function(e,t,n){e.exports=n.p+"assets/reminder-17bMJxz.svg"},5263:function(e,t,n){e.exports=n.p+"assets/unc_empty_icon_psdark-2J5T3Ja.svg"},3718:function(e,t,n){e.exports=n.p+"assets/unc_illustration_notfound-3kp3iJ5.svg"},6762:function(e,t,n){e.exports=n.p+"assets/unc_illustration_nullstate-vC8JGAz.svg"},9954:function(e,t,n){e.exports=n.p+"assets/unc_thumbnail_lock-25-T1MP.svg"},3439:function(e,t,n){e.exports=n.p+"assets/unc_thumbnail_noavatar-3Iz5Aa6.svg"},9287:function(e,t,n){e.exports=n.p+"assets/unc_thumbnail_unavailable-1EjrPUt.svg"},3090:function(e,t,n){e.exports=n.p+"assets/xd_icon-1VHvnR2.png"},9515:function(e,t,n){e.exports=n.p+"assets/acrobat_icon@2x-1e0hdR0.png"},5656:function(e,t,n){e.exports=n.p+"assets/ai_icon@2x-cxreoKy.png"},9528:function(e,t,n){e.exports=n.p+"assets/avatar-placeholder-WSI5shs.png"},2681:function(e,t,n){e.exports=n.p+"assets/behance_icon-3l-BA7b.png"},2150:function(e,t,n){e.exports=n.p+"assets/behance_icon@2x-2UlR8o4.png"},209:function(e,t,n){e.exports=n.p+"assets/bell_empty-3GA8STS.png"},1853:function(e,t,n){e.exports=n.p+"assets/bell_icon-3oCrB0B.png"},205:function(e,t,n){e.exports=n.p+"assets/creative_cloud_icon-3-O7Xxl.png"},9728:function(e,t,n){e.exports=n.p+"assets/creative_cloud_icon@2x-p7QCV_J.png"},7683:function(e,t,n){e.exports=n.p+"assets/creative_cloud_round_icon-2yTJLx9.png"},3351:function(e,t,n){e.exports=n.p+"assets/creative_cloud_thumbnail@2x-mbIVenm.png"},6771:function(e,t,n){e.exports=n.p+"assets/express_icon@2x-3qOqdLQ.png"},8058:function(e,t,n){e.exports=n.p+"assets/id_icon@2x-1yaFFDI.png"},9146:function(e,t,n){e.exports=n.p+"assets/lr_icon@2x-1QGDch2.png"},1323:function(e,t,n){e.exports=n.p+"assets/project-placeholder-3fFMafD.png"},8269:function(e,t,n){e.exports=n.p+"assets/ps_icon@2x-2VvufI1.png"},3631:function(e,t,n){e.exports=n.p+"assets/xd_icon-3PZaa8v.png"},6518:function(e,t,n){e.exports=n.p+"assets/xd_icon@2x-2Wx2u2_.png"},7339:function(e,t,n){e.exports=n.p+"assets/behance_icon-28qfwbk.png"},8233:function(e,t,n){e.exports=n.p+"assets/bell_empty-3GA8STS.png"},649:function(e,t,n){e.exports=n.p+"assets/creative_cloud_icon-1HdbhBo.png"},5121:function(e,t,n){e.exports=n.p+"assets/creative_cloud_round_icon-4zIyiF9.png"},9786:function(e,t,n){e.exports=n.p+"assets/ps_beta_icon-1Q5O0J9.png"},4183:function(e,t,n){e.exports=n.p+"assets/ps_beta_icon-iWWqo_T.svg"},5701:function(e,t,n){e.exports=n.p+"assets/xd_icon-2Srq3Uc.png"},742:function(e,t,n){e.exports=n.p+"assets/Acrobat-tile-rounded-seNHyfF.png"},6336:function(e,t,n){e.exports=n.p+"assets/Ai-tile-rounded-3Oxwq4n.png"},756:function(e,t,n){e.exports=n.p+"assets/Id-tile-rounded-2Jnzuvj.png"},9849:function(e,t,n){e.exports=n.p+"assets/Lr-tile-rounded-2_mxai4.png"},3918:function(e,t,n){e.exports=n.p+"assets/Pr-tile-rounded-1y7fWDy.png"},5554:function(e,t,n){e.exports=n.p+"assets/Ps-tile-rounded-2BUIqz7.png"},4583:function(e,t,n){e.exports=n.p+"assets/acrobat_prodc_appicon_noshadow_128-3b-9Itb.png"},3623:function(e,t,n){e.exports=n.p+"assets/ai_appicon_noshadow_128-3IAleyO.png"},4158:function(e,t,n){e.exports=n.p+"assets/behance_icon-1oEHcxi.png"},8339:function(e,t,n){e.exports=n.p+"assets/id_appicon_noshadow_128-3XuldM1.png"},1955:function(e,t,n){e.exports=n.p+"assets/lr_appicon_noshadow_128-3V4-tdl.png"},7235:function(e,t,n){e.exports=n.p+"assets/pr_appicon_noshadow_128-3LofquZ.png"},1743:function(e,t,n){e.exports=n.p+"assets/ps_appicon_256-1n-psx6.svg"},7984:function(e,t,n){e.exports=n.p+"assets/ps_appicon_noshadow_128-yjGqHxB.png"},8666:function(e,t,n){e.exports=n.p+"assets/acrobat_icon@2x-3mGjBXH.png"},8818:function(e,t,n){e.exports=n.p+"assets/ai_icon@2x-2C6r1B5.png"},6388:function(e,t,n){e.exports=n.p+"assets/behance_icon-2M6mz6u.png"},6169:function(e,t,n){e.exports=n.p+"assets/behance_icon@2x-pl_14AF.png"},165:function(e,t,n){e.exports=n.p+"assets/express_icon@2x-3ifYl0-.png"},9508:function(e,t,n){e.exports=n.p+"assets/id_icon@2x-3qtJ3Mw.png"},5713:function(e,t,n){e.exports=n.p+"assets/lr_icon@2x-tzVT-Kc.png"},7979:function(e,t,n){e.exports=n.p+"assets/ps_icon@2x-1BlYLs-.png"},8189:function(e,t,n){e.exports=n.p+"assets/behance_icon-2mTO5bQ.png"},3828:function(e,t,n){"use strict";n.r(t)},7127:function(e,t,n){"use strict";n.r(t)},4560:function(e,t,n){"use strict";n.r(t)},2040:function(e,t,n){"use strict";n.r(t)},9070:function(e,t,n){"use strict";n.r(t)},1531:function(e,t,n){"use strict";n.r(t)},3858:function(e,t,n){"use strict";n.r(t)},6961:function(e,t,n){"use strict";n.r(t)},6396:function(e,t,n){"use strict";n.r(t)},6333:function(e,t,n){"use strict";n.r(t)},3150:function(e,t,n){"use strict";n.r(t)},2278:function(e,t,n){"use strict";n.r(t)},6235:function(e,t,n){"use strict";n.r(t)},6512:function(e,t,n){"use strict";n.r(t)},8024:function(e,t,n){"use strict";n.r(t)},9918:function(e,t,n){"use strict";n.r(t)},8121:function(e,t,n){"use strict";n.r(t)},6579:function(e,t,n){"use strict";n.r(t)},6035:function(e,t,n){"use strict";n.r(t)},8745:function(e,t,n){"use strict";n.r(t)},9485:function(e,t,n){"use strict";n.r(t)},1195:function(e,t,n){"use strict";n.r(t)},3640:function(e,t,n){"use strict";n.r(t)},6953:function(e,t,n){"use strict";n.r(t)},222:function(e,t,n){"use strict";n.r(t)},9933:function(e,t,n){"use strict";n.r(t)},123:function(e,t,n){"use strict";n.r(t)},7144:function(e,t,n){"use strict";n.r(t)},9546:function(e,t,n){"use strict";n.r(t)},9430:function(e,t,n){"use strict";n.r(t)},6927:function(e,t,n){"use strict";n.r(t)},1159:function(e,t,n){"use strict";n.r(t)},4015:function(e,t,n){"use strict";n.r(t)},598:function(e,t,n){"use strict";n.r(t)},1937:function(e,t,n){"use strict";n.r(t)},7943:function(e,t,n){"use strict";n.r(t)},2789:function(e,t,n){"use strict";n.r(t)},7568:function(e,t,n){"use strict";n.r(t)},6002:function(e,t,n){"use strict";n.r(t)},1108:function(e,t,n){"use strict";n.r(t)},8274:function(e,t,n){"use strict";n.r(t)},930:function(e,t,n){"use strict";n.r(t)},7058:function(e,t,n){"use strict";n.r(t)},9530:function(e,t,n){"use strict";n.r(t)},8894:function(e,t,n){"use strict";n.r(t)},268:function(e,t,n){"use strict";n.r(t)},9927:function(e,t,n){"use strict";n.r(t)},9301:function(e,t,n){"use strict";n.r(t)},4211:function(e,t,n){"use strict";n.r(t)},3379:function(e,t,n){"use strict";n.r(t)},7724:function(e,t,n){"use strict";n.r(t)},8875:function(e,t,n){var i={"./1x/Acrobat-tile-rounded.png":1229,"./1x/Ai-tile-rounded.png":7229,"./1x/CC-tile-rounded.png":5019,"./1x/Id-tile-rounded.png":346,"./1x/Lr-tile-rounded.png":1105,"./1x/Pr-tile-rounded.png":2127,"./1x/Ps-tile-rounded.png":9981,"./1x/acrobat_prodc_appicon_noshadow_128.png":5301,"./1x/ai_appicon_noshadow_128.png":9257,"./1x/behance_icon.png":375,"./1x/bell_empty.png":5842,"./1x/bell_icon.png":5108,"./1x/cc_appicon_noshadow_128.png":8247,"./1x/creative_cloud_icon.png":3063,"./1x/creative_cloud_round_icon.png":3170,"./1x/id_appicon_noshadow_128.png":2771,"./1x/lr_appicon_noshadow_128.png":7487,"./1x/pr_appicon_noshadow_128.png":9991,"./1x/project-placeholder.png":8419,"./1x/ps_appicon_noshadow_128.png":3799,"./1x/xd_icon.png":3090,"./2x/acrobat_icon@2x.png":9515,"./2x/ai_icon@2x.png":5656,"./2x/avatar-placeholder.png":9528,"./2x/behance_icon.png":2681,"./2x/behance_icon@2x.png":2150,"./2x/bell_empty.png":209,"./2x/bell_icon.png":1853,"./2x/creative_cloud_icon.png":205,"./2x/creative_cloud_icon@2x.png":9728,"./2x/creative_cloud_round_icon.png":7683,"./2x/creative_cloud_thumbnail@2x.png":3351,"./2x/express_icon@2x.png":6771,"./2x/id_icon@2x.png":8058,"./2x/lr_icon@2x.png":9146,"./2x/project-placeholder.png":1323,"./2x/ps_icon@2x.png":8269,"./2x/xd_icon.png":3631,"./2x/xd_icon@2x.png":6518,"./3x/behance_icon.png":7339,"./3x/bell_empty.png":8233,"./3x/creative_cloud_icon.png":649,"./3x/creative_cloud_round_icon.png":5121,"./3x/ps_beta_icon.png":9786,"./3x/xd_icon.png":5701,"./img_max_2025/1x/Acrobat-tile-rounded-seNHyfF.png":742,"./img_max_2025/1x/Ai-tile-rounded-3Oxwq4n.png":6336,"./img_max_2025/1x/Id-tile-rounded-2Jnzuvj.png":756,"./img_max_2025/1x/Lr-tile-rounded-2_mxai4.png":9849,"./img_max_2025/1x/Pr-tile-rounded-1y7fWDy.png":3918,"./img_max_2025/1x/Ps-tile-rounded-2BUIqz7.png":5554,"./img_max_2025/1x/acrobat_prodc_appicon_noshadow_128-3b-9Itb.png":4583,"./img_max_2025/1x/ai_appicon_noshadow_128-3IAleyO.png":3623,"./img_max_2025/1x/behance_icon-1oEHcxi.png":4158,"./img_max_2025/1x/id_appicon_noshadow_128-3XuldM1.png":8339,"./img_max_2025/1x/lr_appicon_noshadow_128-3V4-tdl.png":1955,"./img_max_2025/1x/pr_appicon_noshadow_128-3LofquZ.png":7235,"./img_max_2025/1x/ps_appicon_noshadow_128-yjGqHxB.png":7984,"./img_max_2025/2x/acrobat_icon@2x-3mGjBXH.png":8666,"./img_max_2025/2x/ai_icon@2x-2C6r1B5.png":8818,"./img_max_2025/2x/behance_icon-2M6mz6u.png":6388,"./img_max_2025/2x/behance_icon@2x-pl_14AF.png":6169,"./img_max_2025/2x/express_icon@2x-3ifYl0-.png":165,"./img_max_2025/2x/id_icon@2x-3qtJ3Mw.png":9508,"./img_max_2025/2x/lr_icon@2x-tzVT-Kc.png":5713,"./img_max_2025/2x/ps_icon@2x-1BlYLs-.png":7979,"./img_max_2025/3x/behance_icon-2mTO5bQ.png":8189,"UX/resources/img/1x/Acrobat-tile-rounded.png":1229,"UX/resources/img/1x/Ai-tile-rounded.png":7229,"UX/resources/img/1x/CC-tile-rounded.png":5019,"UX/resources/img/1x/Id-tile-rounded.png":346,"UX/resources/img/1x/Lr-tile-rounded.png":1105,"UX/resources/img/1x/Pr-tile-rounded.png":2127,"UX/resources/img/1x/Ps-tile-rounded.png":9981,"UX/resources/img/1x/acrobat_prodc_appicon_noshadow_128.png":5301,"UX/resources/img/1x/ai_appicon_noshadow_128.png":9257,"UX/resources/img/1x/behance_icon.png":375,"UX/resources/img/1x/bell_empty.png":5842,"UX/resources/img/1x/bell_icon.png":5108,"UX/resources/img/1x/cc_appicon_noshadow_128.png":8247,"UX/resources/img/1x/creative_cloud_icon.png":3063,"UX/resources/img/1x/creative_cloud_round_icon.png":3170,"UX/resources/img/1x/id_appicon_noshadow_128.png":2771,"UX/resources/img/1x/lr_appicon_noshadow_128.png":7487,"UX/resources/img/1x/pr_appicon_noshadow_128.png":9991,"UX/resources/img/1x/project-placeholder.png":8419,"UX/resources/img/1x/ps_appicon_noshadow_128.png":3799,"UX/resources/img/1x/xd_icon.png":3090,"UX/resources/img/2x/acrobat_icon@2x.png":9515,"UX/resources/img/2x/ai_icon@2x.png":5656,"UX/resources/img/2x/avatar-placeholder.png":9528,"UX/resources/img/2x/behance_icon.png":2681,"UX/resources/img/2x/behance_icon@2x.png":2150,"UX/resources/img/2x/bell_empty.png":209,"UX/resources/img/2x/bell_icon.png":1853,"UX/resources/img/2x/creative_cloud_icon.png":205,"UX/resources/img/2x/creative_cloud_icon@2x.png":9728,"UX/resources/img/2x/creative_cloud_round_icon.png":7683,"UX/resources/img/2x/creative_cloud_thumbnail@2x.png":3351,"UX/resources/img/2x/express_icon@2x.png":6771,"UX/resources/img/2x/id_icon@2x.png":8058,"UX/resources/img/2x/lr_icon@2x.png":9146,"UX/resources/img/2x/project-placeholder.png":1323,"UX/resources/img/2x/ps_icon@2x.png":8269,"UX/resources/img/2x/xd_icon.png":3631,"UX/resources/img/2x/xd_icon@2x.png":6518,"UX/resources/img/3x/behance_icon.png":7339,"UX/resources/img/3x/bell_empty.png":8233,"UX/resources/img/3x/creative_cloud_icon.png":649,"UX/resources/img/3x/creative_cloud_round_icon.png":5121,"UX/resources/img/3x/ps_beta_icon.png":9786,"UX/resources/img/3x/xd_icon.png":5701,"UX/resources/img/img_max_2025/1x/Acrobat-tile-rounded-seNHyfF.png":742,"UX/resources/img/img_max_2025/1x/Ai-tile-rounded-3Oxwq4n.png":6336,"UX/resources/img/img_max_2025/1x/Id-tile-rounded-2Jnzuvj.png":756,"UX/resources/img/img_max_2025/1x/Lr-tile-rounded-2_mxai4.png":9849,"UX/resources/img/img_max_2025/1x/Pr-tile-rounded-1y7fWDy.png":3918,"UX/resources/img/img_max_2025/1x/Ps-tile-rounded-2BUIqz7.png":5554,"UX/resources/img/img_max_2025/1x/acrobat_prodc_appicon_noshadow_128-3b-9Itb.png":4583,"UX/resources/img/img_max_2025/1x/ai_appicon_noshadow_128-3IAleyO.png":3623,"UX/resources/img/img_max_2025/1x/behance_icon-1oEHcxi.png":4158,"UX/resources/img/img_max_2025/1x/id_appicon_noshadow_128-3XuldM1.png":8339,"UX/resources/img/img_max_2025/1x/lr_appicon_noshadow_128-3V4-tdl.png":1955,"UX/resources/img/img_max_2025/1x/pr_appicon_noshadow_128-3LofquZ.png":7235,"UX/resources/img/img_max_2025/1x/ps_appicon_noshadow_128-yjGqHxB.png":7984,"UX/resources/img/img_max_2025/2x/acrobat_icon@2x-3mGjBXH.png":8666,"UX/resources/img/img_max_2025/2x/ai_icon@2x-2C6r1B5.png":8818,"UX/resources/img/img_max_2025/2x/behance_icon-2M6mz6u.png":6388,"UX/resources/img/img_max_2025/2x/behance_icon@2x-pl_14AF.png":6169,"UX/resources/img/img_max_2025/2x/express_icon@2x-3ifYl0-.png":165,"UX/resources/img/img_max_2025/2x/id_icon@2x-3qtJ3Mw.png":9508,"UX/resources/img/img_max_2025/2x/lr_icon@2x-tzVT-Kc.png":5713,"UX/resources/img/img_max_2025/2x/ps_icon@2x-1BlYLs-.png":7979,"UX/resources/img/img_max_2025/3x/behance_icon-2mTO5bQ.png":8189};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=8875},5809:function(e,t,n){var i={"./1x/Frame.svg":5556,"./1x/S2_Icon_Bell_20_N.svg":6089,"./1x/WelcomeScreenBubble.svg":1676,"./1x/bell_empty_state.svg":5047,"./1x/ps_appicon_256.svg":8485,"./1x/reminder.svg":3246,"./1x/unc_empty_icon_psdark.svg":5263,"./1x/unc_illustration_notfound.svg":3718,"./1x/unc_illustration_nullstate.svg":6762,"./1x/unc_thumbnail_lock.svg":9954,"./1x/unc_thumbnail_noavatar.svg":3439,"./1x/unc_thumbnail_unavailable.svg":9287,"./3x/ps_beta_icon.svg":4183,"./img_max_2025/1x/ps_appicon_256-1n-psx6.svg":1743,"UX/resources/img/1x/Frame.svg":5556,"UX/resources/img/1x/S2_Icon_Bell_20_N.svg":6089,"UX/resources/img/1x/WelcomeScreenBubble.svg":1676,"UX/resources/img/1x/bell_empty_state.svg":5047,"UX/resources/img/1x/ps_appicon_256.svg":8485,"UX/resources/img/1x/reminder.svg":3246,"UX/resources/img/1x/unc_empty_icon_psdark.svg":5263,"UX/resources/img/1x/unc_illustration_notfound.svg":3718,"UX/resources/img/1x/unc_illustration_nullstate.svg":6762,"UX/resources/img/1x/unc_thumbnail_lock.svg":9954,"UX/resources/img/1x/unc_thumbnail_noavatar.svg":3439,"UX/resources/img/1x/unc_thumbnail_unavailable.svg":9287,"UX/resources/img/3x/ps_beta_icon.svg":4183,"UX/resources/img/img_max_2025/1x/ps_appicon_256-1n-psx6.svg":1743};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=5809},8374:function(){},4635:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports.default=e.exports},5206:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},9218:function(e,t,n){var i=n(4635);e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},2143:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},7296:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},2e3:function(e,t,n){var i=n(7616);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},1514:function(e,t,n){var i=n(7616);e.exports=function(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},9894:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6368:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4626:function(e,t,n){var i=n(1595);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},8135:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},2754:function(e,t,n){var i=n(435).default;function r(t,n){if("function"==typeof WeakMap)var o=new WeakMap,a=new WeakMap;return(e.exports=r=function(e,t){if(!t&&e&&e.__esModule)return e;var n,r,s={__proto__:null,default:e};if(null===e||"object"!=i(e)&&"function"!=typeof e)return s;if(n=t?a:o){if(n.has(e))return n.get(e);n.set(e,s)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(r.get||r.set)?n(s,c,r):s[c]=e[c]);return s},e.exports.__esModule=!0,e.exports.default=e.exports)(t,n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8735:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},3133:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},7513:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},87:function(e,t,n){var i=n(1415);e.exports=function(e,t){if(null==e)return{};var n,r,o=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},1415:function(e){e.exports=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},1803:function(e,t,n){var i=n(435).default,r=n(2143);e.exports=function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1595:function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5253:function(e,t,n){var i=n(5206),r=n(8735),o=n(248),a=n(3133);e.exports=function(e,t){return i(e)||r(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},2033:function(e,t,n){var i=n(9218),r=n(1753),o=n(248),a=n(7513);e.exports=function(e){return i(e)||r(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},9772:function(e,t,n){var i=n(435).default;e.exports=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7616:function(e,t,n){var i=n(435).default,r=n(9772);e.exports=function(e){var t=r(e,"string");return"symbol"==i(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},435:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},248:function(e,t,n){var i=n(4635);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},8098:function(e,t,n){var i;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}!function(){"use strict";var o={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=c(e,s(n)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!==r(e))return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)o.call(e,n)&&e[n]&&(t=c(t,n));return t}function c(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):"object"===r(n.amdO)&&n.amdO?void 0===(i=function(){return a}.apply(t,[]))||(e.exports=i):window.classNames=a}()},5332:function(e){"use strict";e.exports=JSON.parse('{"version":"10.0.118"}')}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");if(i.length)for(var r=i.length-1;r>-1&&!e;)e=i[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}();var i={};!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}function r(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,n||"default");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:String(n)}n.r(i),n.d(i,{default:function(){return Nd}});var o=function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._hostObject=null,this._hostMessageHandlerFn=null}var i,r,o;return i=n,(r=[{key:"initialize",value:function(t){t&&"object"==e(t)&&(t.hostObject&&"object"==e(t.hostObject)&&(this._hostObject=t.hostObject),t.hostMessageHandlerFn&&"function"==typeof t.hostMessageHandlerFn&&(this._hostMessageHandlerFn=t.hostMessageHandlerFn))}},{key:"handleMessage",value:function(e){}},{key:"finalize",value:function(e){}},{key:"sendMessage",value:function(e){return this._hostObject&&this._hostObject.handleMessage&&"function"==typeof this._hostObject.handleMessage?this._hostObject.handleMessage(e):this._hostMessageHandlerFn?this._hostMessageHandlerFn(e):void 0}},{key:"sendMessageToJSCore",value:function(e,t){return this.sendMessage({targetType:"JSCore",message:e,data:t||{}})}},{key:"sendMessageToParent",value:function(e,t){return this.sendMessage({targetType:"Parent",message:e,data:t||{}})}},{key:"sendMessageToHost",value:function(e,t){return this.sendMessage({targetType:"Host",message:e,data:t||{}})}},{key:"sendMessageToContainer",value:function(e,t){return this.sendMessage({targetType:"Container",message:e,data:t||{}})}},{key:"sendMessageToApplet",value:function(e,t,n,i,r){return this.sendMessage({targetType:"Applet",targetID:n||"",targetVersion:i||"",targetInstanceID:r||"",message:e,data:t||{}})}}])&&t(i.prototype,r),o&&t(i,o),Object.defineProperty(i,"prototype",{writable:!1}),n}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,c(i.key),i)}}function c(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:String(t)}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,n=[{key:"_preprocess",value:function(e){for(var t=0;t<e.length;++t)"string"==typeof e[t]&&e[t].length>10512&&(e[t]=e[t].substring(0,10512)+".....<Truncated>")}},{key:"getStringFromArgs",value:function(e){for(var t="",n=0;n<e.length;n++)"string"==typeof e[n]?t+=e[n]:e[n]&&(t+=JSON.stringify(e[n]));return t}},{key:"error",value:function(){if(!window.logLevel||0!==window.logLevel){var e=Array.prototype.slice.call(arguments);console.error.apply(console,e);try{window.JSObject?window.JSObject.logError(this.getStringFromArgs(e)):window.app&&window.app.logMessage&&window.app.logMessage(["ERROR",this.getStringFromArgs(e)])}catch(e){}}}},{key:"warn",value:function(){if(window.logLevel&&window.logLevel>=2){var e=Array.prototype.slice.call(arguments);console.warn.apply(console,e);try{window.JSObject?window.JSObject.logWarn(this.getStringFromArgs(e)):window.app&&window.app.logMessage&&window.app.logMessage(["WARN",this.getStringFromArgs(e)])}catch(e){}}}},{key:"log",value:function(){if(window.logLevel&&window.logLevel>=3){var e=Array.prototype.slice.call(arguments);this._preprocess(e),console.trace&&console.trace.apply(console,e);try{window.JSObject?window.JSObject.logInfo(this.getStringFromArgs(e)):window.app&&window.app.logMessage&&window.app.logMessage(["LOG",this.getStringFromArgs(e)])}catch(e){}}}},{key:"info",value:function(){if(window.logLevel&&window.logLevel>=3){var e=Array.prototype.slice.call(arguments);this._preprocess(e),console.trace&&console.trace.apply(console,e);try{window.JSObject?window.JSObject.logInfo(this.getStringFromArgs(e)):window.app&&window.app.logMessage&&window.app.logMessage(["INFO",this.getStringFromArgs(e)])}catch(e){}}}},{key:"debug",value:function(){if(window.logLevel&&window.logLevel>=4){var e=Array.prototype.slice.call(arguments);this._preprocess(e),console.trace&&console.trace.apply(console,e);try{window.JSObject?window.JSObject.logDebug(this.getStringFromArgs(e)):window.app&&window.app.logMessage&&window.app.logMessage(["DEBUG",this.getStringFromArgs(e)])}catch(e){}}}},{key:"trace",value:function(){if(window.logLevel&&window.logLevel>=5){var e=Array.prototype.slice.call(arguments);this._preprocess(e),console.trace&&console.trace.apply(console,e);try{window.JSObject?window.JSObject.logTrace(this.getStringFromArgs(e)):window.app&&window.app.logMessage&&window.app.logMessage(["TRACE",this.getStringFromArgs(e)])}catch(e){}}}}],n&&s(t.prototype,n),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),u=new l;function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,g(i.key),i)}}function h(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=f(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:String(t)}var m=function(){function e(t,n){d(this,e),this._originalCoreObj=n,this._moduleObj=t}return h(e,[{key:"initialize",value:function(e){this._originalCoreObj(e)}},{key:"handleMessage",value:function(e){return e.sourceID||(e.sourceID=this._moduleObj._id),e.sourceVersion||(e.sourceVersion=this._moduleObj._version),e.sourceInstanceID||(e.sourceInstanceID=this._moduleObj._instanceID),e.isAsync=null==e.isAsync||e.isAsync,e.enableLog=null==e.enableLog||e.enableLog,e.sendViaMainThread=null!=e.sendViaMainThread&&e.sendViaMainThread,this._originalCoreObj.handleMessage(e)}},{key:"finalize",value:function(e){this._originalCoreObj.finalize(e)}}]),e}(),v=function(){function e(t,n,i,r,o){d(this,e),this._type=t.type,this._id=t.id,this._version=t.version,this._instanceID=t.instanceID,this._path=t.path,this._csspath=t.cssPath,this._role=t.role,this._dictionaryPath=t.dictionaryPath,this._parentID=n||"",this._parentVersion=i||"",this._parentInstanceID=r||"",this._instanceID||(this._instanceID=this._parentInstanceID),this._object=null,this._isLoaded=!1,this._coreObj=new m(this,o),this._originalCoreObj=o}return h(e,[{key:"getParent",value:function(){return this._parentID}},{key:"register",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(u.debug("CoreModule: Successfully loaded Module '",this._id,"'"),!(e&&"object"==f(e)&&e.initialize&&"function"==typeof e.initialize&&e.handleMessage&&"function"==typeof e.handleMessage&&e.finalize&&"function"==typeof e.finalize))return!1;this._object=e,this._isLoaded=!0;var i={hostObject:this._coreObj,type:this._type,id:this._id,version:this._version,instanceID:this._instanceID,path:this._path,initJSON:t.initData,dictionary:n};return!1!==this._object.initialize(i)}},{key:"loadResources",value:function(e,t){for(var n=[],i=0;i<e.length;++i)n.push(JSON.parse(JSON.stringify(e[i]))),n[i].status=void 0,n[i].response=void 0;for(var r=function(){for(var e=!0,i=!0,r=0;r<n.length;++r)e=e&&void 0!==n[r].status,i=i&&(!n[r].isMandatory||!0===n[r].status);e&&t(i,n)},o=function(t){if("js"==e[t].type){var i=document.createElement("script");i.type="text/javascript",i.src=e[t].path+"?t="+(new Date).getTime(),i.onload=function(e){n[t].status=!0,n[t].response=e,r()},i.onerror=function(e){n[t].status=!1,n[t].response=e,r()},document.head.appendChild(i)}else if("css"==e[t].type){var o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.href=e[t].path+"?t="+(new Date).getTime(),o.onload=function(e){n[t].status=!0,n[t].response=e,r()},o.onerror=function(e){n[t].status=!1,n[t].response=e,r()},document.head.appendChild(o)}else if("json"==e[t].type){var a=new XMLHttpRequest;a.open("GET",e[t].path+"?t="+(new Date).getTime()),a.onload=function(){"number"==typeof a.status&&a.status<400?(n[t].status=!0,n[t].response=JSON.parse(a.response)):(n[t].status=!1,u.error("Non-success code: "+a.status+" in loading json: "+e[t].path)),r()},a.onerror=function(){n[t].status=!1,r()},a.send()}},a=0;a<e.length;++a)o(a)}},{key:"load",value:function(e,t){var n=this;if("OldApplet"!=this._type){var i=null,r=null,o=[];return this._path&&o.push({path:this._path,type:"js",isMandatory:!0}),this._csspath&&o.push({path:this._csspath,type:"css",isMandatory:!0}),this._dictionaryPath&&o.push({path:this._dictionaryPath+"/"+e.locale+".json",type:"json",isMandatory:!1}),this.loadResources(o,(function(o,a){if(o)try{i=window[n._id](),r=n._dictionaryPath&&a[2].status?a[2].response:null,n.register(i,e,r)?(u.info("Core: Module loaded: ",n._id),t({status:!0})):(u.error("Core: Module register messageData: ",e),t({status:!1,response:{errorType:"register",errorReason:"undefined"}}))}catch(n){u.error("Core: Module register exception: ",n,", messageData: ",e),t({status:!1,response:{errorType:"register",errorReason:"exception"}})}else u.error("Core: Module load error: ",a,", messageData: ",e),t({status:!1,response:{errorType:"load",errorReason:"undefined",errorResourceList:a}})})),!0}this.loadOld(e,t)}},{key:"getEntity",value:function(){var e=new(window.Backbone.Model.extend({defaults:{id:this.oldAppletId,parentId:"",filePath:this._path,header:{targetID:this._id,targetVersion:"1.0",targetInstanceID:"1",sourceID:this._id.replace("_UI","_BL"),sourceVersion:"1.0",sourceInstanceID:"1"},order:0,isVisible:!1,isLoaded:!1,type:"panel",localizedName:"",children:[],needsAttention:!1,showBadge:!1,panelTab:null},setTab:function(e){e&&this.set("panelTab",e)}}));return e.on("change:localizedName",(function(){this.moduleObj._originalCoreObj.handleMessage({targetType:"Applet",targetID:"JSContainer_UI",targetVersion:"1.0",message:"UpdatePanelDisplayName",data:{panelName:this.moduleObj._id,displayName:this.entity.attributes.localizedName}})}),{entity:e,moduleObj:this}),e}},{key:"loadOld",value:function(e,t){this.oldAppletId=e.initData.divId;var n=this.getEntity();window.require([this._path],function(i){var r=this,o=i.getResourceList();this.loadResources(o,(function(o,a){o?(u.info("JSCore: Old module loaded: ",r._id),i.registerMe(n),n.set("isLoaded",!0),t({status:!0})):(u.error("Core: Old Module load error: ",a,", messageData: ",e),t({status:!1,response:{errorType:"load",errorReason:"undefined",errorResourceList:a}}))}))}.bind(this),function(e){u.error("JSCore: Old module load failed: ",e," entity: ",n);var i=[];if(e.requireModules&&Array.isArray(e.requireModules))for(var r=0;r<e.requireModules.length;++r)i.push({status:!1,path:e.requireModules[r]});t({status:!1,response:{errorType:"load",errorReason:"undefined",errorResourceList:i}})}.bind(this))}},{key:"handleMessage",value:function(e){if("OldApplet"==this._type){var t=this.oldAppletId;return window.require(["interface/events"],(function(n){var i=e;e.dataInXmlData?(i.xmlData={},i.xmlData.data=i.data):i.xmlData=i.data,delete e.dataInXmlData;try{n.trigger(t,{msg:i,type:e.message})}catch(e){u.error("JSCore: Exception in old Applet message trigger: ",e)}})),!0}return!(!this._object||!this._object.handleMessage||"function"!=typeof this._object.handleMessage)&&this._object.handleMessage(e)}}]),e}();function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=C(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function C(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function S(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,N(i.key),i)}}function N(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=y(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:String(t)}var O=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._ccxCoreObj=t,this._loadingModules=new Map,this._loadedModules=new Map,this._loadedCoreExtensions=new Map,this._moduleRoleMap=new Map,this._loadStatusMap=new Map,this._loadStatusCallback=null}var t,n,i;return t=e,n=[{key:"statusCallback",value:function(e,t){this._loadStatusMap.set(e,t);var n,i=!0,r=[],o=_(this._loadStatusMap);try{for(o.s();!(n=o.n()).done;){var a=b(n.value,2),s=(a[0],a[1]);s?s.status||r.push(s):i=!1}}catch(e){o.e(e)}finally{o.f()}i&&(0==r.length?this._loadStatusCallback({status:!0}):this._loadStatusCallback({status:!1,errorStatusList:r}))}},{key:"initialize",value:function(e){if(e.coreExtensionList){this._loadStatusCallback=e.statusCallback;var t,n=_(e.coreExtensionList);try{for(n.s();!(t=n.n()).done;){var i=t.value;this._loadStatusMap.set(i.id,{status:"undefined"}),this.loadCoreExtension(i)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"handleMessage",value:function(e){var t=this;if("JSCore"==e.targetType)return this.handleMessageForJSCore(e);if("Host"==e.targetType)return this.sendMessageToHost(e);if("Parent"==e.targetType)return this.sendMessageToAppletParent(e);if("*"==e.targetID)this.broadcastMessage(e);else{if("CoreExt"==e.targetType)return this.sendMessageToCoreExt(e);if("Applet"==e.targetType)return this.sendMessageToApplet(e);if(!this._moduleRoleMap.has(e.targetType))return this.sendMessageToHost(e);if(null!=e.isAsync&&!e.isAsync)return this._moduleRoleMap.get(e.targetType).handleMessage(e);setTimeout((function(){t._moduleRoleMap.get(e.targetType).handleMessage(e)}),0)}return!0}},{key:"handleMessageForJSCore",value:function(e){var t=e.message;if("LoadModule"==t){var n=new v(e.data,e.sourceID,e.sourceVersion,e.sourceInstanceID,this._ccxCoreObj);return this.loadModule(n,e.data),!0}if("RegisterModule"==t){var i=new v(e.data,e.sourceID,e.sourceVersion,e.sourceInstanceID,this._ccxCoreObj);return e.data.dictionary=e.data.dictionary?e.data.dictionary:null,!!i.register(e.data.moduleObject,e.data,e.data.dictionary)&&(this._loadedModules.set(i._id,i),i._role&&this._moduleRoleMap.set(i._role,i),this._registerModuleWithNativeCore(i),!0)}if("UnloadModule"==t||"UnregisterModule"==t)return!this._loadedModules.has(e.data.id)||this._loadedModules.delete(e.data.id);if("LoadCoreExt"==t)return this.loadCoreExtension(e.data),!0;if("RegisterCoreExt"==t){var r=new v(e.data,"","","",this._ccxCoreObj);return!!r.register(e.data.moduleObject,e.data)&&(this._loadedCoreExtensions.set(r._id,r),!0)}return"UnloadCoreExt"==t||"UnregisterCoreExt"==t?!this._loadedCoreExtensions.has(e.data.id)||this._loadedCoreExtensions.delete(e.data.id):void 0}},{key:"loadModule",value:function(e,t){this._loadingModules.set(e._id,e),e.load(t,function(n){if(this._loadingModules.delete(e._id),n.status&&(this._loadedModules.set(e._id,e),e._role&&this._moduleRoleMap.set(e._role,e),this._registerModuleWithNativeCore(e)),t.statusCallback){if("function"==typeof t.statusCallback)try{t.statusCallback(n)}catch(e){u.error("CoreMessageManager: Exception in onLoad callback: ",e)}else if("string"==typeof t.statusCallback)try{this.sendMessageToHost({targetType:"Host",message:t.statusCallback,data:n})}catch(e){u.error("CoreMessageManager: Exception in onLoad callback: ",e)}}else u.warn("CoreMessageManager: onLoad callback not present.")}.bind(this))}},{key:"loadCoreExtension",value:function(e){var t=new v(e,"","","",this._ccxCoreObj);this._loadingModules.set(t._id,t),t.load({},function(e){this._loadingModules.delete(t._id),e.status&&this._loadedCoreExtensions.set(t._id,t),this.statusCallback(t._id,e)}.bind(this))}},{key:"_registerModuleWithNativeCore",value:function(e){this._ccxCoreObj._hostMessageHandlerFn({targetType:"Core",message:"RegisterApplet",data:{type:e._type,id:e._id,version:e._version,instanceID:e._instanceID,path:e._path}})}},{key:"sendMessageToHost",value:function(e){if(null!=e.isInterCoreMsg&&e.isInterCoreMsg)u.warn("CoreMessageManager: Not sending interCoreMsg back to host. Message: ",e);else{e.isInterCoreMsg=!0;try{return this._ccxCoreObj._hostMessageHandlerFn(e)}catch(t){u.warn("CoreMessageManager: Exception in sending message via host. Message: ",e,", Exception: ",t)}}return!0}},{key:"sendMessageToAppletParent",value:function(e){var t=this,n=this._loadedModules.get(e.sourceID).getParent();if(!n)return this.sendMessageToHost(e);if(this._loadedModules.has(n)){if(null!=e.isAsync&&!e.isAsync)return this._loadedModules.get(n).handleMessage(e);setTimeout((function(){t._loadedModules.get(n).handleMessage(e)}),0)}return!0}},{key:"broadcastMessage",value:function(e){if("CoreExt"==e.targetType||"*"==e.targetType||"**"==e.targetType){var t,n=_(this._loadedCoreExtensions);try{var i=function(){var n=b(t.value,2),i=n[0],r=n[1];i!==e.sourceID&&setTimeout((function(){r.handleMessage(e)}),0)};for(n.s();!(t=n.n()).done;)i()}catch(e){n.e(e)}finally{n.f()}}if("Applet"==e.targetType||"*"==e.targetType||"**"==e.targetType){var r,o=_(this._loadedModules);try{var a=function(){var t=b(r.value,2),n=t[0],i=t[1];n!==e.sourceID&&setTimeout((function(){i.handleMessage(e)}),0)};for(o.s();!(r=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}}if("Remote"==e.targetType||"**"==e.targetType)return this.sendMessageToHost(e)}},{key:"sendMessageToCoreExt",value:function(e){var t=this;if(this._loadedCoreExtensions.has(e.targetID)){if(null!=e.isAsync&&!e.isAsync)return this._loadedCoreExtensions.get(e.targetID).handleMessage(e);setTimeout((function(){t._loadedCoreExtensions.get(e.targetID).handleMessage(e)}),0)}else{if(!this._loadingModules.has(e.targetID))return this.sendMessageToHost(e);u.error("CoreMessageManager: Cannot send message to CoreExt during loading state. Message: ",e)}return!0}},{key:"sendMessageToApplet",value:function(e){var t=this;if(this._loadedModules.has(e.targetID)){if(null!=e.isAsync&&!e.isAsync)return this._loadedModules.get(e.targetID).handleMessage(e);setTimeout((function(){t._loadedModules.get(e.targetID).handleMessage(e)}),0)}else{if(!this._loadingModules.has(e.targetID))return this.sendMessageToHost(e);u.error("CoreMessageManager: Cannot send message to Applet during loading state. Message: ",e)}return!0}}],n&&S(t.prototype,n),i&&S(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function I(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,w(i.key),i)}}function w(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=T(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:String(t)}function A(e,t,n){return t=R(t),function(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return D(e)}(e,k()?Reflect.construct(t,n||[],R(e).constructor):t.apply(e,n))}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(k=function(){return!!e})()}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},P.apply(this,arguments)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}var F=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=A(this,t),u.info("JS Module load: Core: version: "),e._coreMessageManager=new O(D(e)),e._hostMessageHandlerFn=function(e){u.warn("Core: Host message handler found missing while sending message: ",e)},e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(t,e),n=t,(i=[{key:"initialize",value:function(e){return P(R(t.prototype),"initialize",this).call(this,e),this._coreMessageManager.initialize(e)}},{key:"handleMessage",value:function(e){return this._coreMessageManager.handleMessage(e)}},{key:"finalize",value:function(e){P(R(t.prototype),"finalize",this).call(this,dataJSON)}}])&&I(n.prototype,i),r&&I(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o);window.CCXCore=function(){return new F};var L={UnSupportedBrowser:-1,InsufficientMemory:-2,UnSupportedUrlScheme:-3,UnSupportedMethod:-4,UrlSchemeMissing:-5,UrlHostnameMissing:-6,MethodTypeMissing:-7,TimeoutError:-8,NetworkFailure:-9,InvalidRequest:-10,Success:1,IndexNotFound:-1};function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function M(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,j(i.key),i)}}function j(e){var t=function(e,t){if("object"!=U(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=U(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==U(t)?t:String(t)}var W=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._errorObject={statusCode:0}}var t,n,i;return t=e,(n=[{key:"_sanityCheck",value:function(){return["HEAD","GET","POST","PUT","DELETE"].indexOf(this.methodType)>L.IndexNotFound?L.Success:(u.debug("Skynet: HttpRequestHandler - HTTP Request Method ",this.methodType," is not supported!!"),L.UnSupportedMethod)}},{key:"_setRequestHeaders",value:function(){if(u.debug("Skynet: HttpRequestHandler: _setRequestHeaders - Inside SetRequest Headers"),this.requestHeaders)for(var e in u.debug("Skynet: HttpRequestHandler: _setRequestHeaders - Request Headers",this.requestHeaders),this.requestHeaders)this.httpRequest.setRequestHeader(e,this.requestHeaders[e])}},{key:"getResponseHeaders",value:function(){var e={};if(this.httpRequest){var t=this.httpRequest.getAllResponseHeaders();if(u.debug(t),!t)return e;if(-1!==t.indexOf("\r"))for(var n=t.split("\r"),i=0,r=n.length;i<r;i++){var o=n[i];-1!==o.indexOf("\n")?this._addHeadersFromStringByNewlineSeparation(o,e):this._addKeyValuePairs(o,e)}else-1!==t.indexOf("\n")?this._addHeadersFromStringByNewlineSeparation(t,e):this._addKeyValuePairs(t,e)}return e}},{key:"_addHeadersFromStringByNewlineSeparation",value:function(e,t){if(e&&""!==e)for(var n=e.split("\n"),i=0,r=n.length;i<r;i++){var o=n[i];o&&""!==o&&this._addKeyValuePairs(o,t)}}},{key:"_addKeyValuePairs",value:function(e,t){if(e&&""!==e&&-1!==e.indexOf(":")){var n=e.split(":"),i=n[0];if(i&&""!==i){i=i.trim();var r=n[1];r&&""!==r&&(r=r.trim(),t[i]=r)}}}},{key:"cancelRequest",value:function(){this.httpRequest&&this.httpRequest.abort()}},{key:"sendRequest",value:function(){var e=this._sanityCheck();if(e<0){this._errorObject.statusCode=e;try{if(this.errorCallback)return this.errorCallback(this._errorObject)}catch(e){u.error("Skynet: HttpRequestHandler: sendRequest - Caught exception in calling error callback. Exception: ",e," Exception Message ",e.message)}}if(!window.XMLHttpRequest){u.debug("Skynet: HttpRequestHandler: sendRequest - XMLHttpRequest is not supported in browser!!"),this._errorObject.statusCode=L.UnSupportedBrowser;try{if(this.errorCallback)return this.errorCallback(this._errorObject)}catch(e){u.error("Skynet: HttpRequestHandler: sendRequest - Caught exception in calling error callback. Exception: ",e," Exception Message ",e.message)}}if(this.httpRequest=new XMLHttpRequest,!this.httpRequest){u.debug("Skynet: HttpRequestHandler: sendRequest - Cannot create an XMLHTTP instance"),this._errorObject.statusCode=L.InsufficientMemory;try{if(this.errorCallback)return this.errorCallback(this._errorObject)}catch(e){u.error("Skynet: HttpRequestHandler: sendRequest - Caught exception in calling error callback. Exception: ",e," Exception Message ",e.message)}}this.httpRequest.onload=this.handleServerResponse.bind(this),this.httpRequest.onerror=this.handleError.bind(this),this.httpRequest.ontimeout=this.handleTimeout.bind(this),this.httpRequest.open(this.methodType,this.url),this._setRequestHeaders(),this.responseType&&""!==this.responseType&&(this.httpRequest.responseType=this.responseType),this.timeout?this.httpRequest.timeout=this.timeout:this.httpRequest.timeout=6e4,this.content?this.httpRequest.send(this.content):this.httpRequest.send()}},{key:"_isResponseSuccessful",value:function(){return this.httpRequest.status>=200&&this.httpRequest.status<400}},{key:"handleServerResponse",value:function(){if(this._isResponseSuccessful()){u.debug("Skynet: HttpRequestHandler: handleServerResponse - Request is successfuly completed");try{this.responseCallback&&(this.httpRequest.responseType&&""!==this.httpRequest.responseType?this.responseCallback(this.httpRequest.response):this.responseCallback(this.httpRequest.responseText))}catch(e){u.error("Skynet: HttpRequestHandler: handleServerResponse - Caught exception in calling response callback. Exception: ",e," Exception Message ",e.message)}}else{u.debug("Skynet: HttpRequestHandler: handleServerResponse - Request failed to complete successfuly"),this._errorObject.statusCode=this.httpRequest.status;var e=this.httpRequest.getResponseHeader("Retry-After");e&&(this._errorObject.responseHeaders={"Retry-After":e});try{this.errorCallback&&this.errorCallback(this._errorObject)}catch(e){u.error("Skynet: HttpRequestHandler: handleServerResponse - Caught exception in calling error callback. Exception: ",e," Exception Message ",e.message)}}}},{key:"handleTimeout",value:function(){u.debug("Skynet: HttpRequestHandler: handleTimeout - Timeout occurred in request"),this._errorObject.statusCode=L.TimeoutError;try{this.errorCallback&&this.errorCallback(this._errorObject),this.httpRequest.abort()}catch(e){u.error("Skynet: HttpRequestHandler: handleTimeout - Caught exception in calling error callback. Exception: ",e," Exception Message ",e.message)}}},{key:"handleError",value:function(){u.debug("Skynet: HttpRequestHandler: handleError - Error occurred in request"),this._errorObject.statusCode=L.NetworkFailure;try{this.errorCallback&&this.errorCallback(this._errorObject)}catch(e){u.error("Skynet: HttpRequestHandler: handleError - Caught exception in calling error callback. Exception: ",e," Exception Message ",e.message)}}}])&&M(t.prototype,n),i&&M(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function q(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,V(i.key),i)}}function V(e){var t=function(e,t){if("object"!=H(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=H(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==H(t)?t:String(t)}var B=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"getErrorCode",value:function(t,n){switch(n){case-1:return"UnSupported_Browser";case-2:return"Insufficient_Memory";case-3:return"UnSupported_Url_Scheme";case-4:return"UnSupported_Method_Type";case-5:return"Url_Scheme_Missing";case-6:return"Url_Hostname_Missing";case-7:return"Method_Type_Missing";case-8:return"Request_Timeout";case-9:return"Network_Failure";case-10:return"InvalidRequest";default:return e._getSchemeBasedErrorCodes(t,n)}}},{key:"_getSchemeBasedErrorCodes",value:function(t,n){switch(t){case"wss":case"ws":return e._getErrorCodesForWebsocketRequest(n);case"https":case"http":return e._getErrorCodesForHttpRequest(n)}}},{key:"_getErrorCodesForWebsocketRequest",value:function(e){return"UnSupported_Url_Scheme"}},{key:"_getErrorCodesForHttpRequest",value:function(e){switch(e){case 200:case 304:return"Success";case 400:return"Bad_Request";case 401:return"Unauthorized";case 403:return"Forbidden";case 404:return"Resource_Not_Found";case 407:return"Proxy_Authentication_Required";case 408:return"Request_Timeout";case 429:return"Too_Many_Requests";case 500:return"Internal_Server_Error";case 501:return"Request_Not_Implemented";case 502:return"Bad_Gateway";case 503:return"Service_Unavailable";case 504:return"Gateway_Timeout";default:return e>400&&e<500?"Client_Request_Error":e>=500&&e<600?"Server_Response_Error":"Invalid_Request"}}}],(n=null)&&q(t.prototype,n),i&&q(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function z(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,K(i.key),i)}}function K(e){var t=function(e,t){if("object"!=G(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=G(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==G(t)?t:String(t)}var Y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"addUrlQueryParams",value:function(e,t){if("undefined"!==t&&"object"===G(t))for(var n in t){n=encodeURIComponent(n);var i=encodeURIComponent(t[n]);e+=(e.split("?")[1]?"&":"?")+n+"="+i}return e}},{key:"createUrl",value:function(t,n,i,r,o){var a=t+"://",s="";return-1==n.indexOf(a)&&(s=a),s+=n+i+r,e.addUrlQueryParams(s,o)}}],(n=null)&&z(t.prototype,n),i&&z(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function J(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,$(i.key),i)}}function $(e){var t=function(e,t){if("object"!=X(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=X(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==X(t)?t:String(t)}var Q=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._errorObject={statusCode:0,errorCode:""},t?(this.networkRequestObj=t,this._setNetworkRequestScheme()):(this._errorObject.statusCode=L.InvalidRequest,this.onError(this._errorObject))}var t,n,i;return t=e,(n=[{key:"sendRequest",value:function(e){this._errorObject.statusCode<0?u.warn("Skynet: NetworkCommunicatorImpl: sendRequest - Request failed to create(Error Code: ",this._errorObject.errorCode,"). Ignoring request"):(this._setRequestData(e),this._handleRequest(this.networkRequestObj.scheme))}},{key:"getResponseHeaders",value:function(){if(this.currentRequestObj)return this.currentRequestObj.getResponseHeaders()}},{key:"cancelRequest",value:function(){this.currentRequestObj&&this.currentRequestObj.cancelRequest()}},{key:"_setNetworkRequestScheme",value:function(){if(!this.networkRequestObj.scheme){var e=this.networkRequestObj.hostname;e&&-1!=e.indexOf("://")&&(this.networkRequestObj.scheme=e.split("://")[0])}this.networkRequestObj.scheme||(this._errorObject.statusCode=L.UrlSchemeMissing,this.onError(this._errorObject))}},{key:"_setRequestData",value:function(e){e.queryParams&&(this.networkRequestObj.queryParams=e.queryParams),e.requestHeaders&&(this.networkRequestObj.requestHeaders=e.requestHeaders),e.timeoutInSec&&(this.networkRequestObj.timeoutInSec=e.timeoutInSec),e.content&&(this.networkRequestObj.content=e.content),e.responseType&&(this.networkRequestObj.responseType=e.responseType)}},{key:"_sanityCheck",value:function(){return this.networkRequestObj.scheme&&"string"==typeof this.networkRequestObj.scheme?this.networkRequestObj.hostname&&"string"==typeof this.networkRequestObj.hostname?this.networkRequestObj.methodType&&"string"==typeof this.networkRequestObj.methodType?(this.networkRequestObj.port&&"string"==typeof this.networkRequestObj.port||(this.networkRequestObj.port=""),this.networkRequestObj.path&&"string"==typeof this.networkRequestObj.path||(this.networkRequestObj.path=""),this.networkRequestObj.content&&"string"==typeof this.networkRequestObj.content||(this.networkRequestObj.content=""),this.networkRequestObj.queryParams&&"object"===X(this.networkRequestObj.queryParams)||(this.networkRequestObj.queryParams={}),this.networkRequestObj.requestHeaders&&"object"===X(this.networkRequestObj.requestHeaders)||(this.networkRequestObj.requestHeaders={}),this.networkRequestObj.timeoutInSec&&"number"==typeof this.networkRequestObj.timeoutInSec||(this.networkRequestObj.timeoutInSec=0),this.networkRequestObj.responseCallback&&"function"==typeof this.networkRequestObj.responseCallback||(this.networkRequestObj.responseCallback=function(){}),this.networkRequestObj.errorCallback&&"function"==typeof this.networkRequestObj.errorCallback||(this.networkRequestObj.errorCallback=function(){}),L.Success):(u.debug("Skynet: NetworkCommunicatorImpl: _sanityCheck - Request methodType(HEAD/GET/POST/PUT/DELETE) is missing. Ignoring request"),L.MethodTypeMissing):(u.debug("Skynet: NetworkCommunicatorImpl: _sanityCheck - Url hostname is missing. Ignoring request"),L.UrlHostnameMissing):(u.debug("Skynet: NetworkCommunicatorImpl: _sanityCheck - Url scheme is missing. Ignoring request"),L.UrlSchemeMissing)}},{key:"_handleRequest",value:function(e){u.debug("Skynet: NetworkCommunicatorImpl: _handleRequest -  Handling request.....");var t=this._sanityCheck(),n={};if(t!=L.Success)return n.statusCode=t,void this.onError(n);switch(e){case"wss":case"ws":this._handleWebSocketRequest();break;case"https":case"http":this._handleHttpRequest();break;default:n.statusCode=L.UnSupportedUrlScheme,this.onError(n)}}},{key:"_addCommonRequestParameters",value:function(){this.currentRequestObj.requestHeaders=this.networkRequestObj.requestHeaders,this.currentRequestObj.methodType=this.networkRequestObj.methodType,this.currentRequestObj.content=this.networkRequestObj.content,this.currentRequestObj.responseCallback=this.networkRequestObj.responseCallback,this.currentRequestObj.errorCallback=this.onError.bind(this),this.networkRequestObj.responseType&&""!==this.networkRequestObj.responseType&&(this.currentRequestObj.responseType=this.networkRequestObj.responseType)}},{key:"_handleWebSocketRequest",value:function(){var e={};e.statusCode=L.UnSupportedUrlScheme,this.onError(e)}},{key:"_handleHttpRequest",value:function(){if(this.currentRequestObj=new W,!this.currentRequestObj){u.debug("Skynet: NetworkCommunicatorImpl: _handleHttpRequest - Cannot create HttpCommunicator instance");var e={};return e.statusCode=L.InsufficientMemory,void this.onError(e)}this._addCommonRequestParameters(),this.currentRequestObj.url=Y.createUrl(this.networkRequestObj.scheme,this.networkRequestObj.hostname,this.networkRequestObj.port,this.networkRequestObj.path,this.networkRequestObj.queryParams),this.currentRequestObj.timeout=1e3*this.networkRequestObj.timeoutInSec,this.currentRequestObj.sendRequest()}},{key:"onError",value:function(e){delete this.currentRequestObj,this._errorObject.statusCode=e.statusCode,this._errorObject.errorCode=B.getErrorCode("https",e.statusCode),e.responseHeaders&&(this._errorObject.responseHeaders=e.responseHeaders);try{this.networkRequestObj.errorCallback&&this.networkRequestObj.errorCallback(this._errorObject)}catch(e){u.error("Skynet: NetworkCommunicatorImpl: onError - Caught exception inside calling client's error callback. Exception: ",e," Exception Message ",e.message)}}}])&&J(t.prototype,n),i&&J(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function ee(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,te(i.key),i)}}function te(e){var t=function(e,t){if("object"!=Z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Z(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Z(t)?t:String(t)}var ne=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u.debug("Skynet: NetworkCommunicator: NetworkCommunicator is being constructed for request",t),this.networkCommunicatorImplObj=new Q(t)}var t,n,i;return t=e,(n=[{key:"SendRequest",value:function(e){u.debug("Skynet: NetworkCommunicator: SendRequest - Sending request.....: ",e),this.networkCommunicatorImplObj.sendRequest(e)}},{key:"GetResponseHeaders",value:function(){return u.debug("Skynet: NetworkCommunicator: GetResponseHeaders - Get Response headers....."),this.networkCommunicatorImplObj.getResponseHeaders()}},{key:"CancelRequest",value:function(){u.debug("Skynet: NetworkCommunicator: CancelRequest - Cancels Request"),this.networkCommunicatorImplObj.cancelRequest()}}])&&ee(t.prototype,n),i&&ee(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function re(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,oe(i.key),i)}}function oe(e){var t=function(e,t){if("object"!=ie(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ie(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ie(t)?t:String(t)}var ae=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._hostObservers=new Map,this._sourcePropertySeparator="|*#%"}var t,n,i;return t=e,n=[{key:"_preprocessHostObserversList",value:function(e){if(!e||"object"!==ie(e)||!e.callbackFn||"function"!=typeof e.callbackFn)return!1;e.observersList&&Array.isArray(e.observersList)||(e.observersList&&(e.observersList.type||e.observersList.subtype)?e.observersList=[{type:e.observersList.type?e.observersList.type:"*",subtype:e.observersList.subtype?e.observersList.subtype:"*"}]:e.observersList=[{type:"*",subtype:"*"}]);for(var t=0;t<e.observersList.length;t+=1)e.observersList[t].type=e.observersList[t].type?e.observersList[t].type:"*",e.observersList[t].subtype=e.observersList[t].subtype?e.observersList[t].subtype:"*";return!0}},{key:"_addRule",value:function(e,t){var n=e.version;void 0===n&&(n="");var i=e.id+this._sourcePropertySeparator+n,r=e.observersList,o=e.requestContext;void 0===o&&(o="");for(var a=e.callbackFn,s=0;s<r.length;s+=1){var c=r[s].type,l=r[s].subtype;this._hostObservers.has(i)||this._hostObservers.set(i,new Set),this._hostObservers.get(i).add({mode:t,type:c,subType:l,callbackFn:a,requestContext:o})}return!0}},{key:"_getHostListenersList",value:function(e,t){var n=new Set;return this._hostObservers.forEach((function(i){var r,o,a=!1;i.forEach((function(n){"*"!==n.type&&n.type!==e||"*"!==n.subType&&n.subType!==t||(a="+"===n.mode,r=n.callbackFn,o=n.requestContext)})),a&&n.add({callBackFunc:r,requestContext:o})})),n}},{key:"registerObserver",value:function(e){return!!this._preprocessHostObserversList(e.data)&&this._addRule(e.data,"+")}},{key:"unregisterObserver",value:function(e){return!!this._preprocessHostObserversList(e.data)&&this._addRule(e.data,"-")}},{key:"notifyObservers",value:function(e){for(var t=this,n=function(n){t._getHostListenersList(e[n].type,e[n]["sub-type"]).forEach((function(t){var i={notifications:{notification:[e[n]]}};try{var r;r=t.requestContext?{requestContext:t.requestContext,data:i}:{data:i},t.callBackFunc&&"function"==typeof t.callBackFunc&&t.callBackFunc(r)}catch(e){u.error("UNCEngine: HostClientNotificationDispatcher: notifyObservers - Callback exception: ",e)}}))},i=0;i<e.length;i+=1)n(i);return!0}}],n&&re(t.prototype,n),i&&re(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),se=new ae;function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function le(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ue(i.key),i)}}function ue(e){var t=function(e,t){if("object"!=ce(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ce(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ce(t)?t:String(t)}var fe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._observers=new Map,this._sourcePropertySeparator="|*#%",this._callback=function(e){u.error("UNCEngine: NotificationDispatcher: No callback registered, messageObject: ",e)}}var t,n,i;return t=e,n=[{key:"_preprocessObserversList",value:function(e){if(!e||"object"!==ce(e)||!e.data||"object"!==ce(e.data)||!e.data.namespace||"string"!=typeof e.data.namespace)return!1;e.data.observersList&&Array.isArray(e.data.observersList)||(e.data.observersList&&(e.data.observersList.type||e.data.observersList.subtype)?e.data.observersList=[{type:e.data.observersList.type?e.data.observersList.type:"*",subtype:e.data.observersList.subtype?e.data.observersList.subtype:"*"}]:e.data.observersList=[{type:"*",subtype:"*"}]);for(var t=0;t<e.data.observersList.length;t+=1)e.data.observersList[t].type=e.data.observersList[t].type?e.data.observersList[t].type:"*",e.data.observersList[t].subtype=e.data.observersList[t].subtype?e.data.observersList[t].subtype:"*";return!0}},{key:"_addRule",value:function(e,t,n,i,r,o){var a="internal";"true"===n&&(a="external"),void 0===t&&(t="");for(var s=e+this._sourcePropertySeparator+t+this._sourcePropertySeparator+a,c=0;c<r.length;c+=1){var l=r[c].type,u=r[c].subtype;this._observers.has(s)||this._observers.set(s,new Map),this._observers.get(s).has(i)||this._observers.get(s).set(i,new Set),this._observers.get(s).get(i).add({mode:o,type:l,subType:u})}return!0}},{key:"_getListenersList",value:function(e,t){var n=new Set;return this._observers.forEach((function(i,r){i.forEach((function(i,o){var a=!1;i.forEach((function(n,i){"*"!==n.type&&n.type!==e||"*"!==n.subType&&n.subType!==t||(a="+"===n.mode)})),a&&n.add({id:r,namespace:o})}))})),n}},{key:"setClientCallback",value:function(e){return this._callback=e,!0}},{key:"registerObserver",value:function(e){return e&&e.data&&e.data.callbackFn&&"function"==typeof e.data.callbackFn?se.registerObserver(e):!!this._preprocessObserversList(e)&&this._addRule(e.sourceID,e.sourceVersion,e.isMsgExternal,e.data.namespace,e.data.observersList,"+")}},{key:"registerClientObservers",value:function(e){return!!this._preprocessObserversListForClient(e)&&this._addRuleForClient(e.sourceID,e.sourceVersion,e.isMsgExternal,e.data.namespace,e.data.observersList,"+")}},{key:"unregisterObserver",value:function(e){return e&&e.data&&e.data.callbackFn&&"function"==typeof e.data.callbackFn?se.unregisterObserver(e):!!this._preprocessObserversList(e)&&this._addRule(e.sourceID,e.sourceVersion,e.isMsgExternal,e.data.namespace,e.data.observersList,"-")}},{key:"unregisterClientObservers",value:function(e){return!!this._preprocessObserversListForClient(e)&&this._addRuleForClient(e.sourceID,e.sourceVersion,e.isMsgExternal,e.data.namespace,e.data.observersList,"-")}},{key:"notifyObservers",value:function(e){for(var t=this,n=new Map,i=function(i){t._getListenersList(e[i].type,e[i]["sub-type"]).forEach((function(r){try{if("UNCWidget"===r.id)if(n.has(r.id)){var o=n.get(r.id);o.notifsToProvide&&o.notifsToProvide.notifications&&o.notifsToProvide.notifications.notification.push(e[i])}else{var a={notifications:{notification:[e[i]]}},s={};s.listenerDetails=r,s.notifsToProvide=a,n.set(r.id,s)}else{var c={notifications:{notification:[e[i]]}},l=r.id.split(t._sourcePropertySeparator),f={targetType:"Applet",targetID:l[0],targetVersion:l[1],isMsgExternal:"internal"===l[2]?"false":"true",message:r.namespace,data:c};t._callback(f)}}catch(e){u.error("UNCEngine: NotificationDispatcher: notifyObservers - Callback exception: ",e)}}))},r=0;r<e.length;r+=1)i(r);return n.size>0&&n.forEach((function(e){try{var n=e.listenerDetails,i=n.id.split(t._sourcePropertySeparator),r={targetType:"Applet",targetID:i[0],targetVersion:i[1],isMsgExternal:"internal"===i[2]?"false":"true",message:n.namespace,data:e.notifsToProvide};t._callback(r)}catch(e){u.error("UNCEngine: NotificationDispatcher: notifyObservers - Callback exception: ",e)}})),se.notifyObservers(e),!0}},{key:"_preprocessObserversListForClient",value:function(e){return!!(e&&"object"===ce(e)&&e.data&&"object"===ce(e.data)&&e.data.namespace&&"string"==typeof e.data.namespace)&&(e.data.observersList&&!Array.isArray(e.data.observersList)&&(e.data.observersList=[{clientID:e.data.observersList.clientID}]),!0)}},{key:"_addRuleForClient",value:function(e,t,n,i,r,o){var a="internal";"true"===n&&(a="external"),void 0===t&&(t="");for(var s=e+this._sourcePropertySeparator+t+this._sourcePropertySeparator+a,c=0;c<r.length;c+=1){var l=r[c].clientID;this._observers.has(s)||this._observers.set(s,new Map),this._observers.get(s).has(i)||this._observers.get(s).set(i,new Set),this._observers.get(s).get(i).add(JSON.stringify({mode:o,clientID:l}))}return!0}},{key:"notifyObserversForClients",value:function(e){for(var t=this,n=function(n){t._getListenersApplicationList(e[n]).forEach((function(i){try{var r={notifications:{notification:[e[n]]}},o=i.id.split(t._sourcePropertySeparator),a={targetType:"Applet",targetID:o[0],targetVersion:o[1],isMsgExternal:"internal"===o[2]?"false":"true",message:i.namespace,data:{clientID:i.clientID,notificationObj:r}};t._callback(a),u.debug("UNCEngine: NotificationDispatcher: notifyObserversForClients , notified listeners with payload: ",a)}catch(e){u.error("UNCEngine: NotificationDispatcher: notifyObserversForClients - Callback exception: ",e)}}))},i=0;i<e.length;i+=1)n(i);return!0}},{key:"_getListenersApplicationList",value:function(e){var t=new Set;try{var n=JSON.parse(e.payload).clientApplications;this._observers.forEach((function(e,i){e.forEach((function(e,r){e.forEach((function(e,o){var a=e;"string"==typeof e&&(a=JSON.parse(e)),n.some((function(e){return a.clientID&&a.clientID.toLowerCase()===e.toLowerCase()&&"+"===a.mode}))&&t.add({id:i,namespace:r,clientID:a.clientID})}))}))}))}catch(e){u.warn("UNCEngine: NotificationDispatcher: _getListenersApplicationList: notification not applicable for clientApplications:",e)}return t}},{key:"broadcastServerTimestamp",value:function(e){if(e&&"number"!=typeof e)u.warn("UNCEngine: NotificationDispatcher: broadcastTimestamp - Input 'timestamp' is not valid!!");else{var t=e?e-(new Date).getTime():0;kt.setData({serverTimestampOnLaunch:e,serverTimeDelta:t});var n={};n.value=t,this.sendMessageToApplet("TimestampDrift",n,"*")}}},{key:"sendUpdateAnalyticsConfigToWidget",value:function(e){this.sendMessageToApplet("UpdateAnalyticsConfig",e,"UNCWidget")}},{key:"sendMessageToClient",value:function(e){if(!e||"object"!==ce(e)||!e.message||"string"!=typeof e.message)return!1;try{return this._callback(e)}catch(e){u.error("UNCEngine: NotificationDispatcher: sendDataToClient - Callback exception: ",e)}return!0}},{key:"sendTrayNotificationData",value:function(e){if(e.length){var t={notifications:{notification:e}};this.sendMessageToParent("ShowOSTray",!0,t)}return!0}},{key:"_sendMessage",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o={};return o.message=e,o.data=t,o.targetType=n,o.targetID=i,o.isAsync=r,this.sendMessageToClient(o)}},{key:"sendMessageToApplet",value:function(e,t,n){return this._sendMessage(e,t,"Applet",n)}},{key:"sendMessageToCoreExt",value:function(e,t,n){return this._sendMessage(e,t,"CoreExt",n)}},{key:"sendMessageToParent",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this._sendMessage(e,n,"Parent","",t)}}],n&&le(t.prototype,n),i&&le(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),de=new fe;function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function he(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ge(i.key),i)}}function ge(e){var t=function(e,t){if("object"!=pe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=pe(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pe(t)?t:String(t)}var me,ve=120,ye=10,be=8192,_e="https://notify.adobe.io",Ce="https://notify-stage.adobe.io",Ee="https://notify.adobe.io",Se="https://notify-stage.adobe.io",Ne="/ans/v2/notifications/timeline",Oe="/ans/v1/notifications",Te="/ans/v2/notifications/longpoll",Ie="/ans/v2/notifications/count",we="/ans/v2/notifications/search",Ae="/ans/v2/device/",ke=1,De=300,Pe=.1,Re="/ans/v2/preferences/category/user",xe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.notificationConfiguration={}}var t,n,i;return t=e,(n=[{key:"initialize",value:function(e){this.pollingInterval=ve,this.pageSize=ye,this.payloadSize=be,this.serverShortPollUri=Oe,this.serverBackFillUri=Ne,this.serverLongPollUri=Te,this.serverNotificationUnreadCountURI=Ie,this.serverNotificationSearchURI=we,this.serverDeviceRegisterUnRegisterURI=Ae,this.longPollEnabled=ke,this.longPollTimeout=De,this.configVersion=Pe,this.serverUserPreferencesURI=Re,"prod"===e.env?(this.serverBaseUrl=_e,this.serverBaseAdobeIOUrl=Ee):(this.serverBaseUrl=Ce,this.serverBaseAdobeIOUrl=Se)}},{key:"_setConfigParamsHelper",value:function(e,t){switch(e){case"NEPollingInterval":this.pollingInterval=parseInt(t,10);break;case"NEPageSize":this.pageSize=parseInt(t,10);break;case"NEPayloadSize":this.payloadSize=parseInt(t,10);break;case"NEServerBaseURL":this.serverBaseUrl=t;break;case"NEServerAdobeIOBaseURL":this.serverBaseAdobeIOUrl=t;break;case"NEServerURI":this.serverShortPollUri=t;break;case"NEServerURILongPoll":this.serverLongPollUri=t;break;case"NELongPollEnabled":this.longPollEnabled=1===parseInt(t,10);break;case"NESwitchToDefaultLongPollURI":this.defaultLongPollURIEnabled=1===parseInt(t,10);break;case"NELongPollTimeout":this.longPollTimeout=parseInt(t,10)}}},{key:"setConfigParams",value:function(e){this.notificationConfiguration=e;for(var t=e["config-params"]["config-param"],n=0;n<t.length;n+=1){var i=t[n];this._setConfigParamsHelper(i.key,i.value[0])}Object.prototype.hasOwnProperty.call(e,"complete-version")?this.configVersion=e["complete-version"]:this.configVersion=e.version,u.debug("configurations",this)}},{key:"serveNotificationConfigurationRequest",value:function(e){de.sendMessageToApplet(e.data.namespace,this.notificationConfiguration,e.sourceID)}}])&&he(t.prototype,n),i&&he(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Fe={OneSecond:1e3,TimeOutErrorCountLimit:4,ClientErrorCountLimit:4,ServerErrorCountLimit:10,InternalNetworkErrorCountLimit:10,COREEXT_TARGET_TYPE:"CoreExt",ANALYTICS_DESKTOP_TARGET_ID:"AnalyticsCoreExt",ConfigurationKey:"notification-configuration",CONTAINER_BL:"C3Container_BL",CCDCONTAINER_JS:"CCDContainer_JS",SwitchedToLongPollEvent:"ACCC_SWITCHED_TO_LONGPOLL",SwitchedToLongPollEventWin:"ACCC_WIN_PUSH_NOTIFICATION",DevicePushSet:"ACCC_DEVICE_PUSH_SET",DevicePushEnabledWin:"ANS_CONNECTION_ESTABLISHED",DevicePushDisabledWin:"DISABLED",DevicePushFeatureDisabled:"FeatureDisabled",PushServiceNotRunning:"PushServiceNotRunning",DeviceTokenNotAvailable:"DeviceTokenUnAvailable",AccessTokenMissing:"AccessTokenMissing",DevicePushFailureReason:"@reason",DevicePushFailureErrorCode:"@errorCode",DevicePushFailureReasonWin:"@Notification_Status_Reason",EnableForSurface:"enabled-for-surfaces",PerSurface:"PER_SURFACE",ENABLED:"enabled",INIT:"Init",COMPONENT:"component",ENGINE:"Engine",REMINDER:"Reminder",MESSAGE_HISTORICAL_NOTIFICATIONS:"HistoricalNotificationsNamespace",MESSAGE_PINNED_HISTORICAL_NOTIFICATIONS:"HistoricalPinnedNotificationsNamespace",DISABLED:"disabled",ENVIRONMENTS:{PROD:"prod",STAGE:"stage",DEV:"dev"},DeviceType:{MOBILE:"Mobile"},Surface:{WEB:"Web",DESKTOP:"desktop"},Optimizations:{DYNAMIC_LOADING:"dynamicLoading"},locales:{supportedLocales:["ar_AE","bg_BG","bn_IN","cs_CZ","cy_GB","da_DK","de_DE","el_GR","en_US","es_ES","et_EE","fi_FI","fil_PH","fr_FR","he_IL","hi_IN","hu_HU","id_ID","it_IT","ja_JP","ko_KR","lt_LT","lv_LV","ms_MY","nb_NO","nl_NL","pl_PL","pt_BR","pt_PT","ro_RO","ru_RU","sk_SK","sl_SI","sv_SE","ta_IN","th_TH","tr_TR","uk_UA","vi_VN","zh_CN","zh_TW"],fallbackLocales:{ar_EG:"ar_AE",ar_KW:"ar_AE",ar_MENA:"ar_AE",ar_QA:"ar_AE",ar_SA:"ar_AE",de_AT:"de_DE",de_CH:"de_DE",de_LU:"de_DE",en_AE:"en_US",en_AFRICA:"en_US",en_AU:"en_US",en_BE:"en_US",en_CA:"en_US",en_CIS:"en_US",en_EG:"en_US",en_GB:"en_US",en_GR:"en_US",en_HK:"en_US",en_ID:"en_US",en_IE:"en_US",en_IL:"en_US",en_IN:"en_US",en_KW:"en_US",en_LU:"en_US",en_MENA:"en_US",en_MY:"en_US",en_NG:"en_US",en_NZ:"en_US",en_PH:"en_US",en_QA:"en_US",en_SA:"en_US",en_SG:"en_US",en_TH:"en_US",en_VN:"en_US",en_ZA:"en_US",es_AR:"es_ES",es_CL:"es_ES",es_CO:"es_ES",es_CR:"es_ES",es_EC:"es_ES",es_GT:"es_ES",es_LA:"es_ES",es_MX:"es_ES",es_PE:"es_ES",es_PR:"es_ES",fr_BE:"fr_FR",fr_CA:"fr_FR",fr_CH:"fr_FR",fr_LU:"fr_FR",it_CH:"it_IT",nl_BE:"nl_NL",ru_CIS:"ru_RU",zh_HK:"zh_TW"},rtlLocales:["ar_AE","he_IL"],defaultLocale:"en_US"},RegistrationStatus:{SUCCESS:"success",FAILURE:"failure",PENDING:"pending"},RegistrationWaitingTimeout:6e4,HealthCheckPingTime:12e4,TrackingSeverTimeout:6e4,COMMUNICATION_CHANNEL:"communicationChannel"},Le=JSON.parse('{"ar_AE":{"LOC_NOTIFICATIONS_SMALL":"الإشعارات","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"غير قادر على تحميل الإشعارات.","LOC_TRY_AGAIN":"حاول مجددًا"},"bg_BG":{"LOC_NOTIFICATIONS_SMALL":"Известия","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Известията не могат да се заредят.","LOC_TRY_AGAIN":"Опитайте отново"},"bn_IN":{"LOC_NOTIFICATIONS_SMALL":"বিজ্ঞপ্তি","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"বিজ্ঞপ্তি লোড করতে অক্ষম।","LOC_TRY_AGAIN":"আবার চেষ্টা করুন"},"cs_CZ":{"LOC_NOTIFICATIONS_SMALL":"Oznámení","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Nelze načíst oznámení.","LOC_TRY_AGAIN":"Zkusit znovu"},"cy_GB":{"LOC_NOTIFICATIONS_SMALL":"Hysbysiadau","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Methu llwytho hysbysiadau.","LOC_TRY_AGAIN":"Rhowch gynnig arall arni"},"da_DK":{"LOC_NOTIFICATIONS_SMALL":"Meddelelser","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Notifikationer kan ikke indlæses.","LOC_TRY_AGAIN":"Prøv igen"},"de_DE":{"LOC_NOTIFICATIONS_SMALL":"Benachrichtigungen","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Benachrichtigungen können nicht geladen werden.","LOC_TRY_AGAIN":"Wiederholen"},"el_GR":{"LOC_NOTIFICATIONS_SMALL":"Ειδοποιήσεις","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Δεν είναι δυνατή η φόρτωση ειδοποιήσεων.","LOC_TRY_AGAIN":"Προσπαθήστε ξανά"},"en_US":{"LOC_NOTIFICATIONS_SMALL":"Notifications","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Unable to load notifications.","LOC_TRY_AGAIN":"Try again"},"es_ES":{"LOC_NOTIFICATIONS_SMALL":"Notificaciones","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"No se pueden cargar las notificaciones.","LOC_TRY_AGAIN":"Intentar de nuevo"},"es_MX":{"LOC_NOTIFICATIONS_SMALL":"Notificaciones","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"No se pueden cargar las notificaciones.","LOC_TRY_AGAIN":"Intentar de nuevo"},"et_EE":{"LOC_NOTIFICATIONS_SMALL":"Teatised","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Teavitus ei õnnestu laadida.","LOC_TRY_AGAIN":"Proovige uuesti"},"fi_FI":{"LOC_NOTIFICATIONS_SMALL":"Ilmoitukset","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Ilmoituksia ei voi ladata.","LOC_TRY_AGAIN":"Yritä uudelleen"},"fil_PH":{"LOC_NOTIFICATIONS_SMALL":"Mga Notification","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Hindi mai-load ang mga notification.","LOC_TRY_AGAIN":"Subukan ulit"},"fr_CA":{"LOC_NOTIFICATIONS_SMALL":"Notifications","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Impossible de charger des notifications.","LOC_TRY_AGAIN":"Réessayer"},"fr_FR":{"LOC_NOTIFICATIONS_SMALL":"Notifications","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Impossible de charger des notifications.","LOC_TRY_AGAIN":"Réessayer"},"he_IL":{"LOC_NOTIFICATIONS_SMALL":"הודעות","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"לא ניתן לטעון הודעות.","LOC_TRY_AGAIN":"נסה שנית"},"hi_IN":{"LOC_NOTIFICATIONS_SMALL":"सूचनाएं","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"नोटिफ़िकेशन लोड करने में असमर्थ।","LOC_TRY_AGAIN":"फिर से कोशिश करें।"},"hu_HU":{"LOC_NOTIFICATIONS_SMALL":"Értesítések","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Nem sikerült betölteni az értesítéseket.","LOC_TRY_AGAIN":"Próbálja újra"},"id_ID":{"LOC_NOTIFICATIONS_SMALL":"Notifikasi","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Tidak dapat memuat notifikasi.","LOC_TRY_AGAIN":"Coba lagi"},"it_IT":{"LOC_NOTIFICATIONS_SMALL":"Notifiche","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Impossibile caricare le notifiche.","LOC_TRY_AGAIN":"Riprova"},"ja_JP":{"LOC_NOTIFICATIONS_SMALL":"通知","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"通知を読み込めません。","LOC_TRY_AGAIN":"再試行"},"ko_KR":{"LOC_NOTIFICATIONS_SMALL":"알림","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"알림을 로드할 수 없음","LOC_TRY_AGAIN":"다시 시도"},"lt_LT":{"LOC_NOTIFICATIONS_SMALL":"Pranešimai","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Negalima įkelti pranešimų.","LOC_TRY_AGAIN":"Bandykite dar kartą"},"lv_LV":{"LOC_NOTIFICATIONS_SMALL":"Paziņojumi","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Nevar ielādēt paziņojumus.","LOC_TRY_AGAIN":"Mēģināt vēlreiz"},"ms_MY":{"LOC_NOTIFICATIONS_SMALL":"Pemberitahuan","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Tidak dapat memuatkan pemberitahuan.","LOC_TRY_AGAIN":"Cuba lagi"},"nb_NO":{"LOC_NOTIFICATIONS_SMALL":"Varsler","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Kunne ikke laste inn varsler.","LOC_TRY_AGAIN":"Prøv på nytt"},"nl_NL":{"LOC_NOTIFICATIONS_SMALL":"Meldingen","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Kan meldingen niet laden.","LOC_TRY_AGAIN":"Opnieuw"},"pl_PL":{"LOC_NOTIFICATIONS_SMALL":"Powiadomienia ","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Nie można wczytać powiadomień.","LOC_TRY_AGAIN":"Ponów próbę"},"pt_BR":{"LOC_NOTIFICATIONS_SMALL":"Notificações","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Não foi possível carregar notificações.","LOC_TRY_AGAIN":"Tentar novamente"},"pt_PT":{"LOC_NOTIFICATIONS_SMALL":"Notificações","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Não é possível carregar notificações.","LOC_TRY_AGAIN":"Tentar novamente"},"ro_RO":{"LOC_NOTIFICATIONS_SMALL":"Notificări","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Imposibil de încărcat notificările.","LOC_TRY_AGAIN":"Încercați din nou"},"ru_RU":{"LOC_NOTIFICATIONS_SMALL":"Уведомления","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Не удалось загрузить уведомления.","LOC_TRY_AGAIN":"Повторить попытку"},"sk_SK":{"LOC_NOTIFICATIONS_SMALL":"Oznámenia","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Nie je možné načítať oznámenia.","LOC_TRY_AGAIN":"Skúsiť znova"},"sl_SI":{"LOC_NOTIFICATIONS_SMALL":"Obvestila","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Obvestil ni mogoče naložiti.","LOC_TRY_AGAIN":"Poskusi znova"},"sl_SL":{"LOC_NOTIFICATIONS_SMALL":"Obvestila"},"sv_SE":{"LOC_NOTIFICATIONS_SMALL":"Meddelanden","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Det går inte att läsa in aviseringar.","LOC_TRY_AGAIN":"Försök igen"},"ta_IN":{"LOC_NOTIFICATIONS_SMALL":"அறிவிப்புகள்","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"அறிவிப்புகளைப் பெற முடியவில்லை.","LOC_TRY_AGAIN":"மீண்டும் முயற்சிக்கவும்"},"th_TH":{"LOC_NOTIFICATIONS_SMALL":"การแจ้งเตือน","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"ไม่สามารถโหลดการแจ้งเตือนได้","LOC_TRY_AGAIN":"ลองอีกครั้ง"},"tr_TR":{"LOC_NOTIFICATIONS_SMALL":"Bildirimler","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Bildirimler yüklenemedi.","LOC_TRY_AGAIN":"Yeniden deneyin"},"uk_UA":{"LOC_NOTIFICATIONS_SMALL":"Сповіщення","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Неможливо завантажити сповіщення.","LOC_TRY_AGAIN":"Повторити"},"vi_VN":{"LOC_NOTIFICATIONS_SMALL":"Thông báo","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"Không thể tải các thông báo.","LOC_TRY_AGAIN":"Thử lại"},"zh_CN":{"LOC_NOTIFICATIONS_SMALL":"通知","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"无法加载通知。","LOC_TRY_AGAIN":"重试"},"zh_TW":{"LOC_NOTIFICATIONS_SMALL":"通知","LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE":"無法載入通知。","LOC_TRY_AGAIN":"再試一次"}}'),Ue=n(7154),Me=n.n(Ue),je=n(7780),We=n.n(je),He={PROD_BASE_PATH:"https://prod.adobeccstatic.com",DEV_BASE_PATH:"https://dev.adobeccstatic.com",STAGE_BASE_PATH:"https://stage.adobeccstatic.com",QE_BASE_PATH:"https://qe.adobeccstatic.com",IMS_ENDPOINT_URLS:{PROD:"https://ims-na1.adobelogin.com",STAGE:"https://ims-na1-stg1.adobelogin.com"},FEATURE_FLAG_URLS:{PROD:"https://ffc-static-cdn.oobesaas.adobe.com/features/v3/unc/uncConfig.json",STAGE:"https://stg-ffc-static-cdn.oobesaas.adobe.com/features/v3/unc/uncConfig.json"},BIFROST_HOSTED_URLS:{PROD:"https://prod.adobeccstatic.com/wamclient/0.1/wamclient.js",STAGE:"https://stage.adobeccstatic.com/wamclient/0.1/wamclient.js"},CC_ICON_URLS:{PROD:"https://prod.adobeccstatic.com/unc/assets/creative_cloud_icon@2x-p7QCV_J.png",STAGE:"https://stage.adobeccstatic.com/unc/assets/creative_cloud_icon@2x-p7QCV_J.png"},ENABLED:"ENABLED",FEATURES:{DISABLED_SURFACES_FOR_FETCHING_HISTORICAL_NOTIFICATIONS:["DESKTOP"]},TRACKING_SERVER_URLS:{PROD:"https://cchome.adobe.io",STAGE:"https://cchome-stage.adobe.io"},PATH_PARAM:"unc",VERSION_PARAM:"10.0",LATEST_VERSION_PARAM:"latest",UNC_CLIENT_ID:"UNC_Desktop",Consumer_Supported_Keys:["client_id","name","version","platform","app_store_id"],Component_Supported_Keys:["name","version"],Event_Supported_Keys:["visitor_guid"],Evidon_Supported_Keys:["name","version"],Event_Section:"event",Source_Section:"source",Content_Section:"content",UI_Section:"ui",Environment_Section:"env",Consumer_Section:"consumer",User_Section:"user",Transaction_Section:"trn",Experiment_Section:"exp",Component_Section:"env.com",CAMPAIGN_ID:"CAMPAIGN_ID",VARIATION_ID:"VARIATION_ID",SURFACE_UXP:"UXP",SURFACE_WEB:"WEB",SURFACE_DESKTOP:"DESKTOP",MAC:"mac",HTML_PARSE_ERROR:"htmlContentParsingError",HTML_EMPTY_PAYLOAD:"emptyPayloadContent",HTML_PAYLOAD_NOT_PRESENT:"payloadContentNotDefined"};function qe(e){var t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}function Ve(e){var t;if(null==e)return He.HTML_PAYLOAD_NOT_PRESENT;var n=e.trim();if(""===n)return He.HTML_EMPTY_PAYLOAD;var i,r=new DOMParser,o=(i=n,Me()(i)),a=r.parseFromString(o,"text/html");return a.querySelector("parsererror")?(u.error("UNCWidget: Parsing failed for content in payload.timeline"),He.HTML_PARSE_ERROR):null===(t=a.body)||void 0===t?void 0:t.innerText.trim()}function Be(e){return e.getEvents(e.metricsCollection).events[0].data}function Ge(){try{return n(5332).version||He.VERSION_PARAM}catch(e){return u.error("UNCCommon: Error reading version from version.json:",e),He.VERSION_PARAM}}function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function Ke(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var i=t.length;return Xe(t,void 0!==n&&n<i?n:i)}return e(t,n)}function Ye(e){return function(e){if(Array.isArray(e))return Xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Je(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,$e(i.key),i)}}function $e(e){var t=function(e,t){if("object"!=ze(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ze(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ze(t)?t:String(t)}var Qe="#E1E1E1",Ze="#323232",et="#292929",tt="#8F8F8F",nt="#FFF",it="#292929",rt="#DBDBDB",ot="#2680EB",at=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"updatedTheme",value:function(e){return Dt.theme||(Dt.theme=e.uiConfig.theme),Dt.theme}},{key:"sanitizeLocaleValue",value:function(e){return Fe.locales.supportedLocales.indexOf(e)>-1?e:void 0!==Fe.locales.fallbackLocales[e]?(u.log("UNCEngine: EngineUtils: Using fallback locale:",Fe.locales.fallbackLocales[e]),Fe.locales.fallbackLocales[e]):(void 0!==e&&u.error(e,"is not a supported locale by Notifications client. Please check that you have provided the correct locale value and it is in the list of supported locales. Falling back to default locale en_US"),Fe.locales.defaultLocale)}},{key:"debounce",value:function(e,t){var n=null;return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];n&&clearTimeout(n),n=setTimeout((function(){e.apply(void 0,r),n=null}),t)}}}],(n=null)&&Je(t.prototype,n),i&&Je(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function st(){return"UXP"===Dt.hostPlatform}function ct(e){var t={};t=e instanceof We()?Be(e):e,de.sendMessageToApplet("AnalyticsEventFromHost",t,"UNCEngine")}function lt(e){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lt(e)}function ut(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ft(i.key),i)}}function ft(e){var t=function(e,t){if("object"!=lt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=lt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lt(t)?t:String(t)}me=at,at.removeErrorScreenFromDOM=function(e){e&&(e.remove(),document.removeEventListener("click",me.documentClickListener),document.removeEventListener("keydown",me.handleEscapeKey))},at.removeErrorContainer=function(e){var t=me.getErrorScreenQuerySelector();me.removeErrorScreenFromDOM(t)},at.documentClickListener=function(e){var t=me.getErrorScreenQuerySelector();e.composedPath().includes(t)||me.removeErrorScreenFromDOM(t)},at.getErrorScreenQuerySelector=function(){return document.querySelector("#errorScreenContainer")},at.getSvg=function(e){return'<svg\n                    width=18 \n                    height=18\n                    fill="currentColor"\n                    viewBox="0 0 20 20"\n                    xmlns="http://www.w3.org/2000/svg">\n                    <path \n                        d="M17.7862 12.6758C17.6177 12.3672 17.4454 12.0684 17.2749 11.7734C16.4483 10.3389 15.7339 9.10059 15.7339 7.15332C15.7339 4.03418 13.1963 1.49609 10.0767 1.49609C6.95706 1.49609 4.41946 4.03418 4.41946 7.15332C4.41946 8.91992 3.66067 10.2022 2.85745 11.5586C2.63724 11.9307 2.41604 12.3047 2.20804 12.6895C1.83206 13.3857 1.85111 14.21 2.25882 14.8936C2.67093 15.584 3.39554 15.9961 4.1973 15.9961H7.24955C7.24955 17.5127 8.48295 18.7461 9.99955 18.7461C11.5162 18.7461 12.7496 17.5127 12.7496 15.9961H15.8047C16.608 15.9961 17.3326 15.583 17.7437 14.8906C18.1514 14.2031 18.1675 13.375 17.7862 12.6758ZM9.99955 17.2461C9.3101 17.2461 8.74955 16.6855 8.74955 15.9961H11.2496C11.2496 16.6855 10.689 17.2461 9.99955 17.2461ZM16.4537 14.125C16.3872 14.2363 16.1914 14.4961 15.8047 14.4961H4.19731C3.92876 14.4961 3.68559 14.3574 3.54692 14.125C3.48247 14.0166 3.35161 13.7295 3.52837 13.4023C3.72661 13.0342 3.93804 12.6777 4.148 12.3232C5.01909 10.8525 5.91948 9.33105 5.91948 7.15332C5.91948 4.89941 7.82329 2.99609 10.0767 2.99609C12.3301 2.99609 14.2339 4.89941 14.2339 7.15332C14.2339 9.50195 15.1192 11.0371 15.9756 12.5225C16.1402 12.8076 16.3062 13.0957 16.4693 13.3945C16.65 13.7256 16.5186 14.0156 16.4537 14.125Z" \n                        fill='.concat(e," />\n                    </svg>")},at.getTooltipSvg=function(e){return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 5">\n    <path d="M6.20711 0.707106L10.5 5L0.5 5L4.79289 0.707107C5.18342 0.316583 5.81658 0.316582 6.20711 0.707106Z" fill='.concat(e,"></path>\n  </svg>")},at.getOrDefaultLocalizedValue=function(e,t,n){if(e&&t&&Le){var i=Le[t]?Le[t]:Le.en_US;return i[e]?i[e]:n}return n},at.showTooltip=function(e){var t,n="light"===Dt.theme?it:"express"===Dt.theme?tt:rt,i="light"===Dt.theme?it:"express"===Dt.theme?tt:rt,r="light"===Dt.theme?"#FFF":"express"===Dt.theme?nt:"#111",o=me.getOrDefaultLocalizedValue("LOC_NOTIFICATIONS_SMALL",Dt.locale,"Notifications"),a=document.createElement("div");a.setAttribute("style","position: absolute;display: none;left: 50%;transform: translateX(-50%);z-index: 1000;");var s=document.createElement("div");s.innerHTML=me.getTooltipSvg(n),s.setAttribute("style","height: 0.3125rem; left: 50%; margin-top: 10px; position:absolute; transform: translateX(-50%); width: 0.625rem;");var c=document.createElement("div");c.textContent=o;var l="position: absolute;left: 50%;transform: translateX(-50%);margin-top: -5px;white-space: nowrap;max-width: 10rem;padding: 0.1875rem 0.5625rem 0.3125rem 0.5625rem;flex-direction: column;justify-content: center;align-items: center;gap: 0.625rem;border-radius: 0.4375rem;background-color: ".concat(i,";color: ").concat(r,";border-radius: 0.4375rem;font-size: 0.75rem;font-style: normal;font-weight: 400;line-height: 1rem;");c.setAttribute("style",l),s.appendChild(c),a.appendChild(s),e.appendChild(a),e.addEventListener("mouseenter",(function(){clearTimeout(t),t=setTimeout((function(){a.style.display="flex"}),1e3)})),e.addEventListener("mouseleave",(function(n){var i=n.relatedTarget;n.stopPropagation(),e.contains(i)||a.contains(i)||(clearTimeout(t),t=setTimeout((function(){a.style.display="none"}),500))})),"web"===Dt.surface.toLowerCase()&&(e.addEventListener("focus",(function(){a.style.display="flex"})),e.addEventListener("blur",(function(){a.style.display="none"})))},at.loadJS=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,i=document.createElement("script");i.src=e,i.setAttribute("type","text/javascript"),i.setAttribute("async",t),document.body.appendChild(i),i.addEventListener("load",(function(){u.debug("UNCEngine: UNCContainer: Bifrost loaded"),n()})),i.addEventListener("error",(function(e){u.debug("UNCEngine: UNCContainer: Error on loading Bifrost"),u.log("Error on loading file",e)}))},at.sendNotificationIconClickMessage=function(e,t,n,i,r){e.handleMessage({targetType:"Parent",targetId:"",message:"NotificationIconClick",data:{UNCWidgetCSSPath:i,UNCWidgetJSPath:n,context:t,widgetClosed:r}}),kt.setDataCustomIcon("pending")},at.handleKeyDownEvent=function(e,t,n,i,r,o,a,s){13!==e.keyCode&&32!==e.keyCode&&40!==e.keyCode||t(e,n,i,r,o,a,s)},at.handleClickEvent=function(e,t,n,i,r,o,a){if("pending"!==kt.getDataCustomIcon()){var s=document.querySelector("#errorScreenContainer");s?(me.removeErrorScreenFromDOM(s),t&&me.sendNotificationIconClickMessage(n,i,r,o,a)):me.sendNotificationIconClickMessage(n,i,r,o,a)}},at.clickBellIcon=function(e,t){e.handleMessage({targetType:"Parent",targetId:"",message:"ClickBellIcon",data:t})},at.handleFocusEvent=function(e,t,n){me.shouldRemoveFocus||(e.target.style.backgroundColor=t,e.target.style.outline=n?"2px solid ".concat(n):0)},at.onThemeChange=function(e){var t="light"===Dt.theme?it:"express"===Dt.theme?nt:rt,n="light"===Dt.theme?Qe:"express"===Dt.theme?et:Ze,i=me.getSvg(t);e.innerHTML=i,e.setAttribute("onmouseover","this.style.backgroundColor='".concat(n,"'")),me.showTooltip(e),e.addEventListener("focus",(function(e){return me.handleFocusEvent(e,n,ot)})),me.showUnreadCount(Dt.badgeCount)},at.handleEscapeKey=function(e){"Escape"===e.key&&me.removeErrorContainer(e)},at.loadwidget=function(e,t,n,i){var r=document.getElementById("notificationIconOnEngine");if(!r){var o=me.UNCWidgetPath(t),a="express"===Dt.theme?et:"",s="light"===Dt.theme?Qe:"express"===Dt.theme?tt:Ze,c="light"===Dt.theme?it:"express"===Dt.theme?nt:rt,l=me.getSvg(c),u=ot,f=document.createElement("div");f.id="notificationIconOnEngine",f.innerHTML=l,f.role="button",f.tabIndex=t.uiConfig.tabIndex,f.setAttribute("style","align-items: center; border-width: 1px; border-radius: 4px; cursor: pointer; display: inline-flex; justify-content: center; min-height: 32px; min-width: 32px; position: relative;"),f.style.backgroundColor=a,f.setAttribute("onmouseover","this.style.backgroundColor='".concat(s,"'")),f.setAttribute("onmouseout","this.style.backgroundColor='".concat(a,"'")),me.showTooltip(f),f.addEventListener("click",(function(n){return me.handleClickEvent(n,!1,e,t,o.path,o.cssPath,i)})),f.addEventListener("keydown",(function(n){return me.handleKeyDownEvent(n,me.handleClickEvent,!1,e,t,o.path,o.cssPath,i)})),f.addEventListener("blur",(function(e){return me.handleFocusEvent(e,a,"")})),f.addEventListener("focus",(function(e){return me.handleFocusEvent(e,s,u)})),f.addEventListener("mousedown",(function(e){me.shouldRemoveFocus=!0})),f.addEventListener("mouseup",(function(e){me.shouldRemoveFocus=!1})),r=f,n.appendChild(f)}r.setAttribute("aria-label",me.getOrDefaultLocalizedValue("LOC_NOTIFICATIONS",t.locale,"Notifications")),r.setAttribute("aria-expanded",void 0!==i&&!i),r.addEventListener("themeChangeEvent",(function(){return me.onThemeChange(r)})),i&&(Dt.badgeCount=0),me.showUnreadCount(Dt.badgeCount),t.onReady&&"function"==typeof t.onReady&&t.onReady()},at.loadErrorScreen=function(e,t,n){if(n){var i=n.querySelector("#notificationIconOnEngine");if(i)if(!n.querySelector("#errorScreenContainer")){var r=document.createElement("div");r.setAttribute("id","errorScreenContainer"),r.setAttribute("style","position: relative;");var o=document.createElement("div"),a="light"===Dt.theme||"express"===Dt.theme?"#FFFFFF":"#222222";o.setAttribute("style","background-color: ".concat(a,"; ").concat("align-items: center; align-self: center; border-radius: 0.625rem; box-shadow: 0 0 0.188rem 0 rgba(0,0,0,.12), 0 0.188rem 0.5rem 0 rgba(0,0,0,.04), 0 0.25rem 1rem 0 rgba(0,0,0,.08); display: flex; flex: 1 0 0; flex-direction: column; gap: 0.5rem; height: 36rem; justify-content: center; margin: 0.5rem 0 0 0; padding: 1rem 0; position: absolute; right: 0; width: 23rem;"));var s=document.createElement("div");s.innerText=me.getOrDefaultLocalizedValue("LOC_NOTIFICATIONS_LOAD_ERROR_MESSAGE",t.locale,"Unable to load notifications.");var c="light"===Dt.theme||"express"===Dt.theme?"#505050":"#C8C8C8";s.setAttribute("style","color: ".concat(c,"; ").concat("cursor: auto; font-family: Adobe Clean; font-size: 0.875rem; font-weight: 400; line-height: 1.313rem; text-align: center;")),o.appendChild(s);var l=me.UNCWidgetPath(t),u=document.createElement("div");u.innerText=me.getOrDefaultLocalizedValue("LOC_TRY_AGAIN",t.locale,"Try again"),u.setAttribute("style","color: ".concat("#0265dc","; ").concat("cursor: pointer; font-size: .875rem; font-family: inherit; font-weight: 400; line-height: 1.125rem; text-align: center; word-wrap: break-word;")),u.addEventListener("click",(function(n){return me.handleClickEvent(n,!0,e,t,l.path,l.cssPath)})),u.setAttribute("tabindex","0"),u.addEventListener("keydown",(function(n){"Enter"===n.key&&me.handleClickEvent(n,!0,e,t,l.path,l.cssPath)})),document.addEventListener("keydown",me.handleEscapeKey),o.appendChild(u),r.appendChild(o),i.insertAdjacentElement("afterend",r),document.addEventListener("click",me.documentClickListener)}}},at.UNCWidgetPath=function(e){var t={id:"UNCWidget",version:"1.0"};return"UXP"===e.hostPlatform?(t.path="/UNCWidget-shared.js",t.cssPath="/UNCWidget.css"):"stage"===e.env.toLowerCase()||"stg"===e.env.toLowerCase()?(e.uiConfig&&!0===e.uiConfig.useUtilnavSharedComponents?t.path="".concat(He.STAGE_BASE_PATH,"/").concat(He.PATH_PARAM,"/").concat(He.VERSION_PARAM,"/UNCWidget-shared.js"):t.path="".concat(He.STAGE_BASE_PATH,"/").concat(He.PATH_PARAM,"/").concat(He.VERSION_PARAM,"/UNCWidget.js"),t.cssPath="".concat(He.STAGE_BASE_PATH,"/").concat(He.PATH_PARAM,"/").concat(He.VERSION_PARAM,"/UNCWidget.css")):"dev"===e.env.toLowerCase()?(e.uiConfig&&!0===e.uiConfig.useUtilnavSharedComponents?t.path="".concat(He.DEV_BASE_PATH,"/").concat(He.PATH_PARAM,"/").concat(He.VERSION_PARAM,"/UNCWidget-shared.js"):t.path="".concat(He.DEV_BASE_PATH,"/").concat(He.PATH_PARAM,"/").concat(He.VERSION_PARAM,"/UNCWidget.js"),t.cssPath="".concat(He.DEV_BASE_PATH,"/").concat(He.PATH_PARAM,"/").concat(He.VERSION_PARAM,"/UNCWidget.css")):"qe"===e.env.toLowerCase()?(e.uiConfig&&!0===e.uiConfig.useUtilnavSharedComponents?t.path="".concat(He.QE_BASE_PATH,"/").concat(He.PATH_PARAM,"/").concat(He.VERSION_PARAM,"/UNCWidget-shared.js"):t.path="".concat(He.QE_BASE_PATH,"/").concat(He.PATH_PARAM,"/").concat(He.VERSION_PARAM,"/UNCWidget.js"),t.cssPath="".concat(He.QE_BASE_PATH,"/").concat(He.PATH_PARAM,"/").concat(He.VERSION_PARAM,"/UNCWidget.css")):"local"===e.env.toLowerCase()?(e.uiConfig&&!0===e.uiConfig.useUtilnavSharedComponents?t.path="http://localhost:8080/UNCWidget-shared.js":t.path="http://localhost:8080/UNCWidget.js",t.cssPath="http://localhost:8080/UNCWidget.css"):(e.uiConfig&&!0===e.uiConfig.useUtilnavSharedComponents?t.path="".concat(He.PROD_BASE_PATH,"/").concat(He.PATH_PARAM,"/").concat(He.VERSION_PARAM,"/UNCWidget-shared.js"):t.path="".concat(He.PROD_BASE_PATH,"/").concat(He.PATH_PARAM,"/").concat(He.VERSION_PARAM,"/UNCWidget.js"),t.cssPath="".concat(He.PROD_BASE_PATH,"/").concat(He.PATH_PARAM,"/").concat(He.VERSION_PARAM,"/UNCWidget.css")),t},at.getUIContext=function(e){var t={appID:e.appID,imsClientID:e.imsClientID,locale:e.locale,env:e.env,surface:e.uiConfig.surface,cssOverride:e.uiConfig.cssOverride,cssPath:e.uiConfig.cssPath,theme:me.updatedTheme(e),tabIndex:e.uiConfig.tabIndex,el:e.uiConfig.el,userGuid:e.userGuid,ownerOrg:e.ownerOrg,analyticsConfig:e.analyticsConfig,parentSpectrumProvider:e.uiConfig.parentSpectrumProvider,optimizations:Array.isArray(e.optimizations)?[Fe.Optimizations.DYNAMIC_LOADING].concat(Ke(Ye,e.optimizations)):[Fe.Optimizations.DYNAMIC_LOADING]};if(e.filterConfig&&(e.filterConfig.premptiveCallCount&&(t.premptiveCallCountOnFilterChange=e.filterConfig.premptiveCallCount),qe(e.filterConfig.url)||(t.filterDetails=e.filterConfig.json)),e.uiConfig.acceptNotificationsForSurface&&(t.acceptNotificationsForSurface=e.uiConfig.acceptNotificationsForSurface),e.featureFlagEntries&&(t.featureFlagEntries=e.featureFlagEntries),e.uiConfig&&e.uiConfig.hostCallBackFn&&(t.hostCallBackFn=e.uiConfig.hostCallBackFn),e.uiConfig&&e.uiConfig.onUNCWidgetReady&&(t.onUNCWidgetReady=e.uiConfig.onUNCWidgetReady),e.onReady&&(t.onReady=e.onReady),e.onError&&(t.onError=e.onError),e.imageIcon&&(t.imageIcon=e.imageIcon),e.uiConfig&&e.uiConfig.imageIcon&&(t.imageIcon=e.uiConfig.imageIcon),e.analyticsEnabled?t.analyticsEnabled=e.analyticsEnabled:t.analyticsEnabled=!1,e.onAnalyticsEvent&&(t.onAnalyticsEvent=e.onAnalyticsEvent),e.notificationUpdateCallbackFn&&(t.notificationUpdateCallbackFn=e.notificationUpdateCallbackFn),e.onReminderEvent&&(t.onReminderEvent=e.onReminderEvent),e.onWidgetOpenCloseCallbackFn&&(t.onWidgetOpenCloseCallbackFn=e.onWidgetOpenCloseCallbackFn),e.notificationsListener){var n=e.notificationsListener;n&&n.data&&n.data.callbackFn&&"function"==typeof n.data.callbackFn&&n.data.observersList&&n.data.observersList.length>0&&de.registerObserver(n)}return e.deviceType&&(t.deviceType=e.deviceType),e.hostPlatform&&(t.hostPlatform=e.hostPlatform),t.features={},t.features.disabledFetchHistoricalNotification=function(e){return!!e.surface&&!!He.FEATURES.DISABLED_SURFACES_FOR_FETCHING_HISTORICAL_NOTIFICATIONS.find((function(t){return t===e.surface.toUpperCase()}))}(t),t},at.showUnreadCount=function(e){var t=document.getElementById("notificationIconOnEngine");if(t){var n=document.getElementById("outerDivOfCountContainer"),i=document.getElementById("unreadCountContainer");if(!n){(n=document.createElement("div")).id="outerDivOfCountContainer",(i=document.createElement("div")).id="unreadCountContainer",n.appendChild(i),t.style.position="relative",n.setAttribute("style","background-color: #C9252E; border: 0.094rem solid @gray-100; border-radius: 0.5rem; box-sizing: border-box; height: 1rem; line-height: 0.6rem; min-width: 1rem; position: absolute; top: 0; right: 0; z-index: 103;"),i.setAttribute("style","color: #ffffff; font-size: 0.625rem; font-weight: 600; padding-top: 0.188rem; padding-right: 0.188rem; padding-left:0.188rem; text-align: center;"),t.appendChild(n)}i&&(0===e?t.removeChild(n):i.innerHTML=e<100?e:"99+")}};var dt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,n=[{key:"getDefaultObjectForConfigurationsForUNCTrayForAnalytics",value:function(){var e={xApiKey:"unc-thor-service",apiKey:"unc-thor-service",source:"UNC",project:"unc-thor-service"};return e}},{key:"sendAnalyticsForReceiptOfNotification",value:function(e){u.debug("UNCEngine: CCDEngineAnalyticsHandler: sendAnalyticsForReceiptOfNotification :  notification object is ",e);var t={};t.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCTrayForAnalytics();var n,i,r={},o={};r["event.type"]="receipt",r["event.subtype"]="notification",r["event.subcategory"]="Message",this.setConstantFieldsWithValues(r),e["notification-id"]&&""!==e["notification-id"]&&(r["content.id"]=e["notification-id"]),e.type&&""!==e.type&&e["sub-type"]&&""!==e["sub-type"]&&(r["content.type"]="".concat(e.type,":").concat(e["sub-type"])),r["content.status"]=e.state?e.state.toLowerCase():"read";try{var a="object"===lt(e.payload)?e.payload:JSON.parse(e.payload);if(e.metadata&&e.metadata["tracking-system-payload"]&&""!==e.metadata["tracking-system-payload"]){r["ans.client_payload"]=e.metadata["tracking-system-payload"],o=e.metadata["tracking-system-payload"];try{o=JSON.parse(o),Object.prototype.hasOwnProperty.call(o,He.CAMPAIGN_ID)&&(n=o.CAMPAIGN_ID),Object.prototype.hasOwnProperty.call(o,He.VARIATION_ID)&&(i=o.VARIATION_ID)}catch(e){u.warn("UNCEngine: CCDEngineAnalyticsHandler: sendAnalyticsForReceiptOfNotification : metadata parsing failed with error : ",e)}}if(a["tracking-system-payload"]&&""!==a["tracking-system-payload"]){r["ans.client_payload"]=a["tracking-system-payload"],o=a["tracking-system-payload"];try{o=JSON.parse(o),Object.prototype.hasOwnProperty.call(o,He.CAMPAIGN_ID)&&(n=o.CAMPAIGN_ID),Object.prototype.hasOwnProperty.call(o,He.VARIATION_ID)&&(i=o.VARIATION_ID)}catch(e){u.warn("UNCEngine: CCDEngineAnalyticsHandler: sendAnalyticsForReceiptOfNotification : tracking payload parsing failed with error :",e)}}}catch(e){u.warn("UNCEngine: CCDEngineAnalyticsHandler: sendAnalyticsForReceiptOfNotification: Error in payload parsing")}try{var s="object"===lt(e.payload)?e.payload:JSON.parse(e.payload);s["content-source-id"]&&""!==s["content-source-id"]&&(r["custom.content_source_id"]=s["content-source-id"])}catch(e){u.warn("UNCEngine: CCDEngineAnalyticsHandler: sendAnalyticsForReceiptOfNotification: Error in fetching content-source-id",e)}n&&(r["exp.campaign_id"]=n),i&&(r["exp.variation_id"]=i),u.debug("UNCEngine: CCDEngineAnalyticsHandler: sendAnalyticsForReceiptOfNotification: sending event is: ",r),t.data=r,de.sendMessageToApplet("SendAnalytics",t,Fe.ANALYTICS_DESKTOP_TARGET_ID)}},{key:"sendAnalyticsForUserPreferenceForAnalytics",value:function(e,t){var n={};n.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCTrayForAnalytics();var i={"event.type":"click","event.subcategory":"Privacy Notice"};if(i["event.subtype"]=e?"opt-in":"opt-out",t&&(i["event.value"]=t),Dt.context.analyticsConfig&&Dt.context.analyticsConfig.evidonDetails&&"object"===lt(Dt.context.analyticsConfig.evidonDetails))for(var r=Object.keys(Dt.context.analyticsConfig.evidonDetails),o=0;o<r.length;o+=1){var a=r[o];-1!==He.Evidon_Supported_Keys.indexOf(a)&&("name"===a?i["env.svc.name"]=Dt.context.analyticsConfig.evidonDetails[a]:"version"===a&&(i["env.svc.version"]=Dt.context.analyticsConfig.evidonDetails[a]))}this.setConstantFieldsWithValues(i),n.data=i,de.sendMessageToApplet("SendAnalytics",n,Fe.ANALYTICS_DESKTOP_TARGET_ID)}},{key:"sendAnalyticsForAccessTokenExpiry",value:function(e){var t={};t.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCTrayForAnalytics();var n={"event.type":"accessTokenExpired"};n["event.value"]=e,this.setConstantFieldsWithValues(n),t.data=n,de.sendMessageToApplet("SendAnalytics",t,Fe.ANALYTICS_DESKTOP_TARGET_ID)}},{key:"sendAnalyticsForCommunicationPreference",value:function(e){var t={};t.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCTrayForAnalytics();var n={};n["event.type"]=Fe.COMMUNICATION_CHANNEL,n["event.value"]=e,this.setConstantFieldsWithValues(n),t.data=n,de.sendMessageToApplet("SendAnalytics",t,Fe.ANALYTICS_DESKTOP_TARGET_ID)}},{key:"sendAnalyticsForPostNotifications",value:function(e,t,n,i){var r={};r.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCTrayForAnalytics();var o={"event.type":"api","event.subtype":"PostNotification"};o["event.sucategory"]=n,o["event.value"]=e?"success":"error",o["content.type"]=i,e?o["content.id"]=t||"":o["event.error_code"]=t||"",this.setConstantFieldsWithValues(o),r.data=o,de.sendMessageToApplet("SendAnalytics",r,Fe.ANALYTICS_DESKTOP_TARGET_ID)}},{key:"sendAnalyticsForEngineInit",value:function(){var e={};e.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCTrayForAnalytics();var t={};t["event.type"]=Fe.INIT,t["event.subtype"]=Fe.COMPONENT,t["event.subcategory"]=Fe.ENGINE,this.setConstantFieldsWithValues(t),e.data=t,de.sendMessageToApplet("SendAnalytics",e,Fe.ANALYTICS_DESKTOP_TARGET_ID)}},{key:"sendAnalyticsForReminderInit",value:function(){var e={};e.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCTrayForAnalytics();var t={};t["event.type"]=Fe.INIT,t["event.subtype"]=Fe.COMPONENT,t["event.subcategory"]=Fe.REMINDER,this.setConstantFieldsWithValues(t),e.data=t,de.sendMessageToApplet("SendAnalytics",e,Fe.ANALYTICS_DESKTOP_TARGET_ID)}},{key:"sendAnalyticsForReminderJourney",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r={};r.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCTrayForAnalytics();var o={"event.type":"status"};o["event.subtype"]=t,o["event.value"]=n,"error"===n&&i&&(o["event.error_desc"]=i),o["event.subcategory"]=Fe.REMINDER,o["content.id"]=e.stage,o["content.name"]=e.reminderId,e.notificationChannels&&(o["content.action"]=JSON.stringify(e.notificationChannels)),this.setConstantFieldsWithValues(o),r.data=o,de.sendMessageToApplet("SendAnalytics",r,Fe.ANALYTICS_DESKTOP_TARGET_ID)}},{key:"setConstantFieldsWithValues",value:function(e){e["event.workflow"]="UNC",e["event.category"]="DESKTOP",e["source.platform"]="DESKTOP",e["source.name"]="UNC",e["source.version"]=Ge(),Dt.imsClientID&&""!==Dt.imsClientID&&(e["source.client_id"]=Dt.imsClientID),Dt.appID&&""!==Dt.appID&&(e["source.app_id"]=Dt.appID),Dt.imsClientID&&""!==Dt.imsClientID&&(e["consumer.client_id"]=Dt.imsClientID),Dt.productName&&""!==Dt.productName&&(e["consumer.name"]=Dt.productName),Dt.productVersion&&""!==Dt.productVersion&&(e["consumer.version"]=Dt.productVersion),e["consumer.platform"]="DESKTOP"}},{key:"sendCommunicationChannelClosedAnalytics",value:function(){}}],n&&ut(t.prototype,n),i&&ut(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),pt=new dt;function ht(e){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht(e)}function gt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,mt(i.key),i)}}function mt(e){var t=function(e,t){if("object"!=ht(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ht(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ht(t)?t:String(t)}var vt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,n=[{key:"getDefaultObjectForUNCForAnalytics",value:function(){var e={xApiKey:"unc-web-service",apiKey:"unc-web-service",project:"unc-web-service",source:"UNC"};return"prod"!==Dt.env.toLowerCase()?(e.environment="stage",e.rsid="adbem-cchome-dev"):(e.environment="prod",e.rsid="adbem-cchome-prod"),e}},{key:"sendAnalyticsForReceiptOfNotification",value:function(e){if(Dt.analyticsEnabled){u.info("UNCEngine: WebEngineAnalyticsHandler: sendAnalyticsForReceiptOfNotification :  notification object is ",e);var t,n,i=new(We())(this.getDefaultObjectForUNCForAnalytics());i.initializeDefaultData();var r={};i.setDataValue("event","type","receipt"),i.setDataValue("event","subtype","notification"),i.setDataValue("event","subcategory","Message"),this.setConstantFieldsWithValues(i),e["notification-id"]&&""!==e["notification-id"]&&i.setDataValue("content","id",e["notification-id"]),e.type&&""!==e.type&&e["sub-type"]&&""!==e["sub-type"]&&i.setDataValue("content","type","".concat(e.type,":").concat(e["sub-type"])),i.setDataValue("content","status",e.state?e.state.toLowerCase():"read");try{var o="object"===ht(e.payload)?e.payload:JSON.parse(e.payload);if(e.metadata&&e.metadata["tracking-system-payload"]&&""!==e.metadata["tracking-system-payload"]){i.setDataValue("custom","ans.client_payload",e.metadata["tracking-system-payload"]),r=e.metadata["tracking-system-payload"];try{r=JSON.parse(r),Object.prototype.hasOwnProperty.call(r,He.CAMPAIGN_ID)&&(t=r.CAMPAIGN_ID),Object.prototype.hasOwnProperty.call(r,He.VARIATION_ID)&&(n=r.VARIATION_ID)}catch(e){u.warn("UNCEngine: WebEngineAnalyticsHandler: sendAnalyticsForReceiptOfNotification : metadata parsing failed with error : ",e)}}if(o["tracking-system-payload"]&&""!==o["tracking-system-payload"]){i.setDataValue("custom","ans.client_payload",o["tracking-system-payload"]),r=o["tracking-system-payload"];try{r=JSON.parse(r),Object.prototype.hasOwnProperty.call(r,He.CAMPAIGN_ID)&&(t=r.CAMPAIGN_ID),Object.prototype.hasOwnProperty.call(r,He.VARIATION_ID)&&(n=r.VARIATION_ID)}catch(e){u.warn("UNCEngine: WebEngineAnalyticsHandler: sendAnalyticsForReceiptOfNotification : tracking payload parsing failed with error :",e)}}}catch(e){u.warn("UNCEngine: WebEngineAnalyticsHandler: sendAnalyticsForReceiptOfNotification : Error in paylaod parsing")}try{var a="object"===ht(e.payload)?e.payload:JSON.parse(e.payload);a["content-source-id"]&&""!==a["content-source-id"]&&i.setDataValue("custom","content_source_id",a["content-source-id"])}catch(e){u.warn("UNCEngine: WebEngineAnalyticsHandler: sendAnalyticsForReceiptOfNotification : Error in fetching content-source-id",e)}if(t&&i.setDataValue("exp","campaign_id",t),n&&i.setDataValue("exp","variation_id",n),Dt.onAnalyticsEvent)try{Dt.onAnalyticsEvent(i.eventsObject)}catch(e){u.warn("UNCEngine: WebEngineAnalyticsHandler: sendAnalyticsForReceiptOfNotification : Error in execution onAnalyticsEvent",e)}i.addToCollection(),i.sendToIngest(),ct(i)}}},{key:"sendAnalyticsForUserPreferenceForAnalytics",value:function(e,t){var n=new(We())(this.getDefaultObjectForUNCForAnalytics());if(n.initializeDefaultData(),n.setDataValue(He.Event_Section,"type","click"),n.setDataValue(He.Event_Section,"subcategory","Privacy Notice"),e?n.setDataValue(He.Event_Section,"subtype","opt-in"):n.setDataValue(He.Event_Section,"subtype","opt-out"),t&&n.setDataValue(He.Event_Section,"value",t),Dt.context.analyticsConfig&&Dt.context.analyticsConfig.evidonDetails&&"object"===ht(Dt.context.analyticsConfig.evidonDetails))for(var i=Object.keys(Dt.context.analyticsConfig.evidonDetails),r=0;r<i.length;r+=1){var o=i[r];-1!==He.Evidon_Supported_Keys.indexOf(o)&&("name"===o?n.setDataValue(He.Environment_Section,"svc.name",Dt.context.analyticsConfig.evidonDetails[o]):"version"===o&&n.setDataValue(He.Environment_Section,"svc.version",Dt.context.analyticsConfig.evidonDetails[o]))}this.setConstantFieldsWithValues(n),n.addToCollection(),n.sendToIngest(),ct(n)}},{key:"sendAnalyticsForCommunicationPreference",value:function(e){if(Dt.analyticsEnabled){u.info("UNCEngine: WebEngineAnalyticsHandler: sendAnalyticsForCommunicationPreference :  communication channel is: ",e);var t=new(We())(this.getDefaultObjectForUNCForAnalytics());t.initializeDefaultData(),t.setDataValue("event","type",Fe.COMMUNICATION_CHANNEL),t.setDataValue("event","value",e),this.setConstantFieldsWithValues(t),t.addToCollection(),t.sendToIngest(),ct(t)}}},{key:"sendAnalyticsForEngineInit",value:function(){if(Dt.analyticsEnabled){u.info("UNCEngine: WebEngineAnalyticsHandler: sendAnalyticsForEngineInit");var e=new(We())(this.getDefaultObjectForUNCForAnalytics());e.initializeDefaultData(),e.setDataValue(He.Event_Section,"type",Fe.INIT),e.setDataValue(He.Event_Section,"subtype",Fe.COMPONENT),e.setDataValue(He.Event_Section,"subcategory",Fe.ENGINE),this.setConstantFieldsWithValues(e),e.addToCollection(),e.sendToIngest(),ct(e)}}},{key:"setConstantFieldsWithValues",value:function(e){e.setDataValue("event","workflow","UNC"),e.setDataValue("event","category","WEB"),Dt.deviceType&&"Mobile"===Dt.deviceType?e.setDataValue("source","platform","MOBILE"):e.setDataValue("source","platform","WEB"),e.setDataValue("source","name","UNC"),e.setDataValue("source","version",Ge()),Dt.imsClientID&&""!==Dt.imsClientID&&e.setDataValue("source","client_id",Dt.imsClientID),Dt.appID&&""!==Dt.appID&&e.setDataValue("source","app_id",Dt.appID),Dt.userGuid&&e.setDataValue("event","user_guid",Dt.userGuid),Dt.ownerOrg&&e.setDataValue("event","org_guid",Dt.ownerOrg);var t=Dt.locale;if(e.setDataValue("event","locale",t),Dt.context.analyticsConfig&&Dt.context.analyticsConfig.componentDetails&&"object"===ht(Dt.context.analyticsConfig.componentDetails))for(var n=Object.keys(Dt.context.analyticsConfig.componentDetails),i=0;i<n.length;i+=1){var r=n[i];-1!==He.Component_Supported_Keys.indexOf(r)&&("name"===r?e.setDataValue(He.Environment_Section,"com.name",Dt.context.analyticsConfig.componentDetails[r]):"version"===r&&e.setDataValue(He.Environment_Section,"com.version",Dt.context.analyticsConfig.componentDetails[r]))}if(Dt.context.analyticsConfig&&Dt.context.analyticsConfig.eventDetails&&"object"===ht(Dt.context.analyticsConfig.eventDetails))for(var o=Object.keys(Dt.context.analyticsConfig.eventDetails),a=0;a<o.length;a+=1){var s=o[a];-1!==He.Event_Supported_Keys.indexOf(s)&&e.setDataValue(He.Event_Section,s,Dt.context.analyticsConfig.eventDetails[s])}if(Dt.context.analyticsConfig&&Dt.context.analyticsConfig.consumerDetails&&"object"===ht(Dt.context.analyticsConfig.consumerDetails)){for(var c=Object.keys(Dt.context.analyticsConfig.consumerDetails),l=0;l<c.length;l+=1){var u=c[l];-1!==He.Consumer_Supported_Keys.indexOf(u)&&e.setDataValue(He.Consumer_Section,u,Dt.context.analyticsConfig.consumerDetails[u])}var f=e.getDevice();f&&""!==f&&e.setDataValue(He.Consumer_Section,"device",f);var d=e.getOSVersion();d&&""!==d&&e.setDataValue(He.Consumer_Section,"os_version",d)}var p=e.getDevice();p&&""!==p&&e.setDataValue("consumer","device",p);var h=e.getOSVersion();h&&""!==h&&e.setDataValue("consumer","os_version",h)}},{key:"sendCommunicationChannelClosedAnalytics",value:function(){}},{key:"sendAnalyticsForReminderInit",value:function(){if(Dt.analyticsEnabled){var e=new(We())(this.getDefaultObjectForUNCForAnalytics());e.initializeDefaultData(),e.setDataValue(He.Event_Section,"type",Fe.INIT),e.setDataValue(He.Event_Section,"subtype",Fe.COMPONENT),e.setDataValue(He.Event_Section,"subcategory",Fe.REMINDER),this.setConstantFieldsWithValues(e),e.addToCollection(),e.sendToIngest(),ct(e)}}},{key:"sendAnalyticsForReminderJourney",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(Dt.analyticsEnabled){var r=new(We())(this.getDefaultObjectForUNCForAnalytics());r.initializeDefaultData(),r.setDataValue(He.Event_Section,"type","status"),r.setDataValue(He.Event_Section,"subtype",t),r.setDataValue(He.Event_Section,"subcategory",Fe.REMINDER),r.setDataValue(He.Event_Section,"value",n),"error"===n&&i&&r.setDataValue(He.Event_Section,"error_desc",i),r.setDataValue(He.Content_Section,"id",e.stage),r.setDataValue(He.Content_Section,"name",e.reminderId),e.notificationChannels&&r.setDataValue(He.Content_Section,"action",JSON.stringify(e.notificationChannels)),this.setConstantFieldsWithValues(r),r.addToCollection(),r.sendToIngest(),ct(r)}}},{key:"sendAnalyticsForPostNotifications",value:function(e,t,n,i){if(Dt.analyticsEnabled){var r=new(We())(this.getDefaultObjectForUNCForAnalytics());r.initializeDefaultData();var o=e?"success":"error";r.setDataValue("event","type","api"),r.setDataValue("event","subtype","PostNotification"),r.setDataValue("event","subcategory",n),r.setDataValue("event","value",o),r.setDataValue("content","type",i),e?r.setDataValue("content","id",t||""):r.setDataValue("event","error_code",t||""),this.setConstantFieldsWithValues(r),r.addToCollection(),r.sendToIngest(),ct(r)}}}],n&&gt(t.prototype,n),i&&gt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),yt=new vt;function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function _t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ct(i.key),i)}}function Ct(e){var t=function(e,t){if("object"!=bt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=bt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bt(t)?t:String(t)}var Et=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,n=[{key:"getDefaultObjectForUNCForAnalytics",value:function(){var e={xApiKey:"unc-thor-service",apiKey:"unc-thor-service",project:"unc-thor-service",source:"UNC"};return"prod"!==Dt.env.toLowerCase()?e.environment="stage":e.environment="prod",e}},{key:"sendAnalyticsForReceiptOfNotification",value:function(e){if(Dt.analyticsEnabled){u.info("UNCEngine: UXPEngineAnalyticsHandler: sendAnalyticsForReceiptOfNotification :  notification object is ",e);var t,n,i=new(We())(this.getDefaultObjectForUNCForAnalytics());i.initializeDefaultData();var r={};i.setDataValue("event","type","receipt"),i.setDataValue("event","subtype","notification"),i.setDataValue("event","subcategory","Message"),this.setConstantFieldsWithValues(i),e["notification-id"]&&""!==e["notification-id"]&&i.setDataValue("content","id",e["notification-id"]),e.type&&""!==e.type&&e["sub-type"]&&""!==e["sub-type"]&&i.setDataValue("content","type","".concat(e.type,":").concat(e["sub-type"])),i.setDataValue("content","status",e.state?e.state.toLowerCase():"read");try{var o="object"===bt(e.payload)?e.payload:JSON.parse(e.payload);if(e.metadata&&e.metadata["tracking-system-payload"]&&""!==e.metadata["tracking-system-payload"]){i.setDataValue("custom","ans.client_payload",e.metadata["tracking-system-payload"]),r=e.metadata["tracking-system-payload"];try{r=JSON.parse(r),Object.prototype.hasOwnProperty.call(r,He.CAMPAIGN_ID)&&(t=r.CAMPAIGN_ID),Object.prototype.hasOwnProperty.call(r,He.VARIATION_ID)&&(n=r.VARIATION_ID)}catch(e){u.warn("UNCEngine: UXPEngineAnalyticsHandler: sendAnalyticsForReceiptOfNotification : metadata parsing failed with error : ",e)}}if(o["tracking-system-payload"]&&""!==o["tracking-system-payload"]){i.setDataValue("custom","ans.client_payload",o["tracking-system-payload"]),r=o["tracking-system-payload"];try{r=JSON.parse(r),Object.prototype.hasOwnProperty.call(r,He.CAMPAIGN_ID)&&(t=r.CAMPAIGN_ID),Object.prototype.hasOwnProperty.call(r,He.VARIATION_ID)&&(n=r.VARIATION_ID)}catch(e){u.warn("UNCEngine: UXPEngineAnalyticsHandler: sendAnalyticsForReceiptOfNotification : tracking payload parsing failed with error :",e)}}}catch(e){u.warn("UNCEngine: UXPEngineAnalyticsHandler: sendAnalyticsForReceiptOfNotification : Error in paylaod parsing")}try{var a="object"===bt(e.payload)?e.payload:JSON.parse(e.payload);a["content-source-id"]&&""!==a["content-source-id"]&&i.setDataValue("custom","content_source_id",a["content-source-id"])}catch(e){u.warn("UNCEngine: UXPEngineAnalyticsHandler: sendAnalyticsForReceiptOfNotification : Error in fetching content-source-id",e)}if(t&&i.setDataValue("exp","campaign_id",t),n&&i.setDataValue("exp","variation_id",n),Dt.onAnalyticsEvent)try{Dt.onAnalyticsEvent(i.eventsObject)}catch(e){u.warn("UNCEngine: UXPEngineAnalyticsHandler: sendAnalyticsForReceiptOfNotification : Error in execution onAnalyticsEvent",e)}i.addToCollection(),i.sendToIngest(),ct(i)}}},{key:"sendAnalyticsForUserPreferenceForAnalytics",value:function(e,t){var n=new(We())(this.getDefaultObjectForUNCForAnalytics());if(n.initializeDefaultData(),n.setDataValue(He.Event_Section,"type","click"),n.setDataValue(He.Event_Section,"subcategory","Privacy Notice"),e?n.setDataValue(He.Event_Section,"subtype","opt-in"):n.setDataValue(He.Event_Section,"subtype","opt-out"),t&&n.setDataValue(He.Event_Section,"value",t),Dt.context.analyticsConfig&&Dt.context.analyticsConfig.evidonDetails&&"object"===bt(Dt.context.analyticsConfig.evidonDetails))for(var i=Object.keys(Dt.context.analyticsConfig.evidonDetails),r=0;r<i.length;r+=1){var o=i[r];-1!==He.Evidon_Supported_Keys.indexOf(o)&&("name"===o?n.setDataValue(He.Environment_Section,"svc.name",Dt.context.analyticsConfig.evidonDetails[o]):"version"===o&&n.setDataValue(He.Environment_Section,"svc.version",Dt.context.analyticsConfig.evidonDetails[o]))}this.setConstantFieldsWithValues(n),n.addToCollection(),n.sendToIngest(),ct(n)}},{key:"sendAnalyticsForCommunicationPreference",value:function(e){if(Dt.analyticsEnabled){u.info("UNCEngine: UXPEngineAnalyticsHandler: sendAnalyticsForCommunicationPreference :  communication channel is: ",e);var t=new(We())(this.getDefaultObjectForUNCForAnalytics());t.initializeDefaultData(),t.setDataValue("event","type",Fe.COMMUNICATION_CHANNEL),t.setDataValue("event","value",e),this.setConstantFieldsWithValues(t),t.addToCollection(),t.sendToIngest(),ct(t)}}},{key:"setConstantFieldsWithValues",value:function(e){e.setDataValue("event","workflow","UNC"),e.setDataValue("event","category","DESKTOP"),e.setDataValue("source","platform","UXP"),e.setDataValue("source","name","UNC"),e.setDataValue("source","version",Ge()),Dt.imsClientID&&""!==Dt.imsClientID&&e.setDataValue("source","client_id",Dt.imsClientID),Dt.appID&&""!==Dt.appID&&e.setDataValue("source","app_id",Dt.appID),Dt.userGuid&&e.setDataValue("event","user_guid",Dt.userGuid);var t=Dt.locale;if(e.setDataValue("event","locale",t),Dt.context.analyticsConfig&&Dt.context.analyticsConfig.componentDetails&&"object"===bt(Dt.context.analyticsConfig.componentDetails))for(var n=Object.keys(Dt.context.analyticsConfig.componentDetails),i=0;i<n.length;i+=1){var r=n[i];-1!==He.Component_Supported_Keys.indexOf(r)&&("name"===r?e.setDataValue(He.Environment_Section,"com.name",Dt.context.analyticsConfig.componentDetails[r]):"version"===r&&e.setDataValue(He.Environment_Section,"com.version",Dt.context.analyticsConfig.componentDetails[r]))}if(Dt.context.analyticsConfig&&Dt.context.analyticsConfig.eventDetails&&"object"===bt(Dt.context.analyticsConfig.eventDetails))for(var o=Object.keys(Dt.context.analyticsConfig.eventDetails),a=0;a<o.length;a+=1){var s=o[a];-1!==He.Event_Supported_Keys.indexOf(s)&&e.setDataValue(He.Event_Section,s,Dt.context.analyticsConfig.eventDetails[s])}if(Dt.context.analyticsConfig&&Dt.context.analyticsConfig.consumerDetails&&"object"===bt(Dt.context.analyticsConfig.consumerDetails)){for(var c=Object.keys(Dt.context.analyticsConfig.consumerDetails),l=0;l<c.length;l+=1){var u=c[l];-1!==He.Consumer_Supported_Keys.indexOf(u)&&e.setDataValue(He.Consumer_Section,u,Dt.context.analyticsConfig.consumerDetails[u])}var f=e.getDevice();f&&""!==f&&e.setDataValue(He.Consumer_Section,"device",f);var d=e.getOSVersion();d&&""!==d&&e.setDataValue(He.Consumer_Section,"os_version",d)}var p=e.getDevice();p&&""!==p&&e.setDataValue("consumer","device",p);var h=e.getOSVersion();h&&""!==h&&e.setDataValue("consumer","os_version",h)}},{key:"sendCommunicationChannelClosedAnalytics",value:function(){if(Dt.analyticsEnabled){u.info("UNCEngine: EngineAnalyticsHandler: sendAnalyticsIfCommunicationChannelClosed :  communication channel is: disabled");var e=new(We())(this.getDefaultObjectForUNCForAnalytics());e.initializeDefaultData(),e.setDataValue("event","type",Fe.DISABLED),e.setDataValue("event","value","pushViaCCD-Longpoll"),this.setConstantFieldsWithValues(e),e.addToCollection(),e.sendToIngest(),ct(e)}}},{key:"sendAnalyticsForEngineInit",value:function(){if(Dt.analyticsEnabled){var e=new(We())(this.getDefaultObjectForUNCForAnalytics());e.initializeDefaultData(),e.setDataValue("event","type",Fe.INIT),e.setDataValue("event","subtype",Fe.COMPONENT),e.setDataValue("event","subcategory",Fe.ENGINE),this.setConstantFieldsWithValues(e),e.addToCollection(),e.sendToIngest(),ct(e)}}},{key:"sendAnalyticsForReminderInit",value:function(){if(Dt.analyticsEnabled){var e=new(We())(this.getDefaultObjectForUNCForAnalytics());e.initializeDefaultData(),e.setDataValue("event","type",Fe.INIT),e.setDataValue("event","subtype",Fe.COMPONENT),e.setDataValue("event","subcategory",Fe.REMINDER),this.setConstantFieldsWithValues(e),e.addToCollection(),e.sendToIngest(),ct(e)}}},{key:"sendAnalyticsForReminderJourney",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(Dt.analyticsEnabled){var r=new(We())(this.getDefaultObjectForUNCForAnalytics());r.initializeDefaultData(),r.setDataValue("event","type","status"),r.setDataValue("event","subtype",t),r.setDataValue("event","subcategory",Fe.REMINDER),r.setDataValue("event","value",n),"error"===n&&i&&r.setDataValue("event","error_desc",i),r.setDataValue("content","id",e.stage),r.setDataValue("content","name",e.reminderId),e.notificationChannels&&r.setDataValue("content","action",JSON.stringify(e.notificationChannels)),this.setConstantFieldsWithValues(r),r.addToCollection(),r.sendToIngest(),ct(r)}}},{key:"sendAnalyticsForPostNotifications",value:function(e,t,n,i){if(Dt.analyticsEnabled){var r=new(We())(this.getDefaultObjectForUNCForAnalytics());r.initializeDefaultData();var o=e?"success":"error";r.setDataValue("event","type","api"),r.setDataValue("event","subtype","PostNotification"),r.setDataValue("event","subcategory",n),r.setDataValue("event","value",o),r.setDataValue("content","type",i),e?r.setDataValue("content","id",t||""):r.setDataValue("event","error_code",t||""),this.setConstantFieldsWithValues(r),r.addToCollection(),r.sendToIngest(),ct(r)}}}],n&&_t(t.prototype,n),i&&_t(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),St=new Et,Nt=function(){function e(){}return e.getInstance=function(){return null===e.instance&&(st()?e.instance=St:Dt&&Dt.surface&&Dt.surface.toUpperCase()===He.SURFACE_WEB?e.instance=yt:e.instance=pt),e.instance},e.instance=null,e}();function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}function Tt(e){return function(e){if(Array.isArray(e))return It(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return It(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return It(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function wt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,At(i.key),i)}}function At(e){var t=function(e,t){if("object"!=Ot(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ot(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ot(t)?t:String(t)}var kt=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._globalData={appID:null,context:null,appBundleID:null,pushDeviceID:null,imsClientID:null,xApiKey:null,machineDeviceToken:null,deviceLocale:"en_US",platform:null,osName:null,osVersion:null,productName:"Creative Cloud",productVersion:null,ownerOrg:null,env:"prod",locale:"en_US",surface:"web",isLongPollFeatureEnabled:!0,isDevicePushEnabled:!1,analytics:"ETS",analyticsEnabled:!1,onAnalyticsEvent:null,serverTimeDelta:0,serverTimestampOnLaunch:0,preferencesTimeOut:20,getCurrentServerTimestamp:function(){return(new Date).getTime()-t._globalData.serverTimeDelta},isCCDPresent:!1,isADSRunning:!1,optimizations:[Fe.Optimizations.DYNAMIC_LOADING],theme:null,badgeCount:0,localBadgeCount:0,customBellIcon:"Not pending",hostPlatform:"",osPlatform:"",userGuid:"",pushViaCCDConfig:null,isCacheEnabled:!1,focusoutLongPollTerminationSurfaces:[],onReminderEvent:null},this._serverConfigurationManager=new xe,this._serverConfigurationManager.initialize(this._globalData),this._manager=null}var t,n,i;return t=e,(n=[{key:"initialize",value:function(e){var t=e,n=!!t.appID;return n&&(this._globalData.context=t,this._globalData.appID=t.appID,this._globalData.imsClientID=t.imsClientID,this._globalData.ownerOrg=t.ownerOrg,this._globalData.env=t.env.toLowerCase(),this._globalData.locale=at.sanitizeLocaleValue(t.locale),this._globalData.optimizations=Array.isArray(t.optimizations)?[Fe.Optimizations.DYNAMIC_LOADING].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var i=t.length;return It(t,void 0!==n&&n<i?n:i)}return e(t,n)}(Tt,t.optimizations)):[Fe.Optimizations.DYNAMIC_LOADING],this._globalData.hostPlatform=t.hostPlatform,this._globalData.osPlatform=t.osPlatform,this._globalData.userGuid=t.userGuid,t.pushViaCCDConfig&&("string"==typeof t.pushViaCCDConfig?this._globalData.pushViaCCDConfig=JSON.parse(t.pushViaCCDConfig):"object"===Ot(t.pushViaCCDConfig)&&(this._globalData.pushViaCCDConfig=t.pushViaCCDConfig)),t.surface&&(this._globalData.surface=t.surface.toLowerCase()),void 0!==t.analyticsEnabled&&(this._globalData.analyticsEnabled="true"===t.analyticsEnabled.toString().toLowerCase()),t.focusoutLongPollTerminationSurfaces&&(this._globalData.focusoutLongPollTerminationSurfaces=t.focusoutLongPollTerminationSurfaces),t.onAnalyticsEvent&&"function"==typeof t.onAnalyticsEvent&&(this._globalData.onAnalyticsEvent=t.onAnalyticsEvent),this._globalData.appBundleID=t.appBundleID,this._globalData.osName=t.osName,this._globalData.osVersion=t.osVersion,this._globalData.productName=t.productName,this._globalData.productVersion=t.productVersion,void 0!==t.surface&&(this._globalData.surface=t.surface.toLowerCase()),void 0!==t.platform&&(this._globalData.platform=t.platform.toLowerCase()),void 0!==t.machineDeviceToken&&(this._globalData.machineDeviceToken=t.machineDeviceToken),void 0!==t.pushDeviceID&&(this._globalData.pushDeviceID=t.pushDeviceID),void 0!==t.isDevicePushEnabled&&(this._globalData.isDevicePushEnabled=t.isDevicePushEnabled),void 0!==t.deviceOSLocale&&(this._globalData.deviceOSLocale=t.deviceOSLocale),void 0!==t["x-api-key"]?this._globalData.xApiKey=t["x-api-key"]:this._globalData.xApiKey=this._globalData.imsClientID,t.optimizations&&t.optimizations.includes("disableAnalytics")&&(this._globalData.analyticsEnabled=!1),void 0!==t.isCacheEnabled&&(this._globalData.isCacheEnabled=t.isCacheEnabled),t.onReminderEvent&&"function"==typeof t.onReminderEvent&&(this._globalData.onReminderEvent=t.onReminderEvent),this._serverConfigurationManager.initialize(this._globalData)),n}},{key:"setData",value:function(e){return!!e&&(this._globalData.serverTimestampOnLaunch=e.serverTimestampOnLaunch,this._globalData.serverTimeDelta=e.serverTimeDelta?e.serverTimeDelta:0,this._globalData.env=e.env?e.env:this._globalData.env,this._globalData.locale=e.locale?e.locale:this._globalData.locale,!0)}},{key:"getDataCustomIcon",value:function(){return this._globalData.customBellIcon}},{key:"setDataCustomIcon",value:function(e){this._globalData.customBellIcon=e}},{key:"setUserProfile",value:function(e){this._globalData.userProfile=e}},{key:"getUserProfile",value:function(){return this._globalData.userProfile}}])&&wt(t.prototype,n),i&&wt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()),Dt=kt._globalData,Pt=kt._serverConfigurationManager;function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function xt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ft(i.key),i)}}function Ft(e){var t=function(e,t){if("object"!=Rt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Rt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rt(t)?t:String(t)}var Lt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"isNELongPollEnabled",value:function(){return Pt.longPollEnabled&&Dt.isLongPollFeatureEnabled}},{key:"_getUserAccessToken",value:function(){var e=new Date,t=Math.round(e.getTime()/1e3),n=de.sendMessageToParent("GetUserProfile",!1);if(n){if(Dt.surface&&"DESKTOP"===Dt.surface.toUpperCase()&&n.AccessTokenValidTill&&t>n.AccessTokenValidTill){u.warn("NotificationHTTPRequestUtils: _getUserAccessToken: current time since epoc in second : ",t," access_token is expired was valid till : ",n.AccessTokenValidTill);try{pt.sendAnalyticsForAccessTokenExpiry(n.AccessTokenValidTill)}catch(e){u.warn("NotificationHTTPRequestUtils: _getUserAccessToken: error while sending analytics ",e)}return null}return n.AccessToken}return null}},{key:"_sanityCheck",value:function(e,t){return e?!!t||(u.warn("Access Token cannot be empty. "),!1):(u.warn("Application Identifier cannot be empty. "),!1)}},{key:"_createHTTPCommunicatorRequest",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s={},c={},l={requestHeaders:{},queryParams:{}},f=Dt.appID,d=e._getUserAccessToken();if(!e._sanityCheck(f,d))return u.warn("Input Request is not valid. Either AccessToken or AppID is not valid"),null;switch(c.scheme="https",a?Pt.defaultLongPollURIEnabled?c.hostname=Pt.serverBaseAdobeIOUrl:c.hostname=Pt.serverBaseUrl:c.hostname=Pt.serverBaseAdobeIOUrl,c.path=n,c.methodType=t,l.requestHeaders["x-adobe-app-id"]=f,Pt.serverBackFillUri,l.requestHeaders.Authorization="Bearer ".concat(d),l.requestHeaders["x-api-key"]=Dt.xApiKey,l.requestHeaders["Cache-Control"]="no-cache, no-store, must-revalidate",l.requestHeaders.Pragma="no-cache",l.requestHeaders.Expires="0",l.requestHeaders.Accept="application/json",t){case"GET":if(l.queryParams.page_size=Pt.pageSize.toString(),l.queryParams.config_version=Pt.configVersion,l.queryParams.locale=Dt.locale,l.queryParams.current_mc_time=(new Date).getTime().toString(),r&&(l.queryParams.to=r.toString()),o&&(l.queryParams.from=o.toString()),a){var p=Pt.longPollTimeout;l.timeoutInSec=p+20,st()?l.requestHeaders["x-long-poll-time-out"]=p.toString():l.requestHeaders["x-long-poll-time-out"]=p}break;case"POST":case"PUT":l.requestHeaders["Content-Type"]="application/json",l.content=i}return s.request=c,s.requestData=l,s}},{key:"createNotificationGetRequest",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return e._createHTTPCommunicatorRequest("GET",t,"",n,i,r,o)}},{key:"createNotificationPostRequest",value:function(t){return e._createHTTPCommunicatorRequest("POST",Pt.serverShortPollUri,t)}},{key:"createNotificationPutRequest",value:function(t){return e._createHTTPCommunicatorRequest("PUT",Pt.serverShortPollUri,t)}},{key:"_createNotificationCustomizedRequest",value:function(t,n,i,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s={},c={},l={requestHeaders:{},queryParams:{}},f=Dt.appID,d=e._getUserAccessToken();return e._sanityCheck(f,d)?(c.scheme="https",c.hostname=Pt.serverBaseAdobeIOUrl,c.path=o,c.methodType=n,l.requestHeaders["x-adobe-app-id"]=f,l.requestHeaders["x-api-key"]=Dt.xApiKey,l.requestHeaders[r]="Bearer ".concat(d),l.requestHeaders["Content-Type"]="application/json",l.requestHeaders.Accept="application/json",l.queryParams&&(l.queryParams=i),a&&(l.responseType=a),l.content=JSON.stringify(t),s.request=c,s.requestData=l,s):(u.warn("Input Request is not valid. Either AccessToken or AppID is not valid"),null)}},{key:"createNotificationBadgeClearRequest",value:function(t){return navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox")>0?e._createNotificationCustomizedRequest(t,"PUT",null,"Authorization",Pt.serverNotificationUnreadCountURI,"text"):e._createNotificationCustomizedRequest(t,"PUT",null,"Authorization",Pt.serverNotificationUnreadCountURI)}},{key:"createNotificationCriteriaBasedSearchRequest",value:function(t){return e._createNotificationCustomizedRequest(t,"POST",null,"Authorization",Pt.serverNotificationSearchURI)}},{key:"createDeviceRegistrationRequest",value:function(){var t={},n={},i={requestHeaders:{}};if(!Dt.machineDeviceToken&&"macos"===Dt.platform)return u.warn("Machine Device token is currently not available. Ignoring device registration request"),null;var r=Dt.appID,o=e._getUserAccessToken();if(!e._sanityCheck(r,o))return u.warn("Input Request is not valid. Either AccessToken or AppID is not valid"),null;n.scheme="https",n.hostname=Pt.serverBaseAdobeIOUrl,n.path=Pt.serverDeviceRegisterUnRegisterURI,n.path+=Dt.platform,n.methodType="POST",i.requestHeaders["x-adobe-app-id"]=r,i.requestHeaders["x-api-key"]=Dt.xApiKey,i.requestHeaders.Authorization="Bearer ".concat(o),i.requestHeaders["Content-Type"]="application/json",i.requestHeaders.Accept="application/json",Dt.pushDeviceID&&(i.requestHeaders["x-adobe-device-id"]=Dt.pushDeviceID);var a={};return a["device-os-version"]=Dt.osVersion,a.locale=Dt.deviceOSLocale,"windows"===Dt.platform?(a["windows-package-identity-name"]="AdobeNotificationClient",a["windows-channel-uri"]=Dt.context.ChannelURI):(a["macos-bundle-id"]=Dt.appBundleID,a["macos-device-token"]=Dt.machineDeviceToken),i.content=JSON.stringify(a),t.request=n,t.requestData=i,t}},{key:"createDeviceUnRegistrationRequest",value:function(){var t={},n={},i={requestHeaders:{}};if(!Dt.pushDeviceID)return u.warn("Push Device token is missing. Ignoring device un-registration request"),null;var r=Dt.appID,o=e._getUserAccessToken();return e._sanityCheck(r,o)?(n.scheme="https",n.hostname=Pt.serverBaseAdobeIOUrl,n.path=Pt.serverDeviceRegisterUnRegisterURI,n.path+=Dt.platform,n.methodType="DELETE",i.requestHeaders["x-adobe-app-id"]=Dt.appID,i.requestHeaders["x-api-key"]=Dt.xApiKey,i.requestHeaders.Authorization="Bearer ".concat(o),i.requestHeaders["x-adobe-device-id"]=Dt.pushDeviceID,t.request=n,t.requestData=i,t):(u.warn("Input Request is not valid. Either AccessToken or AppID is not valid"),null)}},{key:"createPreferencesGetRequest",value:function(t){u.info("NotificationHTTPRequestUtils : createPreferencesGetRequest content received ",t);var n={},i={},r={requestHeaders:{},queryParams:{}},o=Dt.appID,a=e._getUserAccessToken();if(!e._sanityCheck(o,a))return u.warn("NotificationHTTPRequestUtils : createPreferencesGetRequest input request is not valid. Either AccessToken or AppID is not valid"),null;i.scheme="https",i.hostname=Pt.serverBaseAdobeIOUrl,i.path=Pt.serverUserPreferencesURI,i.methodType="GET",r.requestHeaders["x-adobe-app-id"]=Dt.appID,r.requestHeaders["x-api-key"]=Dt.xApiKey,r.requestHeaders.Authorization="Bearer ".concat(a),r.requestHeaders["Content-Type"]="application/json",r.requestHeaders["Cache-Control"]="no-cache, no-store, must-revalidate",r.requestHeaders.Pragma="no-cache",r.requestHeaders.Expires="0",r.requestHeaders.Accept="application/json",r.queryParams.page_size=Pt.pageSize.toString(),r.queryParams.config_version=Pt.configVersion,r.queryParams.current_mc_time=(new Date).getTime().toString(),r.timeoutInSec=Dt.preferencesTimeOut;var s=t.categories.category;return s&&(r.queryParams.category=s.toString(),r.queryParams.locale=Dt.locale),n.request=i,n.requestData=r,n}},{key:"createPreferencesSetRequest",value:function(t){u.info("NotificationHTTPRequestUtils : createPreferencesSetRequest content received ",t);var n={},i={},r={requestHeaders:{}},o=Dt.appID,a=e._getUserAccessToken();if(!e._sanityCheck(o,a))return u.warn("NotificationHTTPRequestUtils : createPreferencesSetRequest input request is not valid. Either AccessToken or AppID is not valid"),null;i.scheme="https",i.hostname=Pt.serverBaseAdobeIOUrl,i.path=Pt.serverUserPreferencesURI,i.methodType="PUT",r.requestHeaders["x-adobe-app-id"]=Dt.appID,r.requestHeaders["x-api-key"]=Dt.xApiKey,r.requestHeaders.Authorization="Bearer ".concat(a),r.requestHeaders["Content-Type"]="application/json",r.requestHeaders["Cache-Control"]="no-cache, no-store, must-revalidate",r.requestHeaders.Pragma="no-cache",r.timeoutInSec=Dt.preferencesTimeOut;var s=t.preferences,c={categories:[]};for(var l in s){var f={};f.category=l,f[Fe.EnableForSurface]=Fe.PerSurface,f.surfaces=[{surface:t.surface,enabled:s[l]}],c.categories.push(f)}return r.content=JSON.stringify(c),n.request=i,n.requestData=r,n}},{key:"createTrackingServerRequest",value:function(t){var n={},i={},r={};r.requestHeaders=t.requestHeaders,r.timeoutInSec=Fe.TrackingSeverTimeout,t.queryParams&&(r.queryParams=t.queryParams);var o=Dt.appID,a=e._getUserAccessToken();return e._sanityCheck(o,a)?(i.scheme="https",i.hostname=t.baseUrl,i.path=t.apiEndPoint,i.methodType=t.methodType,t.body&&(r.content=JSON.stringify(t.body)),n.request=i,n.requestData=r,n):(u.warn("Input Request is not valid. Either AccessToken or AppID is not valid"),null)}},{key:"createOdinPayloadRequest",value:function(e){var t={},n={},i={};return i.requestHeaders=e.requestHeaders,i.timeoutInSec=Fe.TrackingSeverTimeout,e.queryParams&&(i.queryParams=e.queryParams),Dt.appID,n.scheme="https",n.hostname=e.baseUrl,n.path=e.apiEndPoint,n.methodType=e.methodType,e.body&&(i.content=JSON.stringify(e.body)),t.request=n,t.requestData=i,t.callback=e.callback,t}}],(n=null)&&xt(t.prototype,n),i&&xt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}function Mt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,jt(i.key),i)}}function jt(e){var t=function(e,t){if("object"!=Ut(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ut(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ut(t)?t:String(t)}var Wt=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"_getRetryMiliSeconds",value:function(e){var t=e.responseHeaders,n=t&&t["Retry-After"]?t["Retry-After"]:null;if(n){if(!Number.isNaN(n))return 1e3*parseInt(n,10);var i=new Date(n);if("Invalid Date"!==i){var r=i.getTime()-Date.now();if(r>0)return r}}return null}},{key:"retryRequest",value:function(e,t,n){var i=this._getRetryMiliSeconds(e);return!!i&&(u.debug("UNCEngine: retry network request after ".concat(i," milliseconds")),setTimeout((function(){t.SendRequest(n)}),i),!0)}}])&&Mt(t.prototype,n),i&&Mt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());function Ht(e){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}function qt(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var i=t.length;return Bt(t,void 0!==n&&n<i?n:i)}return e(t,n)}function Vt(e){return function(e){if(Array.isArray(e))return Bt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Gt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,zt(i.key),i)}}function zt(e){var t=function(e,t){if("object"!=Ht(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ht(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ht(t)?t:String(t)}var Kt=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.historicalNotificationList=void 0,this.pinnedHistoricalNotificationList=void 0,this.historicalNotificationSet=new Set,this.pinnedHistoricalNotificationSet=new Set}var t,n,i;return t=e,(n=[{key:"updateHistoricalNotifications",value:function(e){var t=this;void 0===this.historicalNotificationList&&(this.historicalNotificationList=[]),e.forEach((function(e){var n=e["notification-id"];t.historicalNotificationSet.has(n)||(t.historicalNotificationSet.add(n),t.historicalNotificationList.push(e))})),u.info("UNCEngine: Updating Historical Notification data.")}},{key:"updateHistoricalPinnedNotifications",value:function(e){var t=this;void 0===this.pinnedHistoricalNotificationList&&(this.pinnedHistoricalNotificationList=[]),e.forEach((function(e){var n=e["notification-id"];t.pinnedHistoricalNotificationSet.has(n)||(t.pinnedHistoricalNotificationSet.add(n),t.pinnedHistoricalNotificationList.push(e))})),u.info("UNCEngine: Updating Pinned Historical Notification data.")}},{key:"getNotificationsDataFromCache",value:function(e,t){var n={notifications:[]};return e===Fe.MESSAGE_HISTORICAL_NOTIFICATIONS?void 0===this.historicalNotificationList?(u.info("UNCEngine: Historical Notification List is undefined."),!1):(n.notifications=this.historicalNotificationList,n.isResponseFromCache=!0,de.sendMessageToApplet(e,n,t),u.info("UNCEngine: Historical Notification List is sent to Widget."),!0):e===Fe.MESSAGE_PINNED_HISTORICAL_NOTIFICATIONS&&(void 0===this.pinnedHistoricalNotificationList?(u.info("UNCEngine: Pinned Historical Notification List is undefined."),!1):(n.notifications=this.pinnedHistoricalNotificationList,n.isResponseFromCache=!0,de.sendMessageToApplet(e,n,t),u.info("UNCEngine: Pinned Historical Notification List is sent to Widget."),!0))}},{key:"updateNewNotifications",value:function(e){var t=this;void 0===this.historicalNotificationList&&(this.historicalNotificationList=[]),void 0===this.pinnedHistoricalNotificationList&&(this.pinnedHistoricalNotificationList=[]),JSON.parse(e).notifications.notification.forEach((function(e){var n=e["notification-id"];if(t.historicalNotificationSet.has(n)){for(var i=0;i<t.historicalNotificationList.length;i+=1)if(t.historicalNotificationList[i]["notification-id"]===n){t.historicalNotificationList[i]=e;break}u.info("UNCEngine: Notification status changed")}else t.historicalNotificationSet.add(n),t.historicalNotificationList=[e].concat(qt(Vt,t.historicalNotificationList)),u.info("UNCEngine: Live Notification updated.");if(t.pinnedHistoricalNotificationSet.has(n)){for(var r=0;r<t.pinnedHistoricalNotificationList.length;r+=1)if(t.pinnedHistoricalNotificationList[r]["notification-id"]===n){t.pinnedHistoricalNotificationList[r]=e;break}u.info("UNCEngine: Notification status changed")}else t.pinnedHistoricalNotificationSet.add(n),t.pinnedHistoricalNotificationList=[e].concat(qt(Vt,t.pinnedHistoricalNotificationList)),u.info("UNCEngine: Live Notification updated.")}))}}])&&Gt(t.prototype,n),i&&Gt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());function Yt(e){return Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yt(e)}function Xt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Jt(i.key),i)}}function Jt(e){var t=function(e,t){if("object"!=Yt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Yt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yt(t)?t:String(t)}var $t=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"_hasOSTray",value:function(e){if(!e)return!1;try{var t=JSON.parse(e);if(t&&"object"===Yt(t)&&void 0!==t.ostray)return!0}catch(e){return!1}return!1}},{key:"processNotifications",value:function(e){for(var t=[],n=[],i={},r=!0,o=e.notificationResponseList.length-1;o>=0;o-=1){var a=e.notificationResponseList[o];if(0===o&&(Object.prototype.hasOwnProperty.call(a,"unread-count")&&(i.value=parseInt(a["unread-count"],10),Dt.badgeCount=i.value,i.value+=Dt.localBadgeCount,at.showUnreadCount(i.value),de.sendMessageToApplet("UnReadNotificationsCount",i,"UNCWidget")),a["server-timestamp"])&&(Dt.serverTimestampOnLaunch||(Dt.serverTimestampOnLaunch=a["server-timestamp"],de.sendMessageToApplet("InitLongPoll",{},"UNCEngine")),de.broadcastServerTimestamp(a["server-timestamp"])),r&&Object.prototype.hasOwnProperty.call(a,Fe.ConfigurationKey)&&(r=!1,Pt.setConfigParams(a[Fe.ConfigurationKey],st())),!e.notify)break;if(a.notifications&&a.notifications.notification)for(var s=a.notifications.notification,c=s.length-1;c>=0;c-=1){var l=s[c];try{Nt.getInstance().sendAnalyticsForReceiptOfNotification(l)}catch(e){u.warn("UNCEngine: NotificationProcessor: processNotifications - Error while sending receipt analytics: ",e)}t.push(l),e.notify&&this._hasOSTray(l.payload)&&n.push(l)}else u.warn("UNCEngine: NotificationProcessor: processNotifications - Recieved invalid notification response. Ignore processing")}if(e.notify)de.notifyObservers(t),de.notifyObserversForClients(t),n.reverse(),de.sendTrayNotificationData(n);else if(e.targetID){var f={};f.notifications=e.notificationResponseList[0].notifications;var d=f.notifications;Dt.isCacheEnabled&&(e.namespace===Fe.MESSAGE_PINNED_HISTORICAL_NOTIFICATIONS?Kt.updateHistoricalPinnedNotifications(d):e.namespace===Fe.MESSAGE_HISTORICAL_NOTIFICATIONS&&Kt.updateHistoricalNotifications(d));for(var p=0;p<d.length;p+=1){var h=d[p];try{Nt.getInstance().sendAnalyticsForReceiptOfNotification(h)}catch(e){u.warn("UNCEngine: NotificationProcessor: processNotifications - Error while sending historical receipt analytics: ",e)}}de.sendMessageToApplet(e.namespace,f,e.targetID),u.debug("UNCEngine: Response received from Server.")}else if(e.callbackFn&&"function"==typeof e.callbackFn){var g={data:{notifications:e.notificationResponseList[0].notifications}};e.requestContext&&(g.requestContext=e.requestContext);try{e.callbackFn(g)}catch(e){u.error("UNCEngine: HostClientNotificationRequestManager: onResponse - Callback exception: ",e)}}st()&&de.sendMessageToApplet("UnReadNotificationsCount",i,"UNCWidget")}}])&&Xt(t.prototype,n),i&&Xt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());function Qt(e){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(e)}function Zt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,en(i.key),i)}}function en(e){var t=function(e,t){if("object"!=Qt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Qt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qt(t)?t:String(t)}var tn=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.timeoutFailureCount=0,this.clientFailureCount=0,this.serverFailureCount=0,this.internalNetworkFailureCount=0,this.failedState=!1}var t,n,i;return t=e,(n=[{key:"resetErrorTypeFailureCount",value:function(){this.timeoutFailureCount=0,this.clientFailureCount=0,this.serverFailureCount=0,this.internalNetworkFailureCount=0,this.failedState=!1}},{key:"_handleShortPollRequestFailure",value:function(e){if(!this.failedState){var t=0,n=0;switch(e){case"Timeout":this.timeoutFailureCount+=1,n=this.timeoutFailureCount,t=Fe.TimeOutErrorCountLimit;break;case"ClientFailure":this.clientFailureCount+=1,n=this.clientFailureCount,t=Fe.ClientErrorCountLimit;break;case"ServerFailure":this.serverFailureCount+=1,n=this.serverFailureCount,t=Fe.ServerErrorCountLimit;break;case"NetworkFailure":this.internalNetworkFailureCount+=1,n=this.internalNetworkFailureCount,t=Fe.InternalNetworkErrorCountLimit}n===t-1&&(u.warn("UNCEngine: NotificationRequestManagerErrorCountsHelper: _handleShortPollRequestFailure - ShortPoll failures of type:",e," has reached its failure count limit. Adding delay in successive ShortPolls(if failure persists)"),this.failedState=!0)}}},{key:"_handleFetchError",value:function(e){switch(e){case"Internal_Server_Error":case"Request_Not_Implemented":case"Bad_Gateway":case"Service_Unavailable":case"Gateway_Timeout":case"Server_Response_Error":this._handleShortPollRequestFailure("ServerFailure");break;case"Network_Failure":this._handleShortPollRequestFailure("NetworkFailure");break;case"Request_Timeout":this._handleShortPollRequestFailure("Timeout");break;default:this._handleShortPollRequestFailure("ClientFailure")}}}])&&Zt(t.prototype,n),i&&Zt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());function nn(e){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nn(e)}function rn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,on(i.key),i)}}function on(e){var t=function(e,t){if("object"!=nn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=nn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nn(t)?t:String(t)}var an=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,n=[{key:"_sanitizeGetNotificationRequest",value:function(e){if(!e||"object"!==nn(e))return u.debug("UNCEngine: NotificationRequestManagerInternal: _sanitizeGetNotificationRequest - Get Notification Request Data can't be empty"),!1;if(!e.namespace||"string"!=typeof e.namespace)return u.debug("UNCEngine: NotificationRequestManagerInternal: _sanitizeGetNotificationRequest - 'namespace' field can't be empty in ",this.type," Notification Request"),!1;if(e.timestamp&&"number"!=typeof e.timestamp&&(e.timestamp=parseInt(e.timestamp,10),isNaN(e.timestamp)))return u.debug("UNCEngine: NotificationRequestManagerInternal: _sanitizeGetNotificationRequest - 'timestamp' field Data Type must be 'number'"),!1;if(e.type&&"string"!=typeof e.type)return u.debug("UNCEngine: NotificationRequestManagerInternal: _sanitizeGetNotificationRequest - 'type' field Data Type must be 'string'"),!1;if(e.subtype&&"string"!=typeof e.subtype)return u.debug("UNCEngine: NotificationRequestManagerInternal: _sanitizeGetNotificationRequest - 'subtype' field Data Type must be 'string'"),!1;if(e.pinned&&"boolean"!=typeof e.pinned){var t=e.pinned.toString();if("true"===t.toLowerCase())e.pinned=!0;else{if("false"!==t.toLowerCase())return u.debug("UNCEngine: NotificationRequestManagerInternal: _sanitizeGetNotificationRequest - 'pinned' field Data Type must be 'boolean'"),!1;e.pinned=!1}}return!e.requestContext||"string"==typeof e.requestContext||(u.debug("UNCEngine: NotificationRequestManagerInternal: _sanitizeGetNotificationRequest - 'requestContext' field Data Type must be 'string'"),!1)}},{key:"_sanitizePostOrUpdateNotificationRequest",value:function(e){return e&&"object"===nn(e)?e.content&&"string"==typeof e.content?e.target&&"string"!=typeof e.target?(u.debug("UNCEngine: NotificationRequestManagerInternal: _sanitizePostOrUpdateNotificationRequest - 'target' field Data Type must be 'string'"),!1):e.additionalInfo&&e.additionalInfo.requestContext&&"string"!=typeof e.additionalInfo.requestContext?(u.debug("UNCEngine: NotificationRequestManagerInternal: _sanitizePostOrUpdateNotificationRequest - 'additionalInfo.requestContext' field Data Type must be 'string'"),!1):!e.additionalInfo||!e.additionalInfo.namespace||"string"==typeof e.additionalInfo.namespace||(u.debug("UNCEngine: NotificationRequestManagerInternal: _sanitizePostOrUpdateNotificationRequest - 'additionalInfo.namespace' field Data Type must be 'string'"),!1):(u.warn("UNCEngine: NotificationRequestManagerInternal: _sanitizePostOrUpdateNotificationRequest - 'content' field can't be empty in ",this.type," Notification request"),!1):(u.debug("UNCEngine: NotificationRequestManagerInternal: _sanitizePostOrUpdateNotificationRequest - Post Notification Request Data can't be empty"),!1)}},{key:"_sendRequestToServer",value:function(e){return e.request.responseCallback=this.onResponse.bind(this),e.request.errorCallback=this.onError.bind(this),this.httpRequest=e,this._currentCommunicationHandler=new ne(e.request),!!this._currentCommunicationHandler&&(this._currentCommunicationHandler.SendRequest(e.requestData),!0)}},{key:"_sendPostOrUpdateRequestToServer",value:function(e){if(!this._sanitizePostOrUpdateNotificationRequest(e))return!1;var t=!e.target||"server"===e.target,n=[],i=JSON.parse(e.content);if(!i||!i.notifications||!i.notifications.notification)return u.warn("UNCEngine: NotificationRequestManagerInternal: _sendPostOrUpdateRequestToServer - Invalid content in request. Ignore processing."),!1;for(var r=i.notifications.notification,o=0;o<r.length;o+=1)n.push(r[o]);if(0===n.length)return u.warn("UNCEngine: NotificationRequestManagerInternal: _sendPostOrUpdateRequestToServer - No notifications found to update"),!1;if(t){e.additionalInfo&&(this.requestContext=e.additionalInfo.requestContext,this.namespace=e.additionalInfo.namespace);var a={};return!!(a="POST"===this.type?Lt.createNotificationPostRequest(e.content):Lt.createNotificationPutRequest(e.content))&&this._sendRequestToServer(a)}return de.notifyObservers(n),!0}},{key:"_addNotificationSearchQueryCriteria",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"EQ",r={};r.field=t,r.value=n,r.operator=i,e.push(r)}},{key:"_createNotificationGetRequest",value:function(e){if(e.criteria)return Lt.createNotificationCriteriaBasedSearchRequest(e.criteria);if(e.type||e.subtype||e.pinned||e.state){var t={AND:[]};e.type&&this._addNotificationSearchQueryCriteria(t.AND,"type",e.type),e.subtype&&this._addNotificationSearchQueryCriteria(t.AND,"sub-type",e.subtype),e.pinned&&this._addNotificationSearchQueryCriteria(t.AND,"metadata.pinned",e.pinned),e.state&&this._addNotificationSearchQueryCriteria(t.AND,"state",e.state),e.timestamp&&this._addNotificationSearchQueryCriteria(t.AND,"sort-timestamp",e.timestamp,"LE");var n={};return n.limit=Pt.pageSize.toString(),n.locale=Dt.locale,n.criteria=t,Lt.createNotificationCriteriaBasedSearchRequest(n)}return Lt.createNotificationGetRequest(Pt.serverBackFillUri,e.timestamp)}},{key:"getNotifications",value:function(e){if(!this._sanitizeGetNotificationRequest(e.data))return!1;this.type="GET",this.sourceID=e.sourceID;var t=e.data;if(this.namespace=t.namespace,this.requestContext=t.requestContext,this.shouldRetryRequest=e.shouldRetryRequest||!1,this.workflow=e.data.workflow,Dt.isCacheEnabled&&this.workflow===Fe.INIT&&Kt.getNotificationsDataFromCache(this.namespace,this.sourceID))return u.debug("'UNCEngine: Response received from Cache."),!0;var n=this._createNotificationGetRequest(t);return!!n&&this._sendRequestToServer(n)}},{key:"postNotifications",value:function(e){return this.type="POST",this.sourceID=e.sourceID,this.postAnalyticsCallbackFn=e.postAnalyticsCallbackFn,this.shouldRetryRequest=e.shouldRetryRequest||!1,this._sendPostOrUpdateRequestToServer(e.data)}},{key:"updateNotifications",value:function(e){return this.type="PUT",this.sourceID=e.sourceID,this.shouldRetryRequest=e.shouldRetryRequest||!1,this._sendPostOrUpdateRequestToServer(e.data)}},{key:"clearBadge",value:function(e){this.type="ClearBadge";var t=Lt.createNotificationBadgeClearRequest(e.data);return!!t&&this._sendRequestToServer(t)}},{key:"getTrackingData",value:function(e){this.type="GET";var t=Lt.createTrackingServerRequest(e.data);return!!t&&this._sendRequestToServer(t)}},{key:"upsertTrackingData",value:function(e){u.info("UNCEngine:Inside NotificationRequestManagerInternal updateTrackingData"),this.type="PUT";var t=Lt.createTrackingServerRequest(e.data);return!!t&&this._sendRequestToServer(t)}},{key:"fetchOdinPayload",value:function(e){this.type="FetchLocalNotificationPayload",this.callback=e.data.callback;var t=Lt.createOdinPayloadRequest(e.data);return!!t&&this._sendRequestToServer(t)}},{key:"cancelRequest",value:function(){this._currentCommunicationHandler&&this._currentCommunicationHandler.CancelRequest()}},{key:"onResponse",value:function(e){switch(u.debug("UNCEngine: NotificationRequestManagerInternal: onResponse - response:->",e),this.type){case"GET":var t={notificationResponseList:[]};t.notificationResponseList.push(JSON.parse(e)),t.notify=!1,t.namespace=this.namespace,t.targetID=this.sourceID,st()?$t.processNotifications(t):setTimeout($t.processNotifications,0,t),tn.resetErrorTypeFailureCount();break;case"POST":case"PUT":var n={};try{n.content=JSON.parse(e)}catch(e){u.error("UNCEngine: NotificationRequestManagerInternal: onResponse - JSON parsing failed",e),n.content={}}n.requestContext=this.requestContext;var i="";if(n.content.notifications&&n.content.notifications.notification&&n.content.notifications.notification[0]&&(i=n.content.notifications.notification[0]["notification-id"]),this.postAnalyticsCallbackFn&&this.postAnalyticsCallbackFn(!0,i),!this.namespace)break;de.sendMessageToApplet(this.namespace,n,this.sourceID),u.debug(n);break;case"ClearBadge":u.debug("UNCEngine: NotificationRequestManagerInternal: onResponse - Successfully cleared notifications Un-Read count");break;case"FetchLocalNotificationPayload":u.debug("UNCEngine: NotificationRequestManagerInternal: onResponse - FetchPayload"),this.callback(e)}}},{key:"_sendFetchRequestErrorResponse",value:function(e){de.sendMessageToApplet(this.namespace,e,this.sourceID)}},{key:"onError",value:function(e){if(u.debug("Error :-",e),"Too_Many_Requests"!==e.errorCode||!this.shouldRetryRequest||!Wt.retryRequest(e,this._currentCommunicationHandler,this.httpRequest.requestData)){switch(this.type){case"GET":var t=0;t=tn.failedState?1e3*Pt.pollingInterval:0,tn._handleFetchError(e.errorCode),setTimeout(this._sendFetchRequestErrorResponse.bind(this,e),t);break;case"POST":case"PUT":if(this.postAnalyticsCallbackFn&&this.postAnalyticsCallbackFn(!1,e.errorCode),!this.namespace)break;de.sendMessageToApplet(this.namespace,e,this.sourceID);break;case"ClearBadge":u.debug("UNCEngine: NotificationRequestManagerInternal: onError - Error Occured: ",e.errorCode," on clearing notifications unread count")}"Unauthorized"!==e.errorCode&&"InvalidRequest"!==e.errorCode||de.sendMessageToApplet("RefreshUserProfile",{},"UNCEngine")}}}],n&&rn(t.prototype,n),i&&rn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function sn(e){return sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sn(e)}function cn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ln(i.key),i)}}function ln(e){var t=function(e,t){if("object"!=sn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=sn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sn(t)?t:String(t)}var un=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,n=[{key:"_sanitizeGetNotificationRequest",value:function(e){if(!e||"object"!==sn(e))return u.debug("UNCEngine: HostClientNotificationRequestManager: _sanitizeGetNotificationRequest - Get Notification Request Data can't be empty"),!1;if(!e.callbackFn||"function"!=typeof e.callbackFn)return u.debug("UNCEngine: HostClientNotificationRequestManager: _sanitizeGetNotificationRequest - 'callbackFn' field can't be empty in ",this.type," Notification Request"),!1;if(e.timestamp&&"number"!=typeof e.timestamp&&(e.timestamp=parseInt(e.timestamp,10),isNaN(e.timestamp)))return u.debug("UNCEngine: HostClientNotificationRequestManager: _sanitizeGetNotificationRequest - 'timestamp' field Data Type must be 'number'"),!1;if(e.typeSubtypesList&&!Array.isArray(e.typeSubtypesList))return!1;if(e.pinned&&"boolean"!=typeof e.pinned){var t=e.pinned.toString();if("true"===t.toLowerCase())e.pinned=!0;else{if("false"!==t.toLowerCase())return u.debug("UNCEngine: HostClientNotificationRequestManager: _sanitizeGetNotificationRequest - 'pinned' field Data Type must be 'boolean'"),!1;e.pinned=!1}}return!0}},{key:"_sanitizePostOrUpdateNotificationRequest",value:function(e){return e&&"object"===sn(e)?e.content&&"string"==typeof e.content?e.target&&"string"!=typeof e.target?(u.debug("UNCEngine: HostClientNotificationRequestManager: _sanitizePostOrUpdateNotificationRequest - 'target' field Data Type must be 'string'"),!1):!e.callbackFn||"function"==typeof e.callbackFn||(u.debug("UNCEngine: HostClientNotificationRequestManager: _sanitizePostOrUpdateNotificationRequest - 'callbackFn' field Data Type must be 'function'"),!1):(u.warn("UNCEngine: HostClientNotificationRequestManager: _sanitizePostOrUpdateNotificationRequest - 'content' field can't be empty in ",this.type," Notification request"),!1):(u.debug("UNCEngine: HostClientNotificationRequestManager: _sanitizePostOrUpdateNotificationRequest - Post Notification Request Data can't be empty"),!1)}},{key:"_sendRequestToServer",value:function(e){return e.request.responseCallback=this.onResponse.bind(this),e.request.errorCallback=this.onError.bind(this),this.httpRequest=e,this._currentCommunicationHandler=new ne(e.request),!!this._currentCommunicationHandler&&(this._currentCommunicationHandler.SendRequest(e.requestData),!0)}},{key:"_sendPostOrUpdateRequestToServer",value:function(e){if(!this._sanitizePostOrUpdateNotificationRequest(e))return!1;var t=!e.target||"server"===e.target,n=[],i=JSON.parse(e.content);if(!i||!i.notifications||!i.notifications.notification)return u.warn("UNCEngine: HostClientNotificationRequestManager: _sendPostOrUpdateRequestToServer - Invalid content in request. Ignore processing."),!1;for(var r=i.notifications.notification,o=0;o<r.length;o+=1)n.push(r[o]);if(0===n.length)return u.warn("UNCEngine: HostClientNotificationRequestManager: _sendPostOrUpdateRequestToServer - No notifications found in the request."),!1;if(t){e.callbackFn&&(this.callbackFn=e.callbackFn),e.requestContext&&(this.requestContext=e.requestContext);var a={};return!!(a="POST"===this.type?Lt.createNotificationPostRequest(e.content):Lt.createNotificationPutRequest(e.content))&&this._sendRequestToServer(a)}return de.notifyObservers(n),!0}},{key:"_addNotificationSearchQueryCriteria",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"EQ",r={};r.field=t,r.value=n,r.operator=i,e.push(r)}},{key:"_getCriterionObjectBasedOnRequestData",value:function(e){for(var t={},n=e.typeSubtypesList,i={OR:[]},r=0;r<n.length;r+=1){var o={AND:[]},a=n[r];o.AND.push({field:"type",value:a.type,operator:"EQ"}),o.AND.push({field:"sub-type",value:a.subtype,operator:"EQ"}),i.OR.push(o)}var s={AND:[]};if(s.AND.push(i),s.AND.push({field:"state",value:"EXPIRED",operator:"NE"}),e.timestamp>0){var c={AND:[]};c.AND.push(s);var l={field:"sort-timestamp",value:e.timestamp,operator:"LT"};c.AND.push(l),t=c}else t=s;return t}},{key:"_createNotificationGetRequest",value:function(e){if(e.criteria)return Lt.createNotificationCriteriaBasedSearchRequest(e.criteria);if(e.typeSubtypesList&&Array.isArray(e.typeSubtypesList)){var t=this._getCriterionObjectBasedOnRequestData(e),n={};return n.locale=Dt.locale,n.criteria=t,Lt.createNotificationCriteriaBasedSearchRequest(n)}return Lt.createNotificationGetRequest(Pt.serverBackFillUri,e.timestamp)}},{key:"getNotifications",value:function(e){if(!this._sanitizeGetNotificationRequest(e.data))return!1;this.type="GET";var t=e.data;this.callbackFn=t.callbackFn,this.requestContext=t.requestContext,this.shouldRetryRequest=e.shouldRetryRequest||!1;var n=this._createNotificationGetRequest(t);return!!n&&this._sendRequestToServer(n)}},{key:"postNotifications",value:function(e){return this.type="POST",this.shouldRetryRequest=e.shouldRetryRequest||!1,this._sendPostOrUpdateRequestToServer(e.data)}},{key:"updateNotifications",value:function(e){return this.type="PUT",this.shouldRetryRequest=e.shouldRetryRequest||!1,this._sendPostOrUpdateRequestToServer(e.data)}},{key:"clearBadge",value:function(e){this.type="ClearBadge";var t=Lt.createNotificationBadgeClearRequest(e.data);return!!t&&this._sendRequestToServer(t)}},{key:"cancelRequest",value:function(){this._currentCommunicationHandler&&this._currentCommunicationHandler.CancelRequest()}},{key:"onResponse",value:function(e){switch(u.debug("UNCEngine: HostClientNotificationRequestManager: onResponse - response:->",e),this.type){case"GET":var t={notificationResponseList:[]};t.notificationResponseList.push(JSON.parse(e)),t.notify=!1,t.requestContext=this.requestContext,t.callbackFn=this.callbackFn,setTimeout($t.processNotifications,0,t),tn.resetErrorTypeFailureCount();break;case"POST":case"PUT":if(!this.callbackFn)break;var n={};n.data=JSON.parse(e),this.requestContext&&(n.requestContext=this.requestContext);try{this.callbackFn&&"function"==typeof this.callbackFn&&this.callbackFn(n)}catch(e){u.error("UNCEngine: HostClientNotificationRequestManager: onResponse - Callback exception: ",e)}u.debug(n);break;case"ClearBadge":u.debug("UNCEngine: HostClientNotificationRequestManager: onResponse - Successfully cleared notifications Un-Read count")}}},{key:"_sendFetchRequestErrorResponse",value:function(e){if(this.callbackFn){var t={};t.data=e,this.requestContext&&(t.requestContext=this.requestContext);try{this.callbackFn&&"function"==typeof this.callbackFn&&this.callbackFn(t)}catch(e){u.error("UNCEngine: HostClientNotificationRequestManager: onResponse - Callback exception: ",e)}}}},{key:"onError",value:function(e){if(u.debug("Error :-",e),"Too_Many_Requests"!==e.errorCode||!this.shouldRetryRequest||!Wt.retryRequest(e,this._currentCommunicationHandler,this.httpRequest.requestData)){switch(this.type){case"GET":var t=0;t=tn.failedState?1e3*Pt.pollingInterval:0,tn._handleFetchError(e.errorCode),setTimeout(this._sendFetchRequestErrorResponse.bind(this,e),t);break;case"POST":case"PUT":if(!this.callbackFn)break;var n={};n.data=e,this.requestContext&&(n.requestContext=this.requestContext);try{this.callbackFn&&"function"==typeof this.callbackFn&&this.callbackFn(n)}catch(e){u.error("UNCEngine: HostClientNotificationRequestManager: onResponse - Callback exception: ",e)}break;case"ClearBadge":u.debug("UNCEngine: HostClientNotificationRequestManager: onError - Error Occured: ",e.errorCode," on clearing notifications unread count")}"Unauthorized"!==e.errorCode&&"InvalidRequest"!==e.errorCode||de.sendMessageToApplet("RefreshUserProfile",{},"UNCEngine")}}},{key:"finalize",value:function(){cancelRequest(),delete this._currentCommunicationHandler}}],n&&cn(t.prototype,n),i&&cn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function fn(e){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(e)}function dn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,pn(i.key),i)}}function pn(e){var t=function(e,t){if("object"!=fn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=fn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fn(t)?t:String(t)}var hn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"getNotifications",value:function(e){var t=!0;return e&&e.data?e.data.callbackFn&&"function"==typeof e.data.callbackFn?(this.currentRequestHandler=new un,t=this.currentRequestHandler.getNotifications(e)):(this.currentRequestHandler=new an,t=this.currentRequestHandler.getNotifications(e)):t=!1,t}},{key:"postNotifications",value:function(e){var t=!0;return e&&e.data?e.data.callbackFn&&"function"==typeof e.data.callbackFn?(this.currentRequestHandler=new un,t=this.currentRequestHandler.postNotifications(e)):(e.postAnalyticsCallbackFn=function(t,n){var i,r,o=JSON.parse(null==e||null===(i=e.data)||void 0===i?void 0:i.content),a=null==o||null===(r=o.notifications)||void 0===r?void 0:r.notification[0],s=null==a?void 0:a.type,c=a["sub-type"],l="".concat(s,":").concat(c);Nt.getInstance().sendAnalyticsForPostNotifications(t,n,"ANS",l)},this.currentRequestHandler=new an,t=this.currentRequestHandler.postNotifications(e)):t=!1,t}},{key:"updateNotifications",value:function(e){var t=!0;return e&&e.data?e.data.callbackFn&&"function"==typeof e.data.callbackFn?(this.currentRequestHandler=new un,t=this.currentRequestHandler.updateNotifications(e)):(this.currentRequestHandler=new an,t=this.currentRequestHandler.updateNotifications(e)):t=!1,t}},{key:"clearBadge",value:function(e){var t=!0;return e&&e.data?e.data.callbackFn&&"function"==typeof e.data.callbackFn?(this.currentRequestHandler=new un,t=this.currentRequestHandler.clearBadge(e)):(this.currentRequestHandler=new an,t=this.currentRequestHandler.clearBadge(e)):t=!1,t}},{key:"cancelRequest",value:function(){this.currentRequestHandler&&this.currentRequestHandler.cancelRequest()}},{key:"finalize",value:function(){this.cancelRequest(),delete this.currentRequestHandler}}])&&dn(t.prototype,n),i&&dn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function gn(e){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(e)}function mn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,vn(i.key),i)}}function vn(e){var t=function(e,t){if("object"!=gn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=gn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gn(t)?t:String(t)}var yn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errorCallback=t.errorCallback}var t,n,i;return t=e,(n=[{key:"fetchNotificationsFromServer",value:function(){this.errorCallback("NotSupported")}}])&&mn(t.prototype,n),i&&mn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function bn(e){return bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bn(e)}function _n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Cn(i.key),i)}}function Cn(e){var t=function(e,t){if("object"!=bn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=bn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bn(t)?t:String(t)}var En=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"sendAnalytics",value:function(e,t,n){if(e){var i={eventParamData:{eventParam:[]}};i.eventCode=e,i.eventSubCode=n,i.eventParamData.eventParam=t,de.sendMessageToApplet("SendAnalyticsFromJS",i,Fe.CONTAINER_BL)}else u.info("NotificationUtils: sendAnalytics - EventCode cannot be empty()")}}])&&_n(t.prototype,n),i&&_n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());function Sn(e){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sn(e)}function Nn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,On(i.key),i)}}function On(e){var t=function(e,t){if("object"!=Sn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Sn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sn(t)?t:String(t)}var Tn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.futureNotificationsData=t.futureNotificationsData,this.currentFutureRequestTimestamp=this.futureNotificationsData.nextFutureRequestTimestamp,this.responseCallback=t.responseCallback,this.getFutureNotificationsData=!0,this.continueFetch=!1,this.fetchingNotifications=!1,this.errorCallback=t.errorCallback,this.notificationResponseList=[],this.pollingFailureFlag=!1,this.requestFailureTypeAndCount={},this._initializeErrorTypeFailureCount()}var t,n,i;return t=e,n=[{key:"_handleDeviceRegistrationResponse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("macos"===Dt.platform){var t,n=[];if(e.error){if(t=Fe.SwitchedToLongPollEvent,e.error.statusCode){var i={};i[Fe.DevicePushFailureErrorCode]=e.error.statusCode.toString(),n.push(i)}if(e.error.errorCode){var r={};r[Fe.DevicePushFailureReason]=e.error.errorCode,n.push(r)}delete e.error}else t=Fe.DevicePushSet;En.sendAnalytics(t,n)}if("windows"===Dt.platform){var o,a=[],s=Fe.SwitchedToLongPollEventWin;if(e.error){o=Fe.DevicePushDisabledWin;var c={};if(c[Fe.DevicePushFailureReasonWin]="ERROR_FROM_ANS",a.push(c),e.error.statusCode){var l={};l[Fe.DevicePushFailureErrorCode]=e.error.statusCode.toString(),a.push(l)}if(e.error.errorCode){var u={};u[Fe.DevicePushFailureReason]=e.error.errorCode,a.push(u)}delete e.error}else o=Fe.DevicePushEnabledWin;En.sendAnalytics(s,a,o)}de.sendMessageToApplet("DeviceRegistered",e,Fe.CONTAINER_BL)}},{key:"registerDevice",value:function(){if(!Dt.isDevicePushEnabled)return u.warn("UNCEngine: DevicePushCommunicationHandler: registerDevice - DevicePush is currently disabled. Ignoring request"),Dt.pushDeviceID&&(u.warn("UNCEngine: DevicePushCommunicationHandler: registerDevice - Unregistering the device from server"),this.unRegisterDevice()),de.sendMessageToApplet("SendDevicePushDisabledAnalytics",{},"UNCEngine"),de.sendMessageToApplet("DeviceRegistered",{},Fe.CONTAINER_BL),this.errorCallback("NotSupported");var e={};if(!(e=Lt.createDeviceRegistrationRequest())){if(!Dt.machineDeviceToken){var t={error:{}};return t.error.errorCode=Fe.DeviceTokenNotAvailable,u.warn("UNCEngine: DevicePushCommunicationHandler: registerDevice - Unable to create httpRequest. Machine Device Token is not available"),this._handleDeviceRegistrationResponse(t),this.errorCallback("NotSupported")}return u.warn("UNCEngine: DevicePushCommunicationHandler: registerDevice - Unable to create httpRequest. AccessToken is not valid"),this.errorCallback("InvalidRequest")}e.request.responseCallback=function(e){var t=JSON.parse(e);Dt.pushDeviceID=t["device-id"],this._handleDeviceRegistrationResponse(t)}.bind(this),e.request.errorCallback=function(e){var t={};t.error=e,this._handleDeviceRegistrationResponse(t),u.error("UNCEngine: DevicePushCommunicationHandler: registerDevice - Error Occured in Device Registration ",e),this.errorCallback("NotSupported")}.bind(this),new ne(e.request).SendRequest(e.requestData)}},{key:"unRegisterDevice",value:function(){var e={};if(!(e=Lt.createDeviceUnRegistrationRequest()))return u.warn("UNCEngine: DevicePushCommunicationHandler: unRegisterDevice - Unable to create httpRequest. Either AccessToken or AppID is not valid"),this.onError({errorCode:"InvalidRequest"});e.request.responseCallback=function(){u.info("UNCEngine: DevicePushCommunicationHandler: unRegisterDevice - Device is successfuly un-registered")},e.request.errorCallback=function(e){u.error("UNCEngine: DevicePushCommunicationHandler: unRegisterDevice - Error Occured in Device UnRegistration ",e),this.errorCallback("NotSupported")}.bind(this),new ne(e.request).SendRequest(e.requestData),de.sendMessageToApplet("DeviceUnRegistered",{},Fe.CONTAINER_BL),delete Dt.pushDeviceID}},{key:"_handlePollingRequestFailure",value:function(e){if(!this.pollingFailureFlag){var t=0,n=0;switch(e){case"Timeout":this.requestFailureTypeAndCount.timeoutFailureCount+=1,n=this.requestFailureTypeAndCount.timeoutFailureCount,t=Fe.TimeOutErrorCountLimit;break;case"ClientFailure":this.requestFailureTypeAndCount.clientFailureCount+=1,n=this.requestFailureTypeAndCount.clientFailureCount,t=Fe.ClientErrorCountLimit;break;case"ServerFailure":this.requestFailureTypeAndCount.serverFailureCount+=1,n=this.requestFailureTypeAndCount.serverFailureCount,t=Fe.ServerErrorCountLimit;break;case"NetworkFailure":this.requestFailureTypeAndCount.internalNetworkFailureCount+=1,n=this.requestFailureTypeAndCount.internalNetworkFailureCount,t=Fe.InternalNetworkErrorCountLimit}n===t&&(u.warn("UNCEngine: DevicePushCommunicationHandler: _handlePollingRequestFailure - Polling failures of type:",e," has reached its failure count limit. Adding delay in successive Polls(if failure persisits)"),this.pollingFailureFlag=!0,this._initializeErrorTypeFailureCount())}}},{key:"_fetchNotificationsFromServerHelper",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={},i=Pt.serverShortPollUri;if(!(n=e||t?Lt.createNotificationGetRequest(i,t,e):Lt.createNotificationGetRequest(i,"",this.futureNotificationsData.nextFutureRequestTimestamp.toString())))return u.warn("UNCEngine: DevicePushCommunicationHandler: fetchNotificationsFromServer - Unable to create httpRequest. Either AccessToken or AppID is not valid"),this.onError({errorCode:"InvalidRequest"});n.request.responseCallback=this.onResponse.bind(this),n.request.errorCallback=this.onError.bind(this),new ne(n.request).SendRequest(n.requestData)}},{key:"_getCurrentUserID",value:function(){var e=de.sendMessageToParent("GetUserProfile",!1);return e?e.UserID:null}},{key:"_isFetchNotificationRequestValid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._getCurrentUserID();return e["ans-target-id"]&&e["ans-target-id"]!==t?(u.warn("UNCEngine: DevicePushCommunicationHandler: _isFetchNotificationRequestValid - Current UserID: ",t,"does not match with: ",e["ans-target-id"]),!1):!e["ans-device-id"]||e["ans-device-id"]===Dt.pushDeviceID||(u.warn("UNCEngine: DevicePushCommunicationHandler: _isFetchNotificationRequestValid - Current DeviceID: ",Dt.pushDeviceID,"does not match with: ",e["ans-device-id"]),!1)}},{key:"fetchNotificationsFromServer",value:function(e){Dt.pushDeviceID?this._isFetchNotificationRequestValid(e)&&(this.pollingFailureFlag?u.warn("UNCEngine: DevicePushCommunicationHandler: fetchNotificationsFromServer - In an error condition. Ignoring Request"):this.fetchingNotifications?this.continueFetch=!0:(this.fetchingNotifications=!0,this._fetchNotificationsFromServerHelper())):u.warn("UNCEngine: DevicePushCommunicationHandler: fetchNotificationsFromServer - Device is not yet registered with Server. Ignoring Request")}},{key:"_sanitizeFutureTimestamp",value:function(e){e&&this.futureNotificationsData.nextFutureRequestTimestamp-e>0&&(u.debug("UNCEngine: DevicePushCommunicationHandler: _sanitizeFutureTimestamp - Next Future timestamp value doesn't seem correct. Setting it to current servertimestamp value"),this.futureNotificationsData.nextFutureRequestTimestamp=e)}},{key:"_initializeErrorTypeFailureCount",value:function(){this.requestFailureTypeAndCount.timeoutFailureCount=0,this.requestFailureTypeAndCount.clientFailureCount=0,this.requestFailureTypeAndCount.serverFailureCount=0,this.requestFailureTypeAndCount.internalNetworkFailureCount=0}},{key:"_resetPollingFailure",value:function(){this.pollingFailureFlag=!1,this._initializeErrorTypeFailureCount()}},{key:"_triggerNotificationFetchOperation",value:function(){var e=0;e=this.pollingFailureFlag?1e3*Pt.pollingInterval:Fe.OneSecond,setTimeout(this._fetchNotificationsFromServerHelper.bind(this),e)}},{key:"onResponse",value:function(e){u.debug("UNCEngine: DevicePushCommunicationHandler: onResponse - Notification:-> ",e);var t=JSON.parse(e),n=t.notifications.notification;this.notificationResponseList.push(t),this.getFutureNotificationsData&&(this.currentFutureRequestTimestamp=this.futureNotificationsData.nextFutureRequestTimestamp,this.futureNotificationsData.nextFutureRequestTimestamp=n.length>0?parseInt(n[0].timestamp,10)+1:this.currentFutureRequestTimestamp,this._sanitizeFutureTimestamp(parseInt(t["server-timestamp"],10)));var i=Pt.pageSize;if(n.length===i){this.getFutureNotificationsData=!1;var r=parseInt(n[i-1].timestamp,10);this._fetchNotificationsFromServerHelper(this.currentFutureRequestTimestamp.toString(),(r-1).toString())}else this.responseCallback(this.notificationResponseList),this.notificationResponseList.length=0,this.getFutureNotificationsData=!0,this.fetchingNotifications=!1,this._resetPollingFailure(),this.continueFetch&&(this.continueFetch=!1,this._triggerNotificationFetchOperation())}},{key:"onError",value:function(e){this.notificationResponseList.length=0,this.getFutureNotificationsData=!0,this.fetchingNotifications=!1;var t=!0;switch(e.errorCode){case"Unauthorized":case"UnSupported_Browser":case"Insufficient_Memory":case"UnSupported_Url_Scheme":case"UnSupported_Method_Type":case"Url_Hostname_Missing":case"Method_Type_Missing":case"InvalidRequest":this.errorCallback(e.errorCode),t=!1;break;case"Internal_Server_Error":case"Request_Not_Implemented":case"Bad_Gateway":case"Service_Unavailable":case"Gateway_Timeout":case"Server_Response_Error":this._handlePollingRequestFailure("ServerFailure");break;case"Network_Failure":this._handlePollingRequestFailure("NetworkFailure");break;case"Request_Timeout":this._handlePollingRequestFailure("Timeout");break;default:this._handlePollingRequestFailure("ClientFailure")}t&&this._triggerNotificationFetchOperation()}},{key:"cancelRequest",value:function(){this.unRegisterDevice()}}],n&&Nn(t.prototype,n),i&&Nn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function In(e){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(e)}function wn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,An(i.key),i)}}function An(e){var t=function(e,t){if("object"!=In(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=In(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==In(t)?t:String(t)}var kn=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.forceFetchNotificationsFromServer=function(){u.debug("UNCEngine: PollCommunicationHandler: forceFetchNotificationsFromServer: Reached"),n.isFetchingNotifications?u.debug("UNCEngine: PollCommunicationHandler: forceFetchNotificationsFromServer: Already fetching notifications ignoring"):n.timeoutFn&&(clearTimeout(n.timeoutFn),n.timeoutFn=null,u.debug("PollCommunicationHandler: forceFetchNotificationsFromServer: triggering to fetch notifications from server forcefully"),n.fetchNotificationsFromServer())},this.futureNotificationsData=t.futureNotificationsData,this.currentFutureRequestTimestamp=this.futureNotificationsData.nextFutureRequestTimestamp,this.responseCallback=t.responseCallback,this.getFutureNotificationsData=!0,this.errorCallback=t.errorCallback,this.notificationResponseList=[],this.longPollFailureFlag=!1,this.requestFailureTypeAndCount={},this.currentNetworkCommunicatorObj=null,this._initializeErrorTypeFailureCount(),this.isFetchingNotifications=!1,this.timeoutFn=null,this.handleVisibilityChange=this.handleVisibilityChange.bind(this),Dt.focusoutLongPollTerminationSurfaces.find((function(e){return e===Dt.appID}))&&document.addEventListener("visibilitychange",this.handleVisibilityChange,!0)}var t,n,i;return t=e,n=[{key:"handleVisibilityChange",value:function(){"hidden"===document.visibilityState?(u.log("UNCEngine: PollCommunicationHandler: fetchNotificationsFromServer - focus: tab hidden: terminating connection"),this.cancelRequest()):(u.log("UNCEngine: PollCommunicationHandler: fetchNotificationsFromServer - focus: tab visible: resuming connection"),this.fetchNotificationsFromServer())}},{key:"_handleLongPollRequestFailure",value:function(e){if(!this.longPollFailureFlag){var t=0,n=0;switch(e){case"Timeout":this.requestFailureTypeAndCount.timeoutFailureCount+=1,n=this.requestFailureTypeAndCount.timeoutFailureCount,t=Fe.TimeOutErrorCountLimit;break;case"ClientFailure":this.requestFailureTypeAndCount.clientFailureCount+=1,n=this.requestFailureTypeAndCount.clientFailureCount,t=Fe.ClientErrorCountLimit;break;case"ServerFailure":this.requestFailureTypeAndCount.serverFailureCount+=1,n=this.requestFailureTypeAndCount.serverFailureCount,t=Fe.ServerErrorCountLimit;break;case"NetworkFailure":this.requestFailureTypeAndCount.internalNetworkFailureCount+=1,n=this.requestFailureTypeAndCount.internalNetworkFailureCount,t=Fe.InternalNetworkErrorCountLimit}n===t&&(u.warn("UNCEngine: PollCommunicationHandler: _handleLongPollRequestFailure - LongPoll failures of type:",e," has reached its failure count limit. Adding delay in successive LongPolls(if failure persisits)"),this.longPollFailureFlag=!0,this._initializeErrorTypeFailureCount())}}},{key:"fetchNotificationsFromServer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(Dt.focusoutLongPollTerminationSurfaces.find((function(e){return e===Dt.appID}))){if(document.hidden)return void u.log("UNCEngine: PollCommunicationHandler: fetchNotificationsFromServer - focus: tab hidden");u.log("UNCEngine: PollCommunicationHandler: fetchNotificationsFromServer - focus: tab visible")}var n=!1;Lt.isNELongPollEnabled()&&(n=!0);var i={},r=n?Pt.serverLongPollUri:Pt.serverShortPollUri;return(i=e||t?Lt.createNotificationGetRequest(r,t,e,n,!1):Lt.createNotificationGetRequest(r,"",this.futureNotificationsData.nextFutureRequestTimestamp.toString(),n,!0))?i.error?this.onError(i):(this.isFetchingNotifications=!0,u.debug("UNCEngine: PollCommunicationHandler: fetchNotificationsFromServer: calling to fetch notifications from server"),i.request.responseCallback=this.onResponse.bind(this),i.request.errorCallback=this.onError.bind(this),this.httpRequestObj=i,this.httpCommunicator=new ne(i.request),this.httpCommunicator.SendRequest(i.requestData),void(this.currentNetworkCommunicatorObj=this.httpCommunicator)):(u.warn("UNCEngine: PollCommunicationHandler: fetchNotificationsFromServer - Unable to create httpRequest. Either AccessToken or AppID is not valid"),this.onError({errorCode:"InvalidRequest"}))}},{key:"_sanitizeFutureTimestamp",value:function(e){e&&this.futureNotificationsData.nextFutureRequestTimestamp-e>0&&(u.debug("UNCEngine: PollCommunicationHandler: _sanitizeFutureTimestamp - Next Future timestamp value doesn't seem correct. Setting it to current servertimestamp value"),this.futureNotificationsData.nextFutureRequestTimestamp=e)}},{key:"_initializeErrorTypeFailureCount",value:function(){this.requestFailureTypeAndCount.timeoutFailureCount=0,this.requestFailureTypeAndCount.clientFailureCount=0,this.requestFailureTypeAndCount.serverFailureCount=0,this.requestFailureTypeAndCount.internalNetworkFailureCount=0}},{key:"_resetLongPollFailure",value:function(){this.longPollFailureFlag=!1,this._initializeErrorTypeFailureCount()}},{key:"_triggerNotificationFetchOperation",value:function(){var e=0;e=this.longPollFailureFlag?1e3*Pt.pollingInterval:Fe.OneSecond,this.timeoutFn=setTimeout(this.fetchNotificationsFromServer.bind(this),e)}},{key:"onResponse",value:function(e){this.isFetchingNotifications=!1,u.debug("UNCEngine: PollCommunicationHandler: onResponse - Notification:-> ",e);var t=JSON.parse(e),n=t.notifications.notification;this.notificationResponseList.push(t),this.getFutureNotificationsData&&(this.currentFutureRequestTimestamp=this.futureNotificationsData.nextFutureRequestTimestamp,this.futureNotificationsData.nextFutureRequestTimestamp=n.length>0?parseInt(n[0].timestamp,10)+1:this.currentFutureRequestTimestamp,this._sanitizeFutureTimestamp(parseInt(t["server-timestamp"],10)));var i=Pt.pageSize;if(n.length===i){this.getFutureNotificationsData=!1;var r=parseInt(n[i-1].timestamp,10);this.fetchNotificationsFromServer(this.currentFutureRequestTimestamp.toString(),(r-1).toString())}else this.responseCallback(this.notificationResponseList),this.notificationResponseList.length=0,this.getFutureNotificationsData=!0,this._resetLongPollFailure(),this._triggerNotificationFetchOperation();Dt.isCacheEnabled&&Kt.updateNewNotifications(e)}},{key:"onError",value:function(e){this.isFetchingNotifications=!1,u.debug("UNCEngine: PollCommunicationHandler: onError received."),this.notificationResponseList.length=0,this.getFutureNotificationsData=!0;var t=!0;switch(e.errorCode){case"Unauthorized":case"UnSupported_Browser":case"Insufficient_Memory":case"UnSupported_Url_Scheme":case"UnSupported_Method_Type":case"Url_Hostname_Missing":case"Method_Type_Missing":case"InvalidRequest":this.errorCallback(e.errorCode),t=!1;break;case"Internal_Server_Error":case"Request_Not_Implemented":case"Bad_Gateway":case"Service_Unavailable":case"Gateway_Timeout":case"Server_Response_Error":this._handleLongPollRequestFailure("ServerFailure");break;case"Network_Failure":this._handleLongPollRequestFailure("NetworkFailure");break;case"Request_Timeout":this._handleLongPollRequestFailure("Timeout");break;case"Too_Many_Requests":if(Wt.retryRequest(e,this.httpCommunicator,this.httpRequestObj.requestData))return;break;default:this._handleLongPollRequestFailure("ClientFailure")}t&&this._triggerNotificationFetchOperation()}},{key:"cancelRequest",value:function(){this.currentNetworkCommunicatorObj&&this.currentNetworkCommunicatorObj.CancelRequest()}}],n&&wn(t.prototype,n),i&&wn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Dn(e){return Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dn(e)}function Pn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Rn(i.key),i)}}function Rn(e){var t=function(e,t){if("object"!=Dn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Dn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dn(t)?t:String(t)}var xn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nextFutureRequestTimestamp=Dt.serverTimestampOnLaunch}var t,n,i;return t=e,(n=[{key:"nextFutureRequestTimestamp",get:function(){return this._nextFutureRequestTimestamp},set:function(e){this._nextFutureRequestTimestamp=e}}])&&Pn(t.prototype,n),i&&Pn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Fn(e){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(e)}function Ln(){Ln=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new k(i||[]);return r(a,"_invoke",{value:T(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",h="executing",g="completed",m={};function v(){}function y(){}function b(){}var _={};l(_,a,(function(){return this}));var C=Object.getPrototypeOf,E=C&&C(C(D([])));E&&E!==n&&i.call(E,a)&&(_=E);var S=b.prototype=v.prototype=Object.create(_);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(r,o,a,s){var c=f(e[r],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Fn(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function T(t,n,i){var r=d;return function(o,a){if(r===h)throw new Error("Generator is already running");if(r===g){if("throw"===o)throw a;return{value:e,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var c=I(s,i);if(c){if(c===m)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var l=f(t,n,i);if("normal"===l.type){if(r=i.done?g:p,l.arg===m)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=g,i.method="throw",i.arg=l.arg)}}}function I(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var o=f(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Fn(t)+" is not iterable")}return y.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},N(O.prototype),l(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new O(u(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},N(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=D,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:D(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function Un(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function Mn(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){Un(o,i,r,a,s,"next",e)}function s(e){Un(o,i,r,a,s,"throw",e)}a(void 0)}))}}function jn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Hn(i.key),i)}}function Wn(e,t,n){return t&&jn(e.prototype,t),n&&jn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hn(e){var t=function(e,t){if("object"!=Fn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Fn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fn(t)?t:String(t)}function qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Vn="vulcan.SuiteMessage.",Bn="ccxi.unc.notifications",Gn=function(){function e(){if(qn(this,e),this.listeners={},this.control=void 0,this.dispatcher=void 0,this.message=void 0,window.require)try{var t=window.require("uxp");t.vulcan&&(this.control=t.vulcan.control,this.dispatcher=t.vulcan.dispatcher,this.message=t.vulcan.message)}catch(e){u.log("UNCEngine: vulcan: Error loading UXP module:",e)}}var t,n,i,r,o,a;return Wn(e,[{key:"dispatch",value:(a=Mn(Ln().mark((function e(t){var n,i,r,o,a,s;return Ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,i=t.target,r=void 0===i?"ADCS":i,o=t.data,e.prev=1,u.log("UNCEngine: vulcan: dispatching message with type: ",Vn+n,"and data: ",o),e.next=5,this.dispatcher.getConnectedApplications();case 5:a=e.sent,(s=a.find((function(e){return e.appId===r})))&&s.dispatchMessage(new this.message(Vn+n,o)),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(1),new Error("UNCEngine: vulcan: error while dispatching message",e.t0);case 13:case"end":return e.stop()}}),e,this,[[1,10]])}))),function(e){return a.apply(this,arguments)})},{key:"checkIfAppRunning",value:(o=Mn(Ln().mark((function e(t){var n;return Ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,this.dispatcher){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,this.dispatcher.getConnectedApplications();case 6:e.sent.find((function(e){return e.appId===t}))&&(n=!0),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(3),new Error("UNCEngine: vulcan: error while getting connected applications: ",e.t0);case 13:return u.log("UNCEngine: vulcan: ".concat(t," app running: ").concat(n)),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(e){return o.apply(this,arguments)})},{key:"getAppProcess",value:(r=Mn(Ln().mark((function e(t){var n,i,r,o,a,s;return Ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={cclibraries:"LIBS",ccxprocess:"CCXP"},i=!!this.control.getInstalledAppsEx,r=i?this.control.getInstalledAppsEx:this.control.getInstalledApps,o=i&&n[t]||t,a=i?"sapCode":"name",e.next=7,r();case 7:return s=e.sent,e.abrupt("return",s.find((function(e){return e[a]===o})));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"launchApp",value:(i=Mn(Ln().mark((function e(t){var n;return Ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.control){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.getAppProcess(t);case 5:if(n=e.sent,e.t0=n,!e.t0){e.next=11;break}return e.next=10,n.launch();case 10:e.t0=e.sent;case 11:return e.abrupt("return",e.t0);case 14:e.prev=14,e.t1=e.catch(2),console.warn("Error when launching application with specifier ".concat(t,": ").concat(e.t1));case 17:case"end":return e.stop()}}),e,this,[[2,14]])}))),function(e){return i.apply(this,arguments)})},{key:"addListener",value:(n=Mn(Ln().mark((function e(t){return Ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,u.log("UNCEngine: vulcan: adding listener with namespace ",Vn+Bn),this.dispatcher.addEventListener(Vn+Bn,t),e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new Error("UNCEngine: vulcan: error while adding listener: ",e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(e){return n.apply(this,arguments)})},{key:"removeListener",value:(t=Mn(Ln().mark((function e(t){return Ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{u.log("UNCEngine: vulcan: removing listener namespace ",Vn+Bn),this.dispatcher.removeEventListener(Vn+Bn,t)}catch(e){u.error("UNCEngine: vulcan: error while removing listener: ",e)}case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getclientRegisrationPayload",value:function(e){return'<?xml version="1.0" encoding="utf-8"?><NEMessage action="RegisterClient"><type>photoshop</type><sub-type>photoshop</sub-type><clientID>'.concat(e,"</clientID><observer-namespace>").concat(Bn,"</observer-namespace></NEMessage>")}}]),e}(),zn=new Gn,Kn=n(9958);function Yn(e){return Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(e)}function Xn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Jn(i.key),i)}}function Jn(e){var t=function(e,t){if("object"!=Yn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Yn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yn(t)?t:String(t)}var $n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.futureNotificationsData=t.futureNotificationsData,this.currentFutureRequestTimestamp=this.futureNotificationsData.nextFutureRequestTimestamp,this.responseCallback=t.responseCallback,this.getFutureNotificationsData=!0,this.continueFetch=!1,this.fetchingNotifications=!1,this.errorCallback=t.errorCallback,this.switchToLongPollBasedOnConfig=t.switchToLongPollBasedOnConfig,this.notificationResponseList=[],this.pollingFailureFlag=!1,this.requestFailureTypeAndCount={},this._initializeErrorTypeFailureCount(),this.registrationStateWithADCS=Fe.RegistrationStatus.PENDING,this.ADCSResponseTimerId=null,this.onResponseReceivedFromADCS=this.onResponseReceivedFromADCS.bind(this)}var t,n,i;return t=e,n=[{key:"registerDevice",value:function(){var e=this;"UXP"===Dt.hostPlatform?zn.checkIfAppRunning("ADCS").then((function(t){t?(e.sendMessageForADSRunningToWidget(!0),u.log("UNCEngine: PushViaCCDCommunicationHandler: ADCS is running on machine, registering client on ADCS..."),zn.addListener(e.onResponseReceivedFromADCS).then((function(){e.registerClient()})).catch((function(t){u.error("UNCEngine: PushViaCCDCommunicationHandler: registerDevice: ",t.message),e.switchToLongPollBasedOnConfig()}))):(u.log("UNCEngine: PushViaCCDCommunicationHandler: registerDevice: ADCS not running on machine, switching to long-poll connection"),e.switchToLongPollBasedOnConfig(),e.sendMessageForADSRunningToWidget(!1))})).catch((function(t){u.error("UNCEngine: PushViaCCDCommunicationHandler: registerDevice: ",t.message),e.switchToLongPollBasedOnConfig(),e.sendMessageForADSRunningToWidget(!1)})):(u.log("UNCEngine: PushViaCCDCommunicationHandler: hostPlatform is not UXP, switching to default long-poll connection"),this.switchToLongPollBasedOnConfig(),this.sendMessageForADSRunningToWidget(!1))}},{key:"sendMessageForADSRunningToWidget",value:function(e){Dt.isADSRunning=e,de.sendMessageToApplet("IsADCSRunning",{data:e},"UNCWidget")}},{key:"getRegistrationData",value:function(e){return e&&e.registrationStatus?{status:e.registrationStatus.status,message:e.registrationStatus.message}:null}},{key:"hasNewNotificationData",value:function(e){return e?e.notification:null}},{key:"updateRegistrationStatus",value:function(e){var t=this.getRegistrationData(e);if(t){var n=t.status,i=t.message;n&&(this.registrationStateWithADCS=n.toLowerCase(),clearTimeout(this.ADCSResponseTimerId),this.registrationStateWithADCS===Fe.RegistrationStatus.SUCCESS?u.log("UNCEngine: PushViaCCDCommunicationHandler: registerDeviceStatus: ".concat(n," , message: ").concat(i)):this.registrationStateWithADCS===Fe.RegistrationStatus.FAILURE&&(u.error("UNCEngine: PushViaCCDCommunicationHandler: registerDeviceStatus: ".concat(n," , message: ").concat(i)),this.switchToLongPollBasedOnConfig()))}}},{key:"onResponseReceivedFromADCS",value:function(e){u.log("UNCEngine: PushViaCCDCommunicationHandler: onResponseReceivedFromADCS, response: ",e);try{var t=new Kn.XMLParser,n=e&&e.payload?t.parse(e.payload):null;this.updateRegistrationStatus(n),this.hasNewNotificationData(n)&&this.fetchNotificationsFromServer()}catch(e){u.error("UNCEngine: PushViaCCDCommunicationHandler: onResponseReceivedFromADCS: ",e)}}},{key:"registerClient",value:function(){var e=this,t=Dt.pushViaCCDConfig?Dt.pushViaCCDConfig.clientApp:null,n=zn.getclientRegisrationPayload(t);zn.dispatch({type:"accc.notifications",data:n}).then((function(){e.ADCSResponseTimerId=setTimeout((function(){u.error("UNCEngine: PushViaCCDCommunicationHandler: registerClient: timeout while making entry in ANE.db after ".concat(Fe.RegistrationWaitingTimeout,"ms: switching to long-poll")),e.switchToLongPollBasedOnConfig()}),Fe.RegistrationWaitingTimeout)})).catch((function(t){u.error("UNCEngine: PushViaCCDCommunicationHandler: registerClient: ".concat(t.message)),e.switchToLongPollBasedOnConfig()}))}},{key:"fetchNotificationsFromServer",value:function(e){this.pollingFailureFlag?u.warn("UNCEngine: PushViaCCDCommunicationHandler: fetchNotificationsFromServer - In an error condition. Ignoring Request"):this.fetchingNotifications?this.continueFetch=!0:(this.fetchingNotifications=!0,this._fetchNotificationsFromServerHelper())}},{key:"_handlePollingRequestFailure",value:function(e){if(!this.pollingFailureFlag){var t=0,n=0;switch(e){case"Timeout":this.requestFailureTypeAndCount.timeoutFailureCount+=1,n=this.requestFailureTypeAndCount.timeoutFailureCount,t=Fe.TimeOutErrorCountLimit;break;case"ClientFailure":this.requestFailureTypeAndCount.clientFailureCount+=1,n=this.requestFailureTypeAndCount.clientFailureCount,t=Fe.ClientErrorCountLimit;break;case"ServerFailure":this.requestFailureTypeAndCount.serverFailureCount+=1,n=this.requestFailureTypeAndCount.serverFailureCount,t=Fe.ServerErrorCountLimit;break;case"NetworkFailure":this.requestFailureTypeAndCount.internalNetworkFailureCount+=1,n=this.requestFailureTypeAndCount.internalNetworkFailureCount,t=Fe.InternalNetworkErrorCountLimit}n===t&&(u.warn("UNCEngine: PushViaCCDCommunicationHandler: _handlePollingRequestFailure - Polling failures of type:",e," has reached its failure count limit. Adding delay in successive Polls(if failure persisits)"),this.pollingFailureFlag=!0,this._initializeErrorTypeFailureCount())}}},{key:"_fetchNotificationsFromServerHelper",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={},i=Pt.serverShortPollUri;if(!(n=e||t?Lt.createNotificationGetRequest(i,t,e):Lt.createNotificationGetRequest(i,"",this.futureNotificationsData.nextFutureRequestTimestamp.toString())))return u.warn("UNCEngine: PushViaCCDCommunicationHandler: fetchNotificationsFromServer - Unable to create httpRequest. Either AccessToken or AppID is not valid"),this.onError({errorCode:"InvalidRequest"});n.request.responseCallback=this.onResponse.bind(this),n.request.errorCallback=this.onError.bind(this),new ne(n.request).SendRequest(n.requestData)}},{key:"_getCurrentUserID",value:function(){var e=de.sendMessageToParent("GetUserProfile",!1);return e?e.UserID:null}},{key:"_isFetchNotificationRequestValid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._getCurrentUserID();return e["ans-target-id"]&&e["ans-target-id"]!==t?(u.warn("UNCEngine: PushViaCCDCommunicationHandler: _isFetchNotificationRequestValid - Current UserID: ",t,"does not match with: ",e["ans-target-id"]),!1):!e["ans-device-id"]||e["ans-device-id"]===Dt.pushDeviceID||(u.warn("UNCEngine: PushViaCCDCommunicationHandler: _isFetchNotificationRequestValid - Current DeviceID: ",Dt.pushDeviceID,"does not match with: ",e["ans-device-id"]),!1)}},{key:"_sanitizeFutureTimestamp",value:function(e){e&&this.futureNotificationsData.nextFutureRequestTimestamp-e>0&&(u.debug("UNCEngine: PushViaCCDCommunicationHandler: _sanitizeFutureTimestamp - Next Future timestamp value doesn't seem correct. Setting it to current servertimestamp value"),this.futureNotificationsData.nextFutureRequestTimestamp=e)}},{key:"_initializeErrorTypeFailureCount",value:function(){this.requestFailureTypeAndCount.timeoutFailureCount=0,this.requestFailureTypeAndCount.clientFailureCount=0,this.requestFailureTypeAndCount.serverFailureCount=0,this.requestFailureTypeAndCount.internalNetworkFailureCount=0}},{key:"_resetPollingFailure",value:function(){this.pollingFailureFlag=!1,this._initializeErrorTypeFailureCount()}},{key:"_triggerNotificationFetchOperation",value:function(){var e=0;e=this.pollingFailureFlag?1e3*Pt.pollingInterval:Fe.OneSecond,setTimeout(this._fetchNotificationsFromServerHelper.bind(this),e)}},{key:"onResponse",value:function(e){u.debug("UNCEngine: PushViaCCDCommunicationHandler: onResponse - Notification:-> ",e);var t=JSON.parse(e),n=t.notifications.notification;this.notificationResponseList.push(t),this.getFutureNotificationsData&&(this.currentFutureRequestTimestamp=this.futureNotificationsData.nextFutureRequestTimestamp,this.futureNotificationsData.nextFutureRequestTimestamp=n.length>0?parseInt(n[0].timestamp,10)+1:this.currentFutureRequestTimestamp,this._sanitizeFutureTimestamp(parseInt(t["server-timestamp"],10)));var i=Pt.pageSize;if(n.length===i){this.getFutureNotificationsData=!1;var r=parseInt(n[i-1].timestamp,10);this._fetchNotificationsFromServerHelper(this.currentFutureRequestTimestamp.toString(),(r-1).toString())}else this.responseCallback(this.notificationResponseList),this.notificationResponseList.length=0,this.getFutureNotificationsData=!0,this.fetchingNotifications=!1,this._resetPollingFailure(),this.continueFetch&&(this.continueFetch=!1,this._triggerNotificationFetchOperation())}},{key:"onError",value:function(e){this.notificationResponseList.length=0,this.getFutureNotificationsData=!0,this.fetchingNotifications=!1;var t=!0;switch(e.errorCode){case"Unauthorized":case"UnSupported_Browser":case"Insufficient_Memory":case"UnSupported_Url_Scheme":case"UnSupported_Method_Type":case"Url_Hostname_Missing":case"Method_Type_Missing":case"InvalidRequest":this.errorCallback(e.errorCode),t=!1;break;case"Internal_Server_Error":case"Request_Not_Implemented":case"Bad_Gateway":case"Service_Unavailable":case"Gateway_Timeout":case"Server_Response_Error":this._handlePollingRequestFailure("ServerFailure");break;case"Network_Failure":this._handlePollingRequestFailure("NetworkFailure");break;case"Request_Timeout":this._handlePollingRequestFailure("Timeout");break;default:this._handlePollingRequestFailure("ClientFailure")}t&&this._triggerNotificationFetchOperation()}},{key:"cancelRequest",value:function(){zn.removeListener(this.onResponseReceivedFromADCS)}}],n&&Xn(t.prototype,n),i&&Xn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Qn(e){return Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qn(e)}function Zn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ei(i.key),i)}}function ei(e){var t=function(e,t){if("object"!=Qn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Qn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qn(t)?t:String(t)}var ti=0,ni=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sendAnalyticsForCommunicationPreference=function(e){Nt.getInstance().sendAnalyticsForCommunicationPreference(e)},this._setServerCommunicationPreferenceOrder(t),this._shouldResume=!1,this._currentPreferenceOrderIndex=0,this._futureNotificationsData=new xn,this._initializationData={futureNotificationsData:this._futureNotificationsData,responseCallback:this.onResponse.bind(this),errorCallback:this.onError.bind(this),switchToLongPollBasedOnConfig:this.switchToLongPollBasedOnConfig.bind(this)},this.healthCheckIntervalId=null,this.shouldSendCommunicationChannelClosedAnalytics=!1}var t,n,i;return t=e,(n=[{key:"_setServerCommunicationPreferenceOrder",value:function(e){this._preferenceOrder=e}},{key:"registerDevice",value:function(){"devicePush"===this._preferenceOrder[this._currentPreferenceOrderIndex]&&this._currentCommunicationHandler.registerDevice()}},{key:"isCurrentCommunicationHandlerDevicePush",value:function(){return"devicePush"===this._preferenceOrder[this._currentPreferenceOrderIndex]}},{key:"switchToLongPollBasedOnConfig",value:function(){Dt.pushViaCCDConfig.shouldSwitchToLongPoll&&!0===Dt.pushViaCCDConfig.shouldSwitchToLongPoll&&this.switchToLongPoll()}},{key:"switchToLongPoll",value:function(){"devicePush"===this._preferenceOrder[this._currentPreferenceOrderIndex]||"pushViaCCD"===this._preferenceOrder[this._currentPreferenceOrderIndex]?("devicePush"===this._preferenceOrder[this._currentPreferenceOrderIndex]?(de.sendMessageToApplet("SendDevicePushDisabledAnalytics",{},"UNCEngine"),this._currentCommunicationHandler.cancelRequest()):"pushViaCCD"===this._preferenceOrder[this._currentPreferenceOrderIndex]&&this._currentCommunicationHandler.cancelRequest(),delete this._currentCommunicationHandler,this._currentPreferenceOrderIndex=this._preferenceOrder.indexOf("poll"),this.executeRequest()):Dt.pushDeviceID&&new Tn(this._initializationData).unRegisterDevice()}},{key:"switchToDevicePush",value:function(){"devicePush"!==this._preferenceOrder[this._currentPreferenceOrderIndex]?(this._currentCommunicationHandler.cancelRequest(),delete this._currentCommunicationHandler,this._currentPreferenceOrderIndex=this._preferenceOrder.indexOf("devicePush"),this.executeRequest()):"windows"===Dt.platform&&Dt.context.ChannelURInew!==Dt.context.ChannelURI&&(u.warn("UNCEngine: FutureNotificationsManager: Channel URI updated for Windows"),this._currentPreferenceOrderIndex=this._preferenceOrder.indexOf("devicePush"),this.executeRequest())}},{key:"switchToPushViaCCD",value:function(){this._currentCommunicationHandler.cancelRequest(),delete this._currentCommunicationHandler,this._currentPreferenceOrderIndex=this._preferenceOrder.indexOf("pushViaCCD"),this.executeRequest()}},{key:"retryPushViaCCD",value:function(){var e=this;zn.launchApp("KCCCADS").then((function(t){t?setTimeout((function(){e.switchToPushViaCCD()}),3e4):e.switchToLongPollBasedOnConfig()})).catch((function(t){u.error("UNCEngine: FutureNotificationsManager: launchADCS: error while launching ADS",t),e.switchToLongPollBasedOnConfig()}))}},{key:"healthCheckOfADCS",value:function(){var e=this;zn.checkIfAppRunning("ADCS").then((function(t){t?("pushViaCCD"!==e._preferenceOrder[e._currentPreferenceOrderIndex]&&(u.log("UNCEngine: FutureNotificationsManager: healthCheckOfADCS: ADCS is live, switching to pushViaCCD connection"),e.switchToPushViaCCD()),!0!==Dt.isADSRunning&&(de.sendMessageToApplet("IsADCSRunning",{data:!0},"UNCWidget"),Dt.isADSRunning=!0),e.shouldSendCommunicationChannelClosedAnalytics=!1):(u.log("UNCEngine: FutureNotificationsManager: healthCheckOfADCS: ADCS not running on machine, deciding b/w push and long-poll"),ti<Dt.pushViaCCDConfig.ADCSMaxLaunchCount?(ti+=1,e.retryPushViaCCD()):(e.sendAnalyticsIfCommunicationChannelClosed(),e.switchToLongPollBasedOnConfig()),!1!==Dt.isADSRunning&&(de.sendMessageToApplet("IsADCSRunning",{data:!1},"UNCWidget"),Dt.isADSRunning=!1))})).catch((function(t){u.error("UNCEngine: FutureNotificationsManager: healthCheckOfADCS: ",t.message),e.switchToLongPollBasedOnConfig(),!1!==Dt.isADSrunning&&(de.sendMessageToApplet("IsADCSRunning",{data:!1},"UNCWidget"),Dt.isADSrunning=!1)}))}},{key:"fetchDevicePushNotifications",value:function(e){"devicePush"===this._preferenceOrder[this._currentPreferenceOrderIndex]?(u.debug("UNCEngine: FetchDevicePushNotifications: Device Push is enabled"),this._currentCommunicationHandler.fetchNotificationsFromServer(e)):u.error("UNCEngine: FetchDevicePushNotifications: Device Push is disabled")}},{key:"forceNotificationsFetchIfLongpoll",value:function(){"poll"===this._preferenceOrder[this._currentPreferenceOrderIndex]&&this._currentCommunicationHandler.forceFetchNotificationsFromServer()}},{key:"executeRequest",value:function(){switch(this._preferenceOrder[this._currentPreferenceOrderIndex]){case"webPush":this._currentCommunicationHandler=new yn(this._initializationData);break;case"devicePush":return"windows"===Dt.platform&&(Dt.context.ChannelURI=Dt.context.ChannelURInew),this._currentCommunicationHandler=new Tn(this._initializationData),this._currentCommunicationHandler.registerDevice(),void this.sendAnalyticsForCommunicationPreference("devicePush");case"poll":this._currentCommunicationHandler=new kn(this._initializationData),this.sendAnalyticsForCommunicationPreference("poll");break;case"pushViaCCD":u.debug("UNCEngine: FutureNotificationsManager: setting up connections for pushViaCCD"),this._currentCommunicationHandler=new $n(this._initializationData),this._currentCommunicationHandler.registerDevice(),this.sendAnalyticsForCommunicationPreference("pushViaCCD");break;default:u.warn("UNCEngine: FutureNotificationsManager: executeRequest: default - Server Communication Preference Type: ",this.preferenceOrder[this._currentPreferenceOrderIndex]," is currently not supported")}if(st()){var e,t;clearInterval(this.healthCheckIntervalId);var n=null!=Dt&&null!==(e=Dt.pushViaCCDConfig)&&void 0!==e&&e.ADCSHealthCheckInterval?null==Dt||null===(t=Dt.pushViaCCDConfig)||void 0===t?void 0:t.ADCSHealthCheckInterval:Fe.HealthCheckPingTime;this.healthCheckIntervalId=setInterval(this.healthCheckOfADCS.bind(this),n)}this._currentCommunicationHandler.fetchNotificationsFromServer()}},{key:"resumeRequest",value:function(){this._shouldResume&&(this._shouldResume=!1,this._currentCommunicationHandler?this._currentCommunicationHandler.fetchNotificationsFromServer():this.executeRequest())}},{key:"onResponse",value:function(e){u.debug("UNCEngine: FutureNotificationsManager: onResponse - Notification List to be notified",e);var t={};t.notificationResponseList=e,t.notify=!0,$t.processNotifications(t)}},{key:"onError",value:function(e){switch(u.debug("UNCEngine: FutureNotificationsManager: onError - Error :-",e),e){case"NotSupported":this._currentPreferenceOrderIndex+=1,this._currentPreferenceOrderIndex<this._preferenceOrder.length&&this.executeRequest();break;case"UnSupported_Browser":case"Insufficient_Memory":case"UnSupported_Url_Scheme":case"UnSupported_Method_Type":case"Url_Scheme_Missing":case"Url_Hostname_Missing":case"Method_Type_Missing":case"InvalidRequest":u.debug("UNCEngine: FutureNotificationsManager: onError - Error encountered: ",e," Stopping Future Notification Fetch"),delete this._currentCommunicationHandler,this._shouldResume=!0;break;case"Unauthorized":de.sendMessageToApplet("RefreshUserProfile",{},"UNCEngine"),this._shouldResume=!0}}},{key:"cancelRequest",value:function(){this._currentCommunicationHandler.cancelRequest()}},{key:"finalize",value:function(){delete this._currentCommunicationHandler}},{key:"sendAnalyticsIfCommunicationChannelClosed",value:function(){Dt.pushViaCCDConfig.shouldSwitchToLongPoll||this.shouldSendCommunicationChannelClosedAnalytics||(this.shouldSendCommunicationChannelClosedAnalytics=!0,Nt.getInstance().sendCommunicationChannelClosedAnalytics())}}])&&Zn(t.prototype,n),i&&Zn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ii(e){return ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ii(e)}function ri(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,oi(i.key),i)}}function oi(e){var t=function(e,t){if("object"!=ii(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ii(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ii(t)?t:String(t)}var ai=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"_handleNotificationPreferenceFetchResponse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u.debug("UNCEngine: NotificationPreferenceManager :: _handleNotificationPreferenceResponse ",e),de.sendMessageToApplet("NotificationPreferenceFetched",e,Fe.CCDCONTAINER_JS)}},{key:"_handleNotificationPreferenceSetResponse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u.debug("UNCEngine: NotificationPreferenceManager :: _handleNotificationPreferenceSetResponse ",e),de.sendMessageToApplet("NotificationPreferenceSet",e,Fe.CCDCONTAINER_JS)}},{key:"getPreference",value:function(e){u.debug("UNCEngine: NotificationPreferenceManager :: getPreference data is ",e);var t={};if(t=Lt.createPreferencesGetRequest(e)){u.debug("UNCEngine: NotificationPreferenceManager :: request to get notification preferences ",t.request),t.request.responseCallback=function(e){var t=JSON.parse(e);this._handleNotificationPreferenceFetchResponse(t)}.bind(this),t.request.errorCallback=function(e){var t={};t.error=e,this._handleNotificationPreferenceFetchResponse(t),u.warn("UNCEngine: NotificationPreferenceManager: GetNotificationPreferences - Error Occured  ",e)}.bind(this);var n=new ne(t.request);n.SendRequest(t.requestData),this.currentNetworkCommunicatorObj=n}else{u.warn("UNCEngine: NotificationPreferenceManager :: getPreference http request creation failed");var i={error:{statusCode:"HTTP request creation failed",errorCode:"Failed to get http request"}};this._handleNotificationPreferenceFetchResponse(i)}}},{key:"setPreference",value:function(e){u.debug("UNCEngine: NotificationPreferenceManager :: setPreference data is ",e);var t={};if(t=Lt.createPreferencesSetRequest(e)){u.debug("UNCEngine: NotificationPreferenceManager :: request to set notification preferences ",t.request),t.request.responseCallback=function(e){var t=JSON.parse(e);this._handleNotificationPreferenceSetResponse(t)}.bind(this),t.request.errorCallback=function(e){var t={};t.error=e,this._handleNotificationPreferenceSetResponse(t),u.error("UNCEngine: NotificationPreferenceManager :: SetPreferences - Error Occured ",e)}.bind(this);var n=new ne(t.request);n.SendRequest(t.requestData),this.currentNetworkCommunicatorObj=n}else{u.warn("UNCEngine: NotificationPreferenceManager :: setPreference http request creation failed");var i={error:{statusCode:"HTTP request creation failed",errorCode:"Failed to get http request"}};this._handleNotificationPreferenceSetResponse(i)}}}],(n=null)&&ri(t.prototype,n),i&&ri(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),si=function(){function e(){this.notificationChannels=[],this.eventData={},this.waitForNextEvent=0,this.prefsCooldownTime=0,this.reminderId="",this.timestamp=0,this.stage=0,this.sessionTracking=!1,this.cooldownTimestamp=0,this.isGlobalReminder=!1}return e.prototype.init=function(e,t,n,i,r,o,a,s){return void 0===o&&(o=!1),void 0===a&&(a=0),void 0===s&&(s=!1),u.debug("Inside Reminder notification event"),"object"!=typeof e.event_data||null===e.event_data?(u.warn("Invalid event for reminder workflow."),!1):(this.eventData=e.event_data,this.notificationChannels=i,"object"!=typeof e.event_data||null===e.event_data?(u.warn("Invalid event details for reminder workflow."),!1):(this.waitForNextEvent=parseInt(n,10)||0,this.prefsCooldownTime=0,this.notificationChannels=i,this.reminderId=t||"",this.stage=r||0,this.sessionTracking=o,this.cooldownTimestamp=a,this.isGlobalReminder=s,!0))},e}(),ci=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=crypto.getRandomValues(new Uint8Array(e|=0));e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&n[e]];return t};function li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?li(Object(n),!0).forEach((function(t){fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fi(e,t,n){return(t=mi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function di(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function hi(e){return hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hi(e)}function gi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,mi(i.key),i)}}function mi(e){var t=function(e,t){if("object"!=hi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=hi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hi(t)?t:String(t)}function vi(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var yi=0;function bi(e){return"__private_"+yi+++"_"+e}var _i=n(9846).v4,Ci=bi("addNotificationPayload"),Ei=bi("sendNotification"),Si=bi("fetchNotificationPayloadFromOdin"),Ni=bi("sanitizeOdinContent"),Oi=bi("extractPayload"),Ti=bi("resolveLocaleInUrl"),Ii=bi("sendANSNotification"),wi=bi("sendLocalNotification");function Ai(e){this.localHistoricalNotificationList.notifications.push(e)}function ki(e,t){!e||"string"==typeof e&&""===e.trim()?u.warn("AddNotificationManager:sendNotification Empty notificationPayload after processing"):"local"in t&&("string"==typeof t.local&&"true"===t.local.toLowerCase()||!0===t.local)?(u.info("AddNotificationManager:sendNotification: Sending notification via local workflow"),vi(this,wi)[wi](e,t)):(u.info("AddNotificationManager:sendNotification: Sending notification via ANS"),vi(this,Ii)[Ii](e,t))}function Di(e,t){try{u.info("AddNotificationManager:fetchNotificationPayloadFromOdin: Fetching from: ".concat(e));var n={data:{}};n.data={requestHeaders:{"Content-Type":"application/json"},queryParams:{t:Date.now()},baseUrl:e,apiEndPoint:"",methodType:"GET",callback:t},(new an).fetchOdinPayload(n)}catch(e){u.error("AddNotificationManager:fetchNotificationPayloadFromOdin: Unexpected error:",e)}}function Pi(e){var t=this;return Array.isArray(e)?e.map((function(e){return vi(t,Ni)[Ni](e)})).filter((function(e){return void 0!==e})):"object"===hi(e)&&null!==e?Object.entries(e).reduce((function(e,n){var i=di(n,2),r=i[0],o=i[1];if(!r.startsWith("_")){var a=vi(t,Ni)[Ni](o);void 0!==a&&(e[r]=a)}return e}),{}):e}function Ri(e){var t;return(null==e||null===(t=e.data)||void 0===t||null===(t=t.dtnWithoutTemplateByPath)||void 0===t?void 0:t.item)||{}}function xi(e,t){if(e.includes("{locale}")){var n=encodeURIComponent(t);return e.replace("{locale}",n)}return e}function Fi(e,t){u.debug("AddNotificationManager: sendANSNotification: ",e,t);var n=Date.now();if(t.schedule_at&&void 0!==t.schedule_at)n=1e3*parseInt(t.schedule_at,10);else if(t.schedule_after&&void 0!==t.schedule_after){n+=1e3*parseInt(t.schedule_after,10)}var i=0;t.expiryTimestamp&&(i=parseInt(t.expiryTimestamp,10));var r={entry:[{"key-name":"expiry-timestamp","key-value":1e3*i}]},o={};o.data={target:"server",content:JSON.stringify({notifications:{notification:[ui({"user-id":t.userID,type:t.type,"sub-type":t.subtype,timestamp:n,state:"NEW",payload:"string"!=typeof e?JSON.stringify(e):e},t.expiryTimestamp?{metadata:r}:{})]}}),namespace:"ccd-unc-".concat(ci())};var a=new hn;o.shouldRetryRequest=!0,a.postNotifications(o)}function Li(e,t){var n=this;u.debug("AddNotificationManager: sendLocalNotification: ",e,t);var i=Date.now();if(t.schedule_at&&void 0!==t.schedule_at)i=1e3*parseInt(t.schedule_at,10);else if(t.schedule_after&&void 0!==t.schedule_after){i+=1e3*parseInt(t.schedule_after,10)}var r=_i(),o={"notification-id":r,"user-id":t.userID,type:t.type,"sub-type":t.subtype,timestamp:i,"created-timestamp":i,"delivery-type":"UNICAST","sort-timestamp":i,state:"NEW",payload:"string"==typeof e?e:JSON.stringify(e),local:!0},a=function(){Dt.localBadgeCount+=1;var i={value:Dt.localBadgeCount+Dt.badgeCount};if(document.getElementById("notificationIconOnEngine"))"WEB"===Dt.surface.toUpperCase()&&at.showUnreadCount(i.value);else{de.sendMessageToApplet("UnReadNotificationsCount",i,"UNCWidget"),de.sendMessageToApplet("NewNotificationsNamespace",{notifications:{notification:[o]}},"UNCWidget");var a="".concat(t.type,":").concat(t["sub-type"]);void 0!==e.ostray&&de.sendTrayNotificationData([o]),Nt.getInstance().sendAnalyticsForPostNotifications(!0,r,"local",a)}n.localHistoricalNotificationList.notifications.unshift(o)},s=i-Date.now();s>0?(u.debug("AddNotificationManager: sendLocalNotification: Notification scheduled after ".concat(s,"ms")),setTimeout(a,s)):a()}var Ui,Mi=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,wi,{value:Li}),Object.defineProperty(this,Ii,{value:Fi}),Object.defineProperty(this,Ti,{value:xi}),Object.defineProperty(this,Oi,{value:Ri}),Object.defineProperty(this,Ni,{value:Pi}),Object.defineProperty(this,Si,{value:Di}),Object.defineProperty(this,Ei,{value:ki}),Object.defineProperty(this,Ci,{value:Ai}),this.localHistoricalNotificationList={notifications:[]}}var t,n,i;return t=e,(n=[{key:"getLocalHistoricalNotificationList",value:function(){return this.localHistoricalNotificationList}},{key:"publishNotifications",value:function(e){var t=this;u.debug("AddNotificationManager: publishNotifications: ",e);try{if(!(e&&e.type&&e.subtype&&e.userID))return void u.error("AddNotificationManager:publishNotifications Skipped: Invalid msgData");var n=null;if(e.contentURL&&""!==e.contentURL.trim()){var i=(null==Dt?void 0:Dt.locale)||"en_US",r=vi(this,Ti)[Ti](e.contentURL,i);vi(this,Si)[Si](r,(function(i){var r=vi(t,Ni)[Ni](JSON.parse(i));n=vi(t,Oi)[Oi](r),vi(t,Ei)[Ei](n,e)}))}else e.payload&&""!==e.payload.trim()?(n=e.payload,vi(this,Ei)[Ei](n,e)):u.warn("AddNotificationManager:publishNotifications No payload or contentURL provided")}catch(e){u.error("AddNotificationManager:publishNotifications Unexpected error:",e.message)}}},{key:"updateLocalNotificationStates",value:function(e){var t=this.getLocalHistoricalNotificationList(),n=[];try{n=JSON.parse(e.content).notifications||[]}catch(e){return void u.debug("AddNotificationManager: Failed to parse notification update data:",e)}n.forEach((function(e){var n=t.notifications.find((function(t){return t["notification-id"]===e["notification-id"]}));n?(n.state=e.state,u.debug("AddNotificationManager: Updated local notification state:",{notificationId:e["notification-id"],newState:e.state})):u.debug("AddNotificationManager: Notification not found for state update:",e["notification-id"])}))}}])&&gi(t.prototype,n),i&&gi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());!function(e){e.ADD_NOTIFICATION="ADD_NOTIFICATION",e.HOST_CALLBACK="HOST_CALLBACK"}(Ui||(Ui={}));var ji=new(function(){function e(){}return e.prototype.isValidChannel=function(e){return Object.values(Ui).includes(e)},e.prototype.validateNotificationData=function(e){if(e.channel_name===Ui.ADD_NOTIFICATION){var t=e.channel_details;if(t.schedule_at&&Date.now()>=1e3*Number(t.schedule_at))return u.error("UNCEngine: ChannelHandler: Notification for channel ".concat(e.channel_name," is scheduled for a past time hence ignoring it.")),!1}return!0},e.prototype.handleChannel=function(e){var t=e.notificationChannels;try{for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!this.isValidChannel(r.channel_name))throw new Error("Error object Invalid channel type: ".concat(r.channel_name));if(u.info("UNCEngine: ChannelHandler: Handling notification for channel: ".concat(r.channel_name)),!this.validateNotificationData(r))throw new Error("Invalid notification data for channel: ".concat(r.channel_name));this.triggerChannel(r)}}catch(e){throw u.error("UNCEngine: ChannelHandler: Error in ChannelHandler.handleChannel:",e.message),e}},e.prototype.triggerChannel=function(e){var t=!1;switch(u.debug("UNCEngine: ChannelHandler: inside triggerChannel"),e.channel_name){case Ui.ADD_NOTIFICATION:var n=e.channel_details,i=this.createAddNotificationContent(n);u.debug("UNCEngine: ChannelHandler: calling addnotification with",i),Mi.publishNotifications(i),t=!0;break;case Ui.HOST_CALLBACK:e.channel_details;Dt.onReminderEvent;break;default:u.warn("UNCEngine: ChannelHandler: Channel ".concat(e.channel_name," is not implemented yet.")),t=!1}return t},e.prototype.createAddNotificationContent=function(e){var t={userID:"",type:"",subtype:"",local:!1},n=de.sendMessageToParent("GetUserProfile",!1);return t.userID=n.UserID,t.type=e.notification_type,t.subtype=e.notification_subtype,e.contentURL?t.contentURL=e.contentURL:e.payload&&(t.payload="string"!=typeof e.payload?JSON.stringify(e.payload):e.payload),e.schedule_at?t.schedule_at=e.schedule_at:e.schedule_after&&(t.schedule_after=e.schedule_after),t.local=e.local||!1,t},e}()),Wi=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},Hi=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},qi=new(function(){function e(){}return e.prototype.getBaseUrl=function(){var e=He.TRACKING_SERVER_URLS.PROD;return Dt.env&&"prod"!==Dt.env&&(e=He.TRACKING_SERVER_URLS.STAGE),e},e.prototype.getHeaders=function(){var e;u.debug("UNCEngine: TrackingStore: inside getHeaders");var t=null===(e=kt.getUserProfile())||void 0===e?void 0:e.AccessToken;if(t){var n={Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"};return"string"==typeof Dt.xApiKey&&Dt.xApiKey&&(n["x-api-key"]=Dt.xApiKey),n}},e.prototype.upsertTrackingData=function(e,t,n){return Wi(this,void 0,Promise,(function(){var i,r,o,a,s,c;return Hi(this,(function(l){return i=e.surface,r=e.category,o=e.track,a=this.getHeaders(),s=this.getBaseUrl(),(c={data:{}}).data={requestHeaders:a,baseUrl:s,apiEndPoint:"/trk/".concat("v3","/users/me/surfaces/").concat(i,"/categories/").concat(r,"/tracks/").concat(o),methodType:"PUT",body:{add:t,remove:n}},[2,(new an).upsertTrackingData(c)]}))}))},e.prototype.getTrackingData=function(e){return Wi(this,void 0,void 0,(function(){var t,n,i,r,o,a,s,c;return Hi(this,(function(l){if(u.debug("UNCEngine: TrackingStore: getTrackingData called with config",e),t=e&&"string"==typeof e.surface?e.surface:"",n=e&&"string"==typeof e.category?e.category:"",i=e&&"string"==typeof e.track?e.track:"",!t||!n)throw u.debug("UNCEngine: TrackingStore: getTrackingData error"),new Error("getTrackingData: Both surface and category must be provided");return r="/trk/".concat("v3","/users/me"),t&&(r="".concat(r,"/surfaces/").concat(t)),n&&(r="".concat(r,"/categories/").concat(n)),r=i?"".concat(r,"/tracks/").concat(i):"".concat(r,"/tracks"),(o={}).locale=Dt.deviceLocale,o.osVersion=Dt.osVersion||"",o.productVersion=Dt.productVersion||"",o.platform=Dt.platform||"",a=this.getHeaders(),s=this.getBaseUrl(),(c={data:{}}).data={queryParams:o,requestHeaders:a,baseUrl:s,apiEndPoint:r,methodType:"GET",timeout:Fe.TrackingSeverTimeout},[2,(new an).getTrackingData(c)]}))}))},e}()),Vi=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},Bi=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Gi=new(function(){function e(){this.reminderAppID="",this.reminderObjectMap=new Map,this.reminderCurrentStageMap=new Map,this.lastReminderTimestampMap=new Map,this.scheduleNextReminderProcess()}return e.prototype.addReminderEvent=function(e){if(u.debug("UNCEngine: ReminderManager: addReminderEvent called with reminderEvent:",e),e.timestamp=Math.floor(Date.now()/1e3),!this.isValidStageSequence(e))return u.debug("UNCEngine: ReminderManager: addReminderEvent: Invalid stage sequence for reminder ID:",e.reminderId),!1;if(this.isLastEventOfJourney(e))return this.triggerReminderEventChannel(e,!0),!0;if(this.reminderObjectMap.set(e.reminderId,e),e.sessionTracking&&this.reminderAppID){var t=e.isGlobalReminder?"global":this.reminderAppID;qi.upsertTrackingData({surface:"unc",category:t,track:e.reminderId},{timestamp:e.timestamp,stage:e.stage},["last_processed_timestamp"])}return this.reminderCurrentStageMap.set(e.reminderId,e.stage),!0},e.prototype.isLastEventOfJourney=function(e){return 0===e.waitForNextEvent&&(u.debug("UNCEngine: ReminderManager: isLastEventOfJourney: Last event of journey, removing from maps for reminder ID:",e.reminderId),!0)},e.prototype.isEventQualified=function(e,t){return Math.floor(Date.now()/1e3)-e>t},e.prototype.resetReminderEventsMap=function(){u.debug("UNCEngine: ReminderManager: resetReminderEventsMap: Clearing all reminder events and stage tracking."),this.reminderObjectMap.clear(),this.reminderCurrentStageMap.clear()},e.prototype.scheduleNextReminderProcess=function(){var e=this;setTimeout((function(){e.processReminderEvent(),e.scheduleNextReminderProcess()}),5e3)},e.prototype.processReminderEvent=function(){var e=this;this.reminderObjectMap.forEach((function(t){var n=t.timestamp,i=t.waitForNextEvent;e.isEventQualified(n,i)&&e.triggerReminderEventChannel(t,!1)}))},e.prototype.triggerReminderEventChannel=function(e,t){void 0===t&&(t=!1),u.debug("UNCEngine: ReminderManager: triggerReminderEventChannel: Triggering reminder event channel for reminder ID:",e.reminderId);try{if(e.notificationChannels.length>0){if(ji.handleChannel(e),e.sessionTracking&&this.reminderAppID){var n=e.isGlobalReminder?"global":this.reminderAppID;qi.upsertTrackingData({surface:"unc",category:n,track:e.reminderId},{last_processed_timestamp:e.timestamp},["stage","timestamp"])}this.lastReminderTimestampMap.set(e.reminderId,e.timestamp)}Nt.getInstance().sendAnalyticsForReminderJourney(e,t?"workflowCompleted":"workflowInProgress","success")}catch(n){u.error("UNCEngine: ReminderManager: Error in triggerReminderEventChannel: ",n.message),Nt.getInstance().sendAnalyticsForReminderJourney(e,t?"workflowCompleted":"workflowInProgress","error",n.message)}this.reminderObjectMap.delete(e.reminderId),this.reminderCurrentStageMap.delete(e.reminderId)},e.prototype.isValidStageSequence=function(e){var t=e.stage,n=e.reminderId;if(1===t)return this.isCooldownTimeCompleted(n,e.cooldownTimestamp);var i=t-1,r=this.reminderCurrentStageMap.get(n);return void 0===r?(u.debug("UNCEngine: ReminderManager: isValidStageSequence: Stage ".concat(t," cannot be processed before stage ").concat(i," for reminder ID: ").concat(n)),!1):r===i||r===t||(u.debug("UNCEngine: ReminderManager: isValidStageSequence: Stage ".concat(t," cannot be processed. Current tracked stage is ").concat(r," for reminder ID: ").concat(n)),!1)},e.prototype.syncRemindersFromTrackingServer=function(){return Vi(this,void 0,Promise,(function(){var e,t,n=this;return Bi(this,(function(i){switch(i.label){case 0:return u.debug("UNCEngine: ReminderManager: syncRemindersFromTrackingServer: Syncing reminders from tracking server"),this.reminderAppID?(e=Yi.isGlobalReminderPresent()?"global":this.reminderAppID,[4,qi.getTrackingData({surface:"unc",category:e,track:null})]):(u.debug("UNCEngine: ReminderManager: syncRemindersFromTrackingServer: reminderAppID not available, skipping sync"),[2]);case 1:return t=i.sent(),u.debug("UNCEngine: ReminderManager: syncRemindersFromTrackingServer: Tracking server data received:",t),t&&t.items&&t.items.forEach((function(e){var t=e.track;if(void 0!==e.stage&&void 0!==e.timestamp){n.reminderCurrentStageMap.set(t,e.stage);var i=Yi.getReminderEventByIdAndStage(t,e.stage);i?(i.timestamp=e.timestamp,n.reminderObjectMap.set(t,i)):u.debug("UNCEngine: ReminderManager: syncRemindersFromTrackingServer: No reminder event found for reminder ID:",t),u.debug("UNCEngine: ReminderManager: syncRemindersFromTrackingServer: Synced reminder from server:",{reminderId:t,stage:e.stage,timestamp:e.timestamp})}else void 0!==e.last_processed_timestamp&&n.lastReminderTimestampMap.set(t,e.last_processed_timestamp)})),[2]}}))}))},e.prototype.setReminderAppID=function(e){this.reminderAppID=e,u.debug("UNCEngine: ReminderManager: setReminderAppID: reminderAppID set to:",e)},e.prototype.isCooldownTimeCompleted=function(e,t){var n=this.lastReminderTimestampMap.get(e);if(void 0!==t&&void 0!==n&&Math.floor(Date.now()/1e3)<=t+n)return u.debug("UNCEngine: ReminderManager: isCooldownTimeCompleted: Cooldown period for this journey is not completed for reminder ID:",e),!1;return!0},e}()),zi=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},Ki=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Yi=new(function(){function e(){this.isInitialized=!1,this.isRemindersSynced=!1,this.acrossSessionTracking=!1,this.globalReminderPresent=!1,this.reminderNotificationEvents=[],this.reminderWorkflowMap=new Map,this.reminderIdStageMap=new Map}return e.prototype.initialize=function(e){this.isInitialized||(this.isInitialized=!0,Nt.getInstance().sendAnalyticsForReminderInit(),u.debug("UNCEngine: UNCTracker: Inside initialize"))},e.prototype.isReminderFeatureEnabled=function(){return this.isInitialized},e.prototype.isGlobalReminderPresent=function(){return this.globalReminderPresent},e.prototype.handleReminderFeatureData=function(e,t,n,i){var r,o=this;void 0===i&&(i=!1);try{r="string"==typeof e?JSON.parse(e):e}catch(t){return void u.error("UNCEngine: ReminderFramework: Tracker: handleReminderFeatureData - Failed to parse featureData:",e,t)}if(e&&Array.isArray(r.events)){Gi.setReminderAppID(t);var a=r.cooldown_timestamp,s=r.session_tracking;s&&(this.acrossSessionTracking=!0),i&&(this.globalReminderPresent=!0);var c=r.events;u.debug("UNCEngine: ReminderFramework: Tracker: handleReminderFeatureData - Processing reminder feature data for appID:",t," reminderId:",n," featureData:",e),c.forEach((function(e){var r=(e.wait_for_next_event||0).toString(),c=e.notification_channels||[],l=e.stage||1;e.event_details.forEach((function(e){if(e.surface_id===t||""===e.surface_id||void 0===e.surface_id){var u=new si;u.init(e,n,r,c,l,s,a,i)&&o.pushReminderWorkflowData(u)}}))}))}else u.error("UNCEngine: ReminderFramework: Tracker: handleReminderFeatureData - Invalid featureData or missing events:",r)},e.prototype.pushReminderWorkflowData=function(e){var t=this;this.reminderNotificationEvents.push(e);var n=this.reminderNotificationEvents.length-1,i="".concat(e.reminderId,":").concat(e.stage);this.reminderIdStageMap.set(i,e),Object.entries(e.eventData).forEach((function(e){var i=e[0],r=e[1];if(t.reminderWorkflowMap.has(i)){var o=t.reminderWorkflowMap.get(i);Object.prototype.hasOwnProperty.call(o,r)?o[r].push(n):o[r]=[n],t.reminderWorkflowMap.set(i,o)}else{(o={})[r]=[n],t.reminderWorkflowMap.set(i,o)}})),u.debug("UNCEngine: ReminderFramework: Inside pushReminderWorkflowData")},e.prototype.flattenEventObject=function(e,t){var n=this;void 0===t&&(t="");var i={};return Object.keys(e).forEach((function(r){"object"!=typeof e[r]||null===e[r]||Array.isArray(e[r])?i["".concat(t).concat(r)]=e[r]:Object.assign(i,n.flattenEventObject(e[r],"".concat(t).concat(r,"_")))})),i},e.prototype.checkForReminderEvent=function(e){var t=this;if(0!==this.reminderNotificationEvents.length){var n=this.flattenEventObject(e);if(n){var i=new Array(this.reminderNotificationEvents.length).fill(0);Object.entries(n).forEach((function(e){var n=e[0],r=e[1];if(t.reminderWorkflowMap.has(n)){var o=t.reminderWorkflowMap.get(n);if(Object.prototype.hasOwnProperty.call(o,r))o[r].forEach((function(e){i[e]+=1}))}}));for(var r=function(e){if(i[e]===Object.keys(o.reminderNotificationEvents[e].eventData).length){u.debug("UNCEngine: ReminderFramework: Reminder notification found",JSON.stringify(n));var r=o.reminderNotificationEvents[e].notificationChannels[0].channel_details.payload,a={};r&&Array.isArray(r)&&(r.forEach((function(i){"string"==typeof i&&(n[i]&&(a[i]=n[i]),"reminder_id"===i&&(a[i]=t.reminderNotificationEvents[e].reminderId))})),o.reminderNotificationEvents[e].notificationChannels[0].channel_details.payload=JSON.stringify(a)),Gi.addReminderEvent(o.reminderNotificationEvents[e])}},o=this,a=0;a<i.length;a+=1)r(a)}else u.debug("UNCEngine: ReminderFramework: Events Object not found")}else u.debug("UNCEngine: ReminderFramework: No reminder notification event found")},e.prototype.syncRemindersFromTrackingServer=function(e){return zi(this,void 0,Promise,(function(){var e;return Ki(this,(function(t){switch(t.label){case 0:if(!this.acrossSessionTracking&&!this.globalReminderPresent)return u.debug("UNCEngine: ReminderFramework: Across session tracking is not enabled, skipping sync."),[2];if(this.isRemindersSynced)return u.debug("UNCEngine: ReminderFramework: Reminders already synced, skipping sync."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),u.debug("UNCEngine: ReminderFramework: Syncing reminders from tracking server"),[4,Gi.syncRemindersFromTrackingServer()];case 2:return t.sent(),this.isRemindersSynced=!0,[3,4];case 3:return e=t.sent(),u.error("UNCEngine: ReminderFramework: Error syncing reminders:",e),[3,4];case 4:return[2]}}))}))},e.prototype.getReminderEventByIdAndStage=function(e,t){var n="".concat(e,":").concat(t);return this.reminderIdStageMap.get(n)||null},e}());function Xi(e){return Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xi(e)}function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ji.apply(this,arguments)}function $i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,er(i.key),i)}}function Zi(e,t,n){return t&&Qi(e.prototype,t),n&&Qi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function er(e){var t=function(e,t){if("object"!=Xi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Xi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xi(t)?t:String(t)}var tr=0,nr=1,ir=2,rr=3,or=4,ar=5,sr=6,cr=7,lr=function(){function e(t){$i(this,e),this._STATE=tr,this._ccxCore=t,de.setClientCallback(this._ccxCore.handleMessage.bind(this._ccxCore))}return Zi(e,[{key:"_validateContext",value:function(){return!!this._context}},{key:"initContext",value:function(e){if(this._context=e,this._validateContext())if(kt.initialize(this._context),Dt.analyticsEnabled)try{Nt.getInstance().sendAnalyticsForUserPreferenceForAnalytics(!0,"consent")}catch(e){u.warn("Error in sending Analytics consent")}else try{Nt.getInstance().sendAnalyticsForUserPreferenceForAnalytics(!1,"consent")}catch(e){u.warn("Error in sending Analytics consent")}else u.error("UNCEngine: EngineManager: initContext: Context validation failed.....")}},{key:"setState",value:function(e){this._STATE=e,this.executeStateMachine(),u.debug("UNCEngine: EngineManager: setState - ",this._STATE)}},{key:"getState",value:function(){return this._STATE}},{key:"getFutureNotificationsObj",value:function(){return this._futureNotificationsObj}},{key:"addRequestInQueue",value:function(e){this.requestQueue||(this.requestQueue=[]);var t=Ji({},e);t.targetID="UNCEngine",t.targetType="Applet",this.requestQueue.push(t)}},{key:"executeStateMachine",value:function(){var e=this;setTimeout((function(){switch(e._STATE){case nr:return e._validateContext()?(u.debug("UNCEngine: EngineManager: executeStateMachine: __INIT__ - GlobalData initialized: ",Dt),void e.setState(ir)):void u.error("UNCEngine: EngineManager: executeStateMachine: __INIT__ - Context validation failed.....");case ir:var t,n=Lt.createNotificationGetRequest(Pt.serverShortPollUri);return n?(n.request.responseCallback=function(e){var t=JSON.parse(e);Object.prototype.hasOwnProperty.call(t,Fe.ConfigurationKey)&&Pt.setConfigParams(t[Fe.ConfigurationKey]),de.broadcastServerTimestamp(t["server-timestamp"]),Dt.badgeCount=t["unread-count"],this.setState(rr)}.bind(e),n.request.errorCallback=function(e){var i=this;if((u.error("Network error: ",e),"Too_Many_Requests"===e.errorCode&&t)&&Wt.retryRequest(e,t,n.requestData))return;try{this._context&&this._context.onError&&"function"==typeof this._context.onError&&setTimeout((function(){i._context.onError()}),0)}catch(e){u.warn("UNCEngine: EngineManager: executeStateMachine: __LOAD_UI__ - Some exception occured while calling host callback",e)}this.setState(rr)}.bind(e),void(t=new ne(n.request)).SendRequest(n.requestData)):(u.warn("UNCEngine: EngineManager: executeStateMachine: __SYNC_TIMESTAMP__ - Unable to create httpRequest. Either AccessToken or AppID is not valid"),void e.setState(rr));case rr:if(st())e._ccxCore.handleMessage({targetType:"Applet",targetID:"UNCWidget",message:"Init",data:{}});else if(Dt.surface&&Dt.surface.toLowerCase()!==Fe.Surface.DESKTOP)if(Dt.optimizations&&Dt.optimizations.includes(Fe.Optimizations.DYNAMIC_LOADING)){var i=document.querySelector(e._context.uiConfig.el);if(!i)return;at.loadwidget(e._ccxCore,e._context,i)}else e._ccxCore.handleMessage({targetType:"Applet",targetID:"UNCWidget",message:"Init",data:{}});return Nt.getInstance().sendAnalyticsForEngineInit(),void(Dt.serverTimestampOnLaunch?e.setState(ar):e.setState(sr));case or:var r=document.querySelector(e._context.uiConfig.el);return at.loadErrorScreen(e._ccxCore,e._context,r),void e.setState(sr);case ar:return e._futureNotificationsObj||(st()?e._futureNotificationsObj=new ni(["pushViaCCD","webPush","poll"]):Dt&&Dt.surface&&Dt.surface.toLowerCase()===Fe.Surface.DESKTOP?e._futureNotificationsObj=new ni(["devicePush","poll"]):e._futureNotificationsObj=new ni(["webPush","poll"]),e._futureNotificationsObj.executeRequest()),void e.setState(sr);case sr:if(e._futureNotificationsObj&&e._futureNotificationsObj.resumeRequest(),e.requestQueue){for(var o=0;o<e.requestQueue.length;o+=1)e._ccxCore.handleMessage(e.requestQueue[o]);delete e.requestQueue,e.requestQueue=null}e.setState(cr)}}),1)}}]),e}(),ur=function(){function e(){$i(this,e)}return Zi(e,[{key:"initialize",value:function(e){this._ccxCore=e.hostObject,this._manager||(this._manager=new lr(this._ccxCore))}},{key:"handleMessage",value:function(e){var t=e.message;if("InitContext"!==t&&"UpdateUserProfile"!==t&&"RefreshUserProfile"!==t&&this._manager.getState()<rr)this._manager.addRequestInQueue(e);else switch(t){case"InitContext":var n=e.data;return u.debug("UNCEngine: handleMessage: Initializing UNCEngine context: ",n),this._manager.initContext(n),void this._manager.setState(nr);case"RefreshUserProfile":return void(this._manager.getState()!==tr&&(u.debug("UNCEngine: handleMessage: RefreshUserProfile"),de.sendMessageToParent("RefreshUserProfile"),this._manager.setState(tr)));case"UpdateUserProfile":return u.debug("UNCEngine: handleMessage: UpdateUserProfile"),void this._manager.setState(sr);case"RegisterObservers":return u.debug("UNCEngine: handleMessage: Registering observers - ",e),!!de.registerObserver(e);case"UnregisterObservers":return u.debug("UNCEngine: handleMessage: Unregistering observers - ",e),!!de.unregisterObserver(e);case"RegisterClientObservers":return u.debug("UNCEngine: handleMessage: RegisteringClientObservers - ",e),!!de.registerClientObservers(e);case"UnregisterClientObservers":return u.debug("UNCEngine: handleMessage: UnregisteringClientObservers - ",e),!!de.unregisterClientObservers(e);case"GetNotifications":u.debug("UNCEngine: handleMessage: GetNotifications - ",e);var i=new hn;return e.shouldRetryRequest=!0,i.getNotifications(e);case"PostNotifications":u.debug("UNCEngine: handleMessage: PostNotifications - ",e);var r=new hn;return e.shouldRetryRequest=!0,r.postNotifications(e);case"UpdateNotifications":return u.debug("UNCEngine: handleMessage: UpdateNotifications - ",e),(new hn).updateNotifications(e);case"UpdateLocalNotificationsState":u.info("UNCEngine: handleMessage: UpdateLocalNotificationsState - ",e);var o=e.data;return void(o&&Mi.updateLocalNotificationStates(o));case"ClearBadge":return u.debug("UNCEngine: handleMessage: ClearBadge"),(new hn).clearBadge(e);case"GetConfigurationSettings":return u.debug("UNCEngine: handleMessage: GetConfigurationSettings"),void Pt.serveNotificationConfigurationRequest(e);case"UpdateAnalyticsConfig":if(u.debug("UNCEngine: handleMessage: UpdateAnalyticsConfig"),void 0!==e.data.analyticsEnabled){var a="true"===e.data.analyticsEnabled.toString().toLowerCase();a?(Dt.analyticsEnabled=a,yt.sendAnalyticsForUserPreferenceForAnalytics(!0,"update")):yt.sendAnalyticsForUserPreferenceForAnalytics(!1,"update"),de.sendUpdateAnalyticsConfigToWidget(e.data)}return;case"LoadErrorScreen":return u.debug("UNCEngine: handleMessage: LoadErrorScreen"),void this._manager.setState(or);case"InitLongPoll":return u.debug("UNCEngine: handleMessage: InitLongPoll"),void this._manager.setState(ar);case"UpdateMachineDeviceToken":u.debug("UNCEngine: handleMessage: UpdateMachineDeviceToken");var s=e.data.machineDeviceToken;if(s){if(Dt.machineDeviceToken=s,!Dt.isDevicePushEnabled)return void u.debug("UNCEngine: handleMessage: UpdateMachineDeviceToken device push not enabled");this._manager.getFutureNotificationsObj()&&(u.debug("UNCEngine: handleMessage: UpdateMachineDeviceToken going to check if device on longpoll"),this._manager.getFutureNotificationsObj().isCurrentCommunicationHandlerDevicePush()?this._manager.getFutureNotificationsObj().registerDevice():this._manager.getFutureNotificationsObj().switchToDevicePush())}return;case"DisableDevicePush":return u.debug("UNCEngine: handleMessage: DisableDevicePush"),Dt.isDevicePushEnabled=!1,e.data.pushDeviceID&&(Dt.pushDeviceID=e.data.pushDeviceID),void(this._manager.getFutureNotificationsObj()&&this._manager.getFutureNotificationsObj().switchToLongPoll());case"EnableDevicePush":return u.debug("UNCEngine: handleMessage: ",t),e.data.pushDeviceID&&(Dt.pushDeviceID=e.data.pushDeviceID),e.data.machineDeviceToken&&(u.debug("UNCEngine: handleMessage: MachineDeviceToken got machineDeviceToken"),Dt.machineDeviceToken===e.data.machineDeviceToken?u.debug("UNCEngine: handleMessage: MachineDeviceToken device token is same as previous one ignoring this msg"):Dt.machineDeviceToken=e.data.machineDeviceToken),Dt.machineDeviceToken||"macos"!==Dt.platform?(Dt.isDevicePushEnabled=!0,e.data.ChannelURI&&(u.info("UNCEngine: EnableDevicePush ChannelURI received",e.data.ChannelURI),Dt.context.ChannelURInew=e.data.ChannelURI,u.info("UNCEngine: GlobalData after is ",Dt)),void(this._manager.getFutureNotificationsObj()&&this._manager.getFutureNotificationsObj().switchToDevicePush())):void u.debug("UNCEngine: handleMessage: MachineDeviceToken is empty");case"NetworkIsOnline":case"FetchNotifications":return u.debug("UNCEngine: handleMessage: ",t),void(this._manager.getFutureNotificationsObj()&&(this._manager.getFutureNotificationsObj().fetchDevicePushNotifications(e.data),this._manager.getFutureNotificationsObj().forceNotificationsFetchIfLongpoll()));case"ForceFetchNotificationForPush":return u.debug("UNCEngine: handleMessage: ForceFetchNotificationForPush"),void(this._manager.getFutureNotificationsObj()&&this._manager.getFutureNotificationsObj().fetchDevicePushNotifications(e.data));case"SignedOut":return u.debug("UNCEngine: handleMessage: SignedOut"),void(this._manager.getFutureNotificationsObj()&&this._manager.getFutureNotificationsObj().finalize());case"SigningOut":return u.debug("UNCEngine: handleMessage: SigningOut"),void(this._manager.getFutureNotificationsObj()&&this._manager.getFutureNotificationsObj().cancelRequest());case"GetNotificationPreference":return u.info("UNCEngine: handleMessage: GetNotificationPreference"),void ai.getPreference(e.data);case"SetNotificationPreference":return u.info("UNCEngine: handleMessage: SetNotificationPreference"),void ai.setPreference(e.data);case"ThemeChange":u.info("UNCEngine: handleMessage: updating theme",e),e.data.theme&&(Dt.theme=e.data.theme);var c=document.getElementById("notificationIconOnEngine");if(c){var l=new CustomEvent("themeChangeEvent",{detail:{theme:Dt.theme}});c.dispatchEvent(l)}return;case"cleanUp":return void this._manager.getFutureNotificationsObj().cancelRequest();case"GetUnReadCount":u.info("UNCEngine: handleMessage: GetUnReadCount",e);var f={};return f.value=Dt.badgeCount+Dt.localBadgeCount,void de.sendMessageToApplet("UnReadNotificationsCount",f,"UNCWidget");case"GetLocalHistoricalNotifications":u.info("UNCEngine: handleMessage: GetLocalHistoricalNotifications");var d=Mi.getLocalHistoricalNotificationList();return void(d&&d.notifications&&d.notifications.length>0?de.sendMessageToApplet("HistoricalLocalNotificationsNamespace",d,"UNCWidget"):u.debug("UNCEngine: handleMessage: GetLocalHistoricalNotifications - No local historical notifications found, skipping dispatch"));case"RenderEngineBellIcon":return u.info("UNCEngine: handleMessage: updating RenderEngineBellIcon",e),this._ccxCore.handleMessage({targetType:"Applet",targetID:"UNCWidget",message:"cleanupWidget",data:this._manager._context.uiConfig.el}),void at.loadwidget(this._ccxCore,this._manager._context,document.querySelector(this._manager._context.uiConfig.el),!0);case"AnalyticsEventFromHost":return void(Yi.isReminderFeatureEnabled()&&Yi.checkForReminderEvent(e.data));case"AddNotification":return u.debug("UNCEngine: handleMessage: AddNotification ",e),void Mi.publishNotifications(e.data);case"ResetLocalBadgeCount":return u.debug("UNCEngine: handleMessage: ResetLocalBadgeCount - Resetting local badge count"),void(Dt.localBadgeCount=0);default:u.debug("UNCEngine: handleMessage: default - Triggering default action.....")}}},{key:"finalize",value:function(e){}}]),e}();function fr(e){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr(e)}function dr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,pr(i.key),i)}}function pr(e){var t=function(e,t){if("object"!=fr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=fr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fr(t)?t:String(t)}window.UNCEngine=function(){return new ur};var hr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.AccountType="",this.UserID="",this.Email="",this.DisplayName="",this.FirstName="",this.LastName="",this.Name="",this.CountryCode="",t.userGuid?this.UserID=t.userGuid:this.UserID=t.userId,t.accessToken?this.AccessToken=t.accessToken:this.AccessToken=t.access_token,t.account_type&&(this.AccountType=t.account_type),t.email&&(this.Email=t.email),t.displayname&&(this.DisplayName=t.displayname),t.first_name&&(this.FirstName=t.first_name),t.last_name&&(this.LastName=t.last_name),t.name&&(this.Name=t.name),t.countryCode&&(this.CountryCode=t.countryCode)}var t,n,i;return t=e,i=[{key:"sanitizeUserProfile",value:function(e){return!(!e.access_token&&!e.accessToken||!e.userId&&!e.userGuid)}}],(n=null)&&dr(t.prototype,n),i&&dr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),gr={UNCWidget:"UNCWidget",NOT_AVAILABLE:"Not_Available",ALREADY_FETCHING:"Already_Fetching",CALLING_FETCH:"Calling_Fetch",START_24HR_REFRESH:"Start24HrWorkflow",WELCOME_SCREEN:"WelcomeScreen",EMPTY_SCREEN_WITH_FETCH_MORE_BUTTON:"EmptyScreenWithFetchMoreButton",EMPTY_SCREEN_WITH_NO_MORE_NOTIFICATIONS:"EmptyScreenWithNoMoreNotifications",SOME_NOTIFICATIONS_AVAILABLE_SCREEN:"SomeNotificationsAvailableScreen",SKELETON_SCREEN:"SkeletonScreen",MESSAGE_INIT:"Init",MESSAGE_NEW_Notifications:"NewNotificationsNamespace",MESSAGE_HISTORICAL_LOCAL_NOTIFICATIONS:"HistoricalLocalNotificationsNamespace",MESSAGE_HISTORICAL_Notifications:"HistoricalNotificationsNamespace",MESSAGE_PINNED_HISTORICAL_Notifications:"HistoricalPinnedNotificationsNamespace",MESSAGE_TIMESTAMP_DRIFT:"TimestampDrift",MESSAGE_BADGE_COUNT:"UnReadNotificationsCount",MESSAGE_IS_ADCS_RUNNING:"IsADCSRunning",MESSAGE_HIDE_NOTIFICATION_WIDGET_TRIGGERED:"HideNotificationWidget",MESSAGE_SHOW_NOTIFICATION_WIDGET_TRIGGERED:"ShowNotificationWidget",MESSAGE_SHOW_NOTIFICATION_WIDGET_WITHOUT_DELAY_TRIGGERED:"ShowNotificationWidgetWithoutDelay",MESSAGE_SERVER_CONFIGURATIONS:"ServerConfigurations",MESSAGE_UPDATE_ANALYTICS_CONFIG:"UpdateAnalyticsConfig",MESSAGE_UPDATE_NOTIFICATION_CONTENT:"UpdateNotificationContent",MESSAGE_HANDLE_USER_CONTEXT_DATA:"UserContextData",MESSAGE_IS_CCD_PRESENT:"IsCCDPresent",PINNED_HISTORICAL_NOTIFICATIONS_FETCH_PERIOD:5e3,NOTIFICATIONS_SCROLL_UP_DURATION:300,SCROLL_UP_BUTTON_OFFSET:40,REGISTER_OBSERVER:"RegisterObservers",UNREGISTER_OBSERVER:"UnregisterObservers",GET_NOTIFICATIONS_BY_TIME:"GetNotifications",UPDATE_NOTIFICATIONS_DATA:"UpdateNotifications",UPDATE_LOCAL_NOTIFICATIONS_STATE:"UpdateLocalNotificationsState",GET_LOCAL_HISTORICAL_NOTIFICATIONS:"GetLocalHistoricalNotifications",GET_CONFIGURATIONS_FOR_REQUESTS:"GetConfigurationSettings",CLEAR_BADGE:"ClearBadge",PANEL_SWITCH_REQUEST:"ShowTab",HANDLE_ROUTE_REQUEST:"RouteToPath",HANDLE_DEEPLINK_REQUEST:"DeepLinkRequest",IMS_TOKEN_STRING:"%3C%25imsAccessToken%25%3E",UPDATE_BADGE_COUNT:"UpdateBadge",RESET_LOCAL_BADGE_COUNT:"ResetLocalBadgeCount",GET_USER_PROFILE:"GetUserProfile",OPEN_URL_REQUEST:"OpenURL",CHANGE_NOTIFICATION_ICON:"ChangeNotificationIcon",UNC_WIDGET_INITIALIZED:"UNCWidgetInitialized",CCUI_EXCEPTION_HANDLER:"CCUiExceptionHandler",RENDER_ENGINE_BELL_ICON:"RenderEngineBellIcon",GET_UNREAD_COUNT:"GetUnReadCount",SHOW_ALL_NOTIFICATIONS:"show-all-notifications",LOAD_MORE_NOTIFICATIONS:"load-more-notifications",PRIMARY_CLICKED:"PrimaryClicked",SECONDARY_CLICKED:"SecondaryClicked",DISMISS_CLICKED:"DismissClicked",MARK_AS_READ_CLICKED:"MarkRead",MARK_AS_UNREAD_CLICKED:"MarkUnread",UNPIN_CLICKED:"UnpinClicked",OPEN_IN_NEW_TAB:"OpenInNewTab",HANDLE_NOTIFICATION_CLICK:"HandleNotificationClick",DEEPLINK_WORKFLOW_CLICKED:"DeepLinkWorkflowClicked",Announcement_Notifications_Section:"AnnouncementNotificationsSection",Pinned_Notifications_Section:"PinnedNotificationsSection",Normal_Notifications_Section:"NormalNotificationsSection",Class_Contrast:"contrast",Class_PinnedContrast:"pinnedContrast",Class_AnnouncementContrast:"announcementContrast",Class_Hidden:"hidden",Announcement_Notifications_Default_Expiry_In_Days:"14",WIDGET_SCROLL:"scroll",WIDGET_OPEN:"open",WIDGET_CLOSE:"close",WIDGET_MOUSE_OVER:"mouse_over",WIDGET_MOUSE_OUT:"mouse_out",MAX_SETIMEOUT_IN_SECOND:2147483,SEVEN_DAYS_IN_SECOND:604800,SUPPORTED_VIEW_TYPES:["simpleTimeline1","inviteTimeline","inviteCommentTimeline","commentTimeline","multipleIconsTimeline","commentCTATimeline","commentActionTimeline","eventTimeline"],SUPPORTED_THEME_VALUES:["light","lightest","dark","darkest","express"],DEFAULT_THEME:"light",EXPRESS_THEME:"express",ENVIRONMENTS:{PROD:"prod",STAGE:"stage",DEV:"dev",LOCAL:"local",QE:"qe"},DeviceType:{MOBILE:"Mobile"},SOURCE_ID:"UNCWidget",DEFAULT_TARGET_TYPE:"Applet",DEFAULT_TARGET_ID:"UNCEngine",CLIENT_TARGET_TYPE:"Parent",ANALYTICS_DESKTOP_TARGET_ID:"AnalyticsCoreExt",COREEXT_TARGET_TYPE:"CoreExt",CONTAINER_BL_ID:"C3Container_BL",CONTAINER_UI_ID:"C3Container_UINative",SURFACE_DESKTOP:"DESKTOP",SURFACE_WEB:"WEB",SURFACE_MOBILE:"MOBILE",Event_Section:"event",Source_Section:"source",Content_Section:"content",UI_Section:"ui",Environment_Section:"env",Consumer_Section:"consumer",User_Section:"user",Transaction_Section:"trn",Experiment_Section:"exp",Component_Section:"env.com",Custom_Section:"custom",Consumer_Supported_Keys:["client_id","name","version","platform","app_store_id"],Component_Supported_Keys:["name","version"],Event_Supported_Keys:["visitor_guid"],Evidon_Supported_Keys:["name","version"],EVERYTHING:"everything",COMMENT_TIMELINE:"commentTimeline",COMMENT_CTA_TIMELINE:"commentCTATimeline",locales:{supportedLocales:["ar_AE","bg_BG","bn_IN","cs_CZ","cy_GB","da_DK","de_DE","el_GR","en_US","es_ES","et_EE","fi_FI","fil_PH","fr_FR","he_IL","hi_IN","hu_HU","id_ID","it_IT","ja_JP","ko_KR","lt_LT","lv_LV","ms_MY","nb_NO","nl_NL","pl_PL","pt_BR","pt_PT","ro_RO","ru_RU","sk_SK","sl_SI","sv_SE","ta_IN","th_TH","tr_TR","uk_UA","vi_VN","zh_CN","zh_TW"],fallbackLocales:{ar_EG:"ar_AE",ar_KW:"ar_AE",ar_MENA:"ar_AE",ar_QA:"ar_AE",ar_SA:"ar_AE",de_AT:"de_DE",de_CH:"de_DE",de_LU:"de_DE",en_AE:"en_US",en_AFRICA:"en_US",en_AU:"en_US",en_BE:"en_US",en_CA:"en_US",en_CIS:"en_US",en_EG:"en_US",en_GB:"en_US",en_GR:"en_US",en_HK:"en_US",en_ID:"en_US",en_IE:"en_US",en_IL:"en_US",en_IN:"en_US",en_KW:"en_US",en_LU:"en_US",en_MENA:"en_US",en_MY:"en_US",en_NG:"en_US",en_NZ:"en_US",en_PH:"en_US",en_QA:"en_US",en_SA:"en_US",en_SG:"en_US",en_TH:"en_US",en_VN:"en_US",en_ZA:"en_US",es_AR:"es_ES",es_CL:"es_ES",es_CO:"es_ES",es_CR:"es_ES",es_EC:"es_ES",es_GT:"es_ES",es_LA:"es_ES",es_MX:"es_ES",es_PE:"es_ES",es_PR:"es_ES",fr_BE:"fr_FR",fr_CA:"fr_FR",fr_CH:"fr_FR",fr_LU:"fr_FR",it_CH:"it_IT",nl_BE:"nl_NL",ru_CIS:"ru_RU",zh_HK:"zh_TW"},rtlLocales:["ar_AE","he_IL"],defaultLocale:"en_US"},Optimizations:{DYNAMIC_LOADING:"dynamicLoading"},displayStrings:{LOC_JUST_NOW:"just now",LOC_ONE_MINUTE_AGO:"a minute ago",LOC_MULTIPLE_MINUTES_AGO:"{0} minutes ago",LOC_ONE_HOUR_AGO:"an hour ago",LOC_MULTIPLE_HOURS_AGO:"{0} hours ago",LOC_ONE_DAY_AGO:"1 day ago",LOC_MULTIPLE_DAYS_AGO:"{0} days ago",LOC_ONE_WEEK_AGO:"1 week ago",LOC_MULTIPLE_WEEKS_AGO:"{0} weeks ago",LOC_ONE_MONTH_AGO:"1 month ago",LOC_MULTIPLE_MONTHS_AGO:"{0} months ago",LOC_ONE_YEAR_AGO:"1 year ago",LOC_MULTIPLE_YEARS_AGO:"{0} years ago",LOC_ACCEPT_BUTTON_TEXT:"Accept",LOC_REJECT_BUTTON_TEXT:"Decline",LOC_VIEW_BUTTON_TEXT:"View",LOC_ACCEPTED_TEXT:"Accepted",LOC_REJECTED_TEXT:"Declined",LOC_ONE_NEW_NOTIFICATION_HEADER:"1 Unread Notification",LOC_MULTIPLE_NOTIFICATIONS_HEADER:"{0} Unread Notifications",LOC_SHOW_MORE_REQUESTS:"SHOW MORE REQUESTS",LOC_DISMISS:"Dismiss this notification",LOC_UNPIN:"Unpin",LOC_REQUEST_DISMISSED:"Your request has been dismissed.",LOC_MARK_AS_READ:"Mark as read",LOC_MARK_AS_UNREAD:"Mark as unread",LOC_DATE_SUBCONTENT_HEADER:"Due By:",LOC_UNDO:"Undo",LOC_REQUESTS:"REQUESTS",LOC_NOTIFICATIONS:"NOTIFICATIONS",LOC_NOTIFICATIONS_SMALL:"Notifications",LOC_WELCOME_SCREEN_HEADER:"Your notifications will appear here",LOC_WELCOME_SCREEN_DETAILS:"Receive important information about our products and services, your collaboration with fellow users, and other updates relevant to you.",LOC_MORE_ACTIONS:"More actions",LOC_EMAIL_FROM_SUBCONTENT_HEADER:"From:",LOC_IMPORTANT:"Important",LOC_NEW:"New",LOC_TODAY:"Today",LOC_EARLIER:"Earlier",LOC_EVERYTHING:"Everything",LOC_NO_NOTIFICATIONS_TEXT:"Activity and notifications will appear here.",LOC_LOAD_MORE_NOTIFICATIONS:"Load more notifications",LOC_NO_MATCHING_NOTIFICATIONS:"No matching notifications could be found.",LOC_SHOW_ALL_NOTIFICATIONS:"Show all notifications",LOC_NOTIFICATION_DISMISSED:"Notification dismissed.",LOC_SHOW:"Show",LOC_ONE_NEW_NOTIFICATION:"1 new notification",LOC_MULTIPLE_NEW_NOTIFICATION:"{0} new notifications",LOC_UPCOMING:"Upcoming",LOC_LIVE:"Live",LOC_ON_DEMAND:"On-demand"},cacheMessages:{INIT:"Init",DEFAULT:"Default"}},mr="UNCWidgetPopOver",vr={TYPE_BEHANCE:"com.adobe.behance.v1",TYPE_FOLDER_COLLAB:"com.adobe.stormcloud.v1",TYPE_CUSTOM_TIMELINE:"com.adobe.accc.generic.v1",TYPE_DESIGN_LIBRARY:"com.adobe.designlibrary.v1",TYPE_ANYWHERE_PRODUCTION:"com.adobe.anywhere.production.v1",TYPE_SPARK:"com.adobe.spark.v1",SUBTYPE_BEHANCE_INVITATION_FEEDBACK_CIRCLE:"invitation.feedback.circle",SUBTYPE_BEHANCE_INVITATION_COOWN_PROJECT:"invitation.coown.project",SUBTYPE_BEHANCE_INVITATION_COOWN_COLLECTION:"invitation.coown.collection",SUBTYPE_BEHANCE_NOTIFICATION_PROJECT_APPRECIATED:"notification.project.appreciated",SUBTYPE_BEHANCE_NOTIFICATION_PROJECT_COMMENT:"notification.project.comment",SUBTYPE_BEHANCE_NOTIFICATION_PROJECT_COLLECTION_ADD:"notification.project.collection.add",SUBTYPE_BEHANCE_NOTIFICATION_WIP_COMMENT:"notification.wip.comment",SUBTYPE_BEHANCE_NOTIFICATION_COLLECTION_FOLLOWER:"notification.collection.follower",SUBTYPE_BEHANCE_NOTIFICATION_USER_FOLLOWER:"notification.user.follower",SUBTYPE_BEHANCE_NOTIFICATION_USER_SOCIAL_FRIEND_JOIN:"notification.user.social.friend.join",SUBTYPE_FOLDER_COLLAB_INVITATION_RECEIVE:"sharing.invite",SUBTYPE_FOLDER_COLLAB_INVITATION_ACCEPT_SELF:"sharing.invite.accept.self",SUBTYPE_FOLDER_COLLAB_INVITATION_ACCEPT_OTHER:"sharing.invite.accept.other",SUBTYPE_FOLDER_COLLAB_NOTIFICATION_ASSET_COMMENT:"notification.asset.comment",SUBTYPE_FOLDER_COLLAB_INVITATION_UPDATE_ASSESS:"sharing.collaboration.updaterole",SUBTYPE_DESIGN_LIBRARY_INVITATION_RECEIVE:"sharing.invite",SUBTYPE_DESIGN_LIBRARY_INVITATION_ACCEPT_SELF:"sharing.invite.accept.self",SUBTYPE_DESIGN_LIBRARY_INVITATION_ACCEPT_OTHER:"sharing.invite.accept.other",SUBTYPE_DESIGN_LIBRARY_INVITATION_UPDATE_ASSESS:"sharing.collaboration.updaterole",SUBTYPE_ANYWHERE_PRODUCTION_INVITATION_RECEIVE:"sharing.invite",SUBTYPE_REDHAWK_COMMENT:"com.adobe.redhawk.comment",SUBTYPE_REDHAWK_COMMENT_ADD:"com.adobe.redhawk.comment_add",SUBTYPE_REDHAWK_COMMENT_DELETE:"com.adobe.redhawk.comment_delete",SUBTYPE_REDHAWK_COMMENT_MODIFY:"com.adobe.redhawk.comment_modify",SUBTYPE_REDHAWK_COMMENT_REPLY:"com.adobe.redhawk.comment_reply",SUBTYPE_REDHAWK_COMMENT_RESOLVE:"com.adobe.redhawk.comment_resolve",SUBTYPE_SPARK_INVITATION_RECEIVE:"sharing.invite",HEADER_AUTHORIZATION:"Authorization",PINNED_DEFAULT_VIEW_SIZE:3,TIMESTAMP_KEY:"sort-timestamp",DEFAULT_TARGET_CLIENT_ID:"CreativeCloudWeb1",DEFAULT_TARGET_SCOPE:"openid,creative_cloud,read_organizations,additional_info.screen_name,additional_info.secondary_email",NOTIFICATION_STATE_NEW:"NEW",NOTIFICATION_STATE_READ:"READ",NOTIFICATION_STATE_UNREAD:"UNREAD",NOTIFICATION_STATE_ACCEPT_COMPLETE:"ACCEPTCOMPLETE",NOTIFICATION_STATE_REJECT_COMPLETE:"REJECTCOMPLETE",NOTIFICATION_STATE_EXPIRED:"EXPIRED",NOTIFICATION_STATE_REMOVE:"REMOVE",NOTIFICATION_STATE_PROGRESS:"PROGRESS",NOTIFICATION_STATE_DISMISSED:"DISMISS",EVENT_TIMELINE:"eventTimeline"};function yr(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var i=t.length;return _r(t,void 0!==n&&n<i?n:i)}return e(t,n)}function br(e){return function(e){if(Array.isArray(e))return _r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Cr(e){return Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cr(e)}function Er(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Sr(i.key),i)}}function Sr(e){var t=function(e,t){if("object"!=Cr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Cr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cr(t)?t:String(t)}var Nr=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getLocalizedDisplayStrings=function(){return t.localizedDisplayStrings||(t.localizedDisplayStrings=JSON.parse(JSON.stringify(t.localizedStrings||t.displayData))),t.localizedDisplayStrings},this.timeStampDrift=0,this.deviceLocale="en_US",this.displayData=gr.displayStrings,this.isHiDpi=!1,this.ccAssetsServerURL="https://cc-api-storage.adobe.io",this.stageCCAssetsServerURL="https://cc-api-storage-stage.adobe.io",this.env="prod",this.isWidgetOpen=!1,this.badgeCount=0,this.appName="Creative Cloud",this.imsClientID="",this.ownerOrg=null,this.appID="",this.imagePathMap={},this.surface="WEB",this.showWidgetCrossButton=!1,this.tabIndex=0,this.hostCallBackFn=null,this.notificationUpdateCallbackFn=null,this.onWidgetOpenCloseCallbackFn=null,this.deviceType="",this.ccdGlobalStore=null,this.customNotificationIcon=null,this.searchTypeSubtypes=["".concat(vr.TYPE_BEHANCE,"__").concat(vr.SUBTYPE_BEHANCE_INVITATION_COOWN_PROJECT),"".concat(vr.TYPE_BEHANCE,"__").concat(vr.SUBTYPE_BEHANCE_INVITATION_COOWN_COLLECTION),"".concat(vr.TYPE_FOLDER_COLLAB,"__").concat(vr.SUBTYPE_FOLDER_COLLAB_INVITATION_RECEIVE),"".concat(vr.TYPE_DESIGN_LIBRARY,"__").concat(vr.SUBTYPE_DESIGN_LIBRARY_INVITATION_RECEIVE),"".concat(vr.TYPE_ANYWHERE_PRODUCTION,"__").concat(vr.SUBTYPE_ANYWHERE_PRODUCTION_INVITATION_RECEIVE),"".concat(vr.TYPE_SPARK,"__").concat(vr.SUBTYPE_SPARK_INVITATION_RECEIVE)],this.analyticsEnabled=!1,this.bellIconTheme="",this.notificationsListener=null,this.filterDetails=null,this.premptiveCallCountOnFilterChange=0,this.isShowWidgetRequestPending=!1,this.featureFlagEntries=null,this.isCCDPresent=!1,this.isADSRunning=!1,this.onWidgetLoadError=null,this.onWidgetReadyCallback=null,this.optimizations=[],this.features={},this.onAnalyticsEvent=null,this.theme="light",this.isExpressTheme=!1,this.akamaiTimeStampPromise=null,this.hostPlatform="",this.osPlatform="",this.acceptNotificationsForSurface=[],this.userGuid=""}var t,n,i;return t=e,i=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"deleteInstance",value:function(){e.instance=null}}],(n=[{key:"setTimeStampDrift",value:function(e){e&&(this.timeStampDrift=parseInt(e,10))}},{key:"getTimeStampDrift",value:function(){return this.timeStampDrift}},{key:"setDeviceLocale",value:function(e){this.deviceLocale=e}},{key:"getDeviceLocale",value:function(){return this.deviceLocale}},{key:"setIfHiDpi",value:function(e){this.isHiDpi=e}},{key:"initializeGlobalData",value:function(e){var t=this;u.debug("UNCWidget: initializeGlobalData context is :",e),this.isHiDpi=e.isHiDpi,e.env&&""!==e.env&&(this.env=e.env),e.appName&&""!==e.appName&&(this.appName=e.appName),e.imsClientID&&""!==e.imsClientID&&(this.imsClientID=e.imsClientID),e.appID&&""!==e.appID&&(this.appID=e.appID),e.deviceType&&""!==e.deviceType&&(this.deviceType=e.deviceType),e.surface&&""!==e.surface&&(this.surface=e.surface),e.cssProperties&&"object"===Cr(e.cssProperties)&&(this.cssProperties=e.cssProperties),e.showWidgetCrossButton&&(this.showWidgetCrossButton=e.showWidgetCrossButton),e.tabIndex&&(this.tabIndex=e.tabIndex),e.hostCallBackFn&&"function"==typeof e.hostCallBackFn&&(this.hostCallBackFn=e.hostCallBackFn),e.notificationUpdateCallbackFn&&"function"==typeof e.notificationUpdateCallbackFn&&(this.notificationUpdateCallbackFn=e.notificationUpdateCallbackFn),e.onWidgetOpenCloseCallbackFn&&"function"==typeof e.onWidgetOpenCloseCallbackFn&&(this.onWidgetOpenCloseCallbackFn=e.onWidgetOpenCloseCallbackFn),e.onError&&(this.onWidgetLoadError=e.onError),e.onReady&&(this.onWidgetReadyCallback=e.onReady),e.ownerOrg&&(this.ownerOrg=e.ownerOrg),e.imageIcon&&"object"===Cr(e.imageIcon)&&(this.customNotificationIcon=e.imageIcon),Object.prototype.hasOwnProperty.call(e,"analyticsEnabled")&&void 0!==e.analyticsEnabled&&(this.analyticsEnabled="true"===e.analyticsEnabled.toString().toLowerCase()),e.onAnalyticsEvent&&"function"==typeof e.onAnalyticsEvent&&(this.onAnalyticsEvent=e.onAnalyticsEvent),e.bellIconTheme&&(this.bellIconTheme=e.bellIconTheme),e.globalStore&&(this.ccdGlobalStore=e.globalStore),e.notificationsListener&&(this.notificationsListener=e.notificationsListener),e.filterDetails&&(this.filterDetails=e.filterDetails),e.premptiveCallCountOnFilterChange&&(this.premptiveCallCountOnFilterChange=Number(e.premptiveCallCountOnFilterChange)),e.featureFlagEntries&&(this.featureFlagEntries=e.featureFlagEntries),void 0!==e.isCCDPresent&&(this.isCCDPresent=e.isCCDPresent),e.optimizations&&(this.optimizations=e.optimizations),e.badgeCount&&(this.badgeCount=e.badgeCount),e.theme&&(this.theme=e.theme,this.theme===gr.EXPRESS_THEME&&(this.isExpressTheme=!0)),e.features&&(this.features=e.features),e.hostPlatform&&(this.hostPlatform=e.hostPlatform),e.userGuid&&(this.userGuid=e.userGuid),e.acceptNotificationsForSurface&&(Array.isArray(e.acceptNotificationsForSurface)?e.acceptNotificationsForSurface.forEach((function(e){return t.acceptNotificationsForSurface.push(e)})):this.acceptNotificationsForSurface.push(e.acceptNotificationsForSurface))}},{key:"sanitizeLocaleValue",value:function(e){return gr.locales.supportedLocales.indexOf(e)>-1?e:void 0!==gr.locales.fallbackLocales[e]?(u.log("UNCWidget: GlobalData: Using fallback locale:",gr.locales.fallbackLocales[e]),gr.locales.fallbackLocales[e]):(void 0!==e&&u.error(e,"is not a supported locale by Notifications client. Please check that you have provided the correct locale value and it is in the list of supported locales. Falling back to default locale en_US"),gr.locales.defaultLocale)}},{key:"setLocalizedDisplayStrings",value:function(e){e&&(this.localizedDisplayStrings=e)}},{key:"setAkamaiTimeStampPromise",value:function(e){e&&(this.akamaiTimeStampPromise=e)}},{key:"getAkamaiTimeStampPromise",value:function(){return this.akamaiTimeStampPromise}},{key:"appendInSearchTypeSubtypeList",value:function(e){var t=yr(br,new Set([].concat(yr(br,e),yr(br,this.searchTypeSubtypes))));this.searchTypeSubtypes=t}}])&&Er(t.prototype,n),i&&Er(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Or(e){return Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Or(e)}function Tr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ir(i.key),i)}}function Ir(e){var t=function(e,t){if("object"!=Or(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Or(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Or(t)?t:String(t)}var wr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.filesPanelEnabled=!0,this.designLibraryFeatureEnabled=!0}var t,n,i;return t=e,i=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"deleteInstance",value:function(){e.instance=null}}],(n=[{key:"handleIncomingUserContextData",value:function(e){u.debug("UNCWidget: UserContextDataHandler: handleIncomingUserContextData: featureJsonObj is : ",e);var t=e;if(t["feature-response"]&&t["feature-response"]["feature-entry"]&&Array.isArray(t["feature-response"]["feature-entry"]))for(var n=t["feature-response"]["feature-entry"],i=n.length,r=0;r<i;r+=1){var o=n[r];"com.adobe.oobe.acc.v1.filesPanelEnabled"===o["@id"]?"false"===o["@state"]?(u.debug("UNCWidget: UserContextDataHandler: handleIncomingUserContextData: filesPanel is disabled from FES and therefore no stormcloud notification will be shown"),this.filesPanelEnabled=!1):(u.debug("UNCWidget: UserContextDataHandler: handleIncomingUserContextData: filesPanel is enabled from FES"),this.filesPanelEnabled=!0):"com.adobe.oobe.acc.v1.market.designLibrary"===o["@id"]&&("false"===o["@state"]?(u.debug("UNCWidget: UserContextDataHandler: handleIncomingUserContextData: designLibrary is disabled from FES and therefore no library notification will be shown"),this.designLibraryFeatureEnabled=!1):(u.debug("UNCWidget: UserContextDataHandler: handleIncomingUserContextData: designLibrary is enabled from FES"),this.designLibraryFeatureEnabled=!0))}}}])&&Tr(t.prototype,n),i&&Tr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ar(e){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(e)}function kr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Dr(i.key),i)}}function Dr(e){var t=function(e,t){if("object"!=Ar(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ar(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ar(t)?t:String(t)}var Pr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"checkNotificationRenderedAsNonAnnouncement",value:function(e,t){return!this.isAnnouncementNotificationAndInNewOrUnReadState(e)||!!this.isAnnouncementNotificationTerminated(e)||t!==gr.Announcement_Notifications_Section}},{key:"isAnnouncementNotification",value:function(e){return e&&e.isAnnouncementNotification}},{key:"isAnnouncementNotificationAndInNewOrUnReadState",value:function(e){return this.isAnnouncementNotification(e)&&(e.state===vr.NOTIFICATION_STATE_NEW||e.state===vr.NOTIFICATION_STATE_UNREAD)}}],(n=null)&&kr(t.prototype,n),i&&kr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Rr(e){return Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rr(e)}function xr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Fr(i.key),i)}}function Fr(e){var t=function(e,t){if("object"!=Rr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Rr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rr(t)?t:String(t)}Pr.isAnnouncementNotificationTerminated=function(e){if(!e)return!1;var t=(new Date).getTime(),n=e.renderingOrderTimestamp+864e5*parseInt(gr.Announcement_Notifications_Default_Expiry_In_Days,10);return e.announcementExpiryDate&&(n=e.announcementExpiryDate.getTime()),t>=n};var Lr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"isEventNotification",value:function(e){return e.viewtype===vr.EVENT_TIMELINE}},{key:"hasEventNotification",value:function(e){var t=this;return e.some((function(e){return t.isEventNotification(e)}))}},{key:"setTimestampPromiseIfEventNotification",value:function(e){this.hasEventNotification(e)&&Nr.getInstance().setAkamaiTimeStampPromise(Jf.getCurrentTimeFromAkamai())}},{key:"initializeEventNotification",value:function(e){if(this.isEventNotification({viewtype:e.viewtype})){var t,n,i,r={isEventType:!0},o={};return o.goLiveTime=null!=e&&null!==(t=e.eventData)&&void 0!==t&&t.goLiveTime?parseInt(e.eventData.goLiveTime,10):null,o.goLiveExpireTime=null!=e&&null!==(n=e.eventData)&&void 0!==n&&n.goLiveExpireTime?parseInt(e.eventData.goLiveExpireTime,10):null,o.title=null==e||null===(i=e.eventData)||void 0===i?void 0:i.title,o.markExpireTime=o.goLiveExpireTime?o.goLiveExpireTime+gr.SEVEN_DAYS_IN_SECOND:null,!o.goLiveTime||!o.goLiveExpireTime||!o.title||o.goLiveTime>o.goLiveExpireTime||(r.eventNotificationData=o),r}return{isEventType:!1}}}],(n=null)&&xr(t.prototype,n),i&&xr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ur(){return"UXP"===Nr.getInstance().hostPlatform}Lr.displayStrings=Nr.getInstance().getLocalizedDisplayStrings();var Mr=n(5466),jr=n.n(Mr),Wr=n(4407),Hr=n(6116),qr=n.n(Hr);function Vr(e){return Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vr(e)}function Br(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Gr(i.key),i)}}function Gr(e){var t=function(e,t){if("object"!=Vr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Vr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vr(t)?t:String(t)}var zr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._acceptRejectRequestDetailsObj=t}var t,n,i;return t=e,(n=[{key:"executeRequest",value:function(){var e=this,t=!1,n=ra.getInstance().sendMessage(gr.GET_USER_PROFILE,{},gr.CLIENT_TARGET_TYPE,"",!1);return void 0!==n.AccessToken&&""!==n.AccessToken&&new Promise((function(i,r){var o=e._acceptRejectRequestDetailsObj.url,a=o,s=n.AccessToken;o&&-1!==o.indexOf(gr.IMS_TOKEN_STRING)&&(a=o.replace(gr.IMS_TOKEN_STRING,s),t=!0);var c={hostname:a,methodType:e._acceptRejectRequestDetailsObj.method,responseCallback:function(t){u.debug("UNCWidget: AcceptRejectInvitationHandler: executeRequest - Success Response Handler",e._acceptRejectRequestDetailsObj),i(t)}.bind(e),errorCallback:function(n){u.warn("UNCWidget: AcceptRejectInvitationHandler: executeRequest - Error Response Handler",e._acceptRejectRequestDetailsObj,n),n.accessTokenSent=t,r(n)}.bind(e)};e.httpComm=new ne(c);var l={};e._acceptRejectRequestDetailsObj.body?e._acceptRejectRequestDetailsObj.body instanceof Array?0===e._acceptRejectRequestDetailsObj.body.length?l.content="{}":l.content=JSON.stringify(e._acceptRejectRequestDetailsObj.body):"object"===Vr(e._acceptRejectRequestDetailsObj.body)?l.content=JSON.stringify(e._acceptRejectRequestDetailsObj.body):l.content=e._acceptRejectRequestDetailsObj.body:l.content="{}",e._acceptRejectRequestDetailsObj.headers?(l.requestHeaders=JSON.parse(JSON.stringify(e._acceptRejectRequestDetailsObj.headers)),l.requestHeaders.Authorization&&(l.requestHeaders.Authorization="Bearer ".concat(s),t=!0)):l.requestHeaders={},e.httpComm.SendRequest(l)}))}}])&&Br(t.prototype,n),i&&Br(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Kr(e){return Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kr(e)}function Yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(n),!0).forEach((function(t){Jr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jr(e,t,n){return(t=Qr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Qr(i.key),i)}}function Qr(e){var t=function(e,t){if("object"!=Kr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Kr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Kr(t)?t:String(t)}var Zr=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hideFetchingSpinnerState=function(){t.container.setState(Xr(Xr({},t.state),{},{showFetchingSpinner:!1}))},this.hideFetchingSpinnerStateForSearchCall=function(){t.container.setState(Xr(Xr({},t.state),{},{showFetchingSpinnerInCaseOfSearchCall:!1}))}}var t,n,i;return t=e,n=[{key:"init",value:function(e){this.container=e}},{key:"setFetchingSpinnerState",value:function(){this.container.setState(Xr(Xr({},this.state),{},{showFetchingSpinner:!0})),setTimeout(this.hideFetchingSpinnerState,3e4)}},{key:"setFetchingSpinnerStateForSearchCall",value:function(){this.container.setState(Xr(Xr({},this.state),{},{showFetchingSpinnerInCaseOfSearchCall:!0})),setTimeout(this.hideFetchingSpinnerStateForSearchCall,3e4)}},{key:"setPinnedHistoricalNotificationsAvailable",value:function(){this.container.setState(Xr(Xr({},this.state),{},{pinnedHistoricalNotificationsAvailable:!0}))}},{key:"resetPinnedHistoricalNotificationsAvailable",value:function(){this.container.setState(Xr(Xr({},this.state),{},{pinnedHistoricalNotificationsAvailable:!1}))}},{key:"getPinnedHistoricalNotificationsAvailable",value:function(){return this.container.state.pinnedHistoricalNotificationsAvailable}},{key:"resetPinnedHistoricalNotificationsAvailableAndButtonClickState",value:function(){this.container.setState(Xr(Xr({},this.state),{},{pinnedHistoricalNotificationsAvailable:!1,buttonClickInProgress:!1}))}},{key:"setButtonClickInProgress",value:function(){this.container.setState(Xr(Xr({},this.state),{},{buttonClickInProgress:!0}))}},{key:"resetButtonClickInProgress",value:function(){this.container.setState(Xr(Xr({},this.state),{},{buttonClickInProgress:!1}))}},{key:"setSelectedFilter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{filterID:gr.EVERYTHING,value:gr.EVERYTHING};this.container.setState((function(t){return Xr(Xr({},t),{},{selectedFilter:e})}))}},{key:"getSelectedFilter",value:function(){return this.container.state.selectedFilter}}],i=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"deleteInstance",value:function(){e.instance=null}}],n&&$r(t.prototype,n),i&&$r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function eo(e){return eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eo(e)}function to(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,no(i.key),i)}}function no(e){var t=function(e,t){if("object"!=eo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=eo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eo(t)?t:String(t)}var io=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,n=[{key:"getDefaultObjectForConfigurationsForUNCForAnalytics",value:function(){var e={xApiKey:"unc-thor-service",apiKey:"unc-thor-service",source:"UNC",project:"unc-thor-service"};return e}},{key:"sendAnalyticsForReceiptOfNotification",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Nr.getInstance().analyticsEnabled){u.debug("UNCWidget: CCDEngineAnalyticsHandler: sendAnalyticsForReceiptOfNotification :  notification object is ",e);var n,i,r={},o={};r.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCForAnalytics();var a={"event.type":"receipt","event.subcategory":"Message"};if(this.setConstantFieldsWithValues(a),t||(a["event.error_type"]="parsing-error"),e.id&&""!==e.id&&(a["content.id"]=e.id),e.type&&""!==e.type&&e.subType&&""!==e.subType&&(a["content.type"]="".concat(e.type,":").concat(e.subType)),a["content.status"]=e.state?e.state.toLowerCase():"read",a["event.subtype"]="notification",e.trackingSystemPayload&&""!==e.trackingSystemPayload){a["ans.client_payload"]=e.trackingSystemPayload,o=e.trackingSystemPayload;try{o=JSON.parse(o),Object.prototype.hasOwnProperty.call(o,He.CAMPAIGN_ID)&&(n=o.CAMPAIGN_ID),Object.prototype.hasOwnProperty.call(o,He.VARIATION_ID)&&(i=o.VARIATION_ID)}catch(e){u.warn("UNCWidget: CCDAnalyticsHandler: sendAnalyticsForReceiptOfNotification : notifObj.trackingSystemPayload parsing failed with error : ",e)}}e.contentSourceId&&""!==e.contentSourceId&&(a["custom.content_source_id"]=e.contentSourceId),n&&(a["exp.campaign_id"]=n),i&&(a["exp.variation_id"]=i),e.isPinned&&!0===e.isPinned?a["event.value"]="request":a["event.value"]="notification",this.setViewTypeAnalytics(a,e);var s=Jf.getAuthorForNotificationTypeSubtype(e.type,e.subType);s&&""!==s&&(a["content.author"]=s),u.debug("UNCWidget: CCDAnalyticsHandler: sendAnalyticsForReceiptOfNotification: sending event is: ",a),r.data=a,ra.getInstance().sendMessage("SendAnalytics",r,gr.DEFAULT_TARGET_TYPE,gr.ANALYTICS_DESKTOP_TARGET_ID)}}},{key:"sendAnalyticsForViewOfNotification",value:function(e){var t;if(Nr.getInstance().analyticsEnabled){u.debug("UNCWidget: CCDEngineAnalyticsHandler: sendAnalyticsForViewOfNotification :  notification object is ",e),e.viewEventSent=!0;var n,i,r={},o={};r.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCForAnalytics();var a={"event.type":"render","event.subcategory":"Message","event.subtype":"notification"};if(this.setFilterRelatedAnalytics(a,e),this.setConstantFieldsWithValues(a),e.id&&""!==e.id&&(a["content.id"]=e.id),e.type&&""!==e.type&&e.subType&&""!==e.subType&&(a["content.type"]="".concat(e.type,":").concat(e.subType)),a["content.name"]=Ve(null===(t=e.payload.timeline)||void 0===t?void 0:t.content),a["content.status"]=e.state?e.state.toLowerCase():"read",e.trackingSystemPayload&&""!==e.trackingSystemPayload){a["ans.client_payload"]=e.trackingSystemPayload,o=e.trackingSystemPayload;try{o=JSON.parse(o),Object.prototype.hasOwnProperty.call(o,He.CAMPAIGN_ID)&&(n=o.CAMPAIGN_ID),Object.prototype.hasOwnProperty.call(o,He.VARIATION_ID)&&(i=o.VARIATION_ID)}catch(e){u.warn("UNCWidget: CCDAnalyticsHandler: sendAnalyticsForViewOfNotification : notifObj.trackingSystemPayload parsing failed with error : ",e)}}e.contentSourceId&&""!==e.contentSourceId&&(a["custom.content_source_id"]=e.contentSourceId),n&&(a["exp.campaign_id"]=n),i&&(a["exp.variation_id"]=i),e.isPinned&&!0===e.isPinned?a["event.value"]="request":a["event.value"]="notification",this.setViewTypeAnalytics(a,e);var s=Jf.getAuthorForNotificationTypeSubtype(e.type,e.subType);s&&""!==s&&(a["content.author"]=s),u.debug("UNCWidget: CCDAnalyticsHandler: sendAnalyticsForViewOfNotification: sending event is: ",a),r.data=a,ra.getInstance().sendMessage("SendAnalytics",r,gr.DEFAULT_TARGET_TYPE,gr.ANALYTICS_DESKTOP_TARGET_ID)}}},{key:"sendAnalyticsForShowMoreRequestsClicked",value:function(){if(Nr.getInstance().analyticsEnabled){var e={};e.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCForAnalytics();var t={"event.type":"click","event.subcategory":"Widget","event.subtype":"view-more"};this.setConstantFieldsWithValues(t),e.data=t,ra.getInstance().sendMessage("SendAnalytics",e,gr.DEFAULT_TARGET_TYPE,gr.ANALYTICS_DESKTOP_TARGET_ID)}}},{key:"sendAnalyticsForUNCInit",value:function(){if(Nr.getInstance().analyticsEnabled){var e={};e.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCForAnalytics();var t={"event.type":"init","event.subtype":"component","event.subcategory":"Widget"};Nr.getInstance().customNotificationIcon&&(t["event.value"]="icon-override"),this.setConstantFieldsWithValues(t),e.data=t,ra.getInstance().sendMessage("SendAnalytics",e,gr.DEFAULT_TARGET_TYPE,gr.ANALYTICS_DESKTOP_TARGET_ID)}}},{key:"sendAnalyticsForNotificationWidgetVisit",value:function(){if(Nr.getInstance().analyticsEnabled){var e={};e.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCForAnalytics();var t={"event.type":"click","event.subcategory":"Widget","event.subtype":"icon"};this.setConstantFieldsWithValues(t),Nr.getInstance().badgeCount>0?(t["event.value"]="true",t["event.count"]=Nr.getInstance().badgeCount):t["event.value"]="false",e.data=t,ra.getInstance().sendMessage("SendAnalytics",e,gr.DEFAULT_TARGET_TYPE,gr.ANALYTICS_DESKTOP_TARGET_ID)}}},{key:"sendAnalyticsForWidgetRendered",value:function(){if(Nr.getInstance().analyticsEnabled){var e={};e.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCForAnalytics();var t={"event.type":"render","event.subcategory":"Widget","event.subtype":"component"};this.setConstantFieldsWithValues(t),e.data=t,ra.getInstance().sendMessage("SendAnalytics",e,gr.DEFAULT_TARGET_TYPE,gr.ANALYTICS_DESKTOP_TARGET_ID)}}},{key:"sendAnalyticsForWidgetClosed",value:function(){if(Nr.getInstance().analyticsEnabled){var e={};e.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCForAnalytics();var t={"event.type":"close","event.subcategory":"Widget","event.subtype":"component"};this.setConstantFieldsWithValues(t),e.data=t,ra.getInstance().sendMessage("SendAnalytics",e,gr.DEFAULT_TARGET_TYPE,gr.ANALYTICS_DESKTOP_TARGET_ID)}}},{key:"sendAnalyticsForUserTriggeredScroll",value:function(){if(Nr.getInstance().analyticsEnabled){var e={};e.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCForAnalytics();var t={"event.type":"click","event.subcategory":"Widget","event.subtype":"scroll"};this.setFilterRelatedAnalytics(t),this.setConstantFieldsWithValues(t),e.data=t,ra.getInstance().sendMessage("SendAnalytics",e,gr.DEFAULT_TARGET_TYPE,gr.ANALYTICS_DESKTOP_TARGET_ID)}}},{key:"sendAnalyticsForFilterClick",value:function(e){if(Nr.getInstance().analyticsEnabled){var t={};t.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCForAnalytics();var n={"event.type":"click","event.subcategory":"Widget","event.subtype":"filter"};n["ui.filter"]=e.value,this.setConstantFieldsWithValues(n),t.data=n,ra.getInstance().sendMessage("SendAnalytics",t,gr.DEFAULT_TARGET_TYPE,gr.ANALYTICS_DESKTOP_TARGET_ID)}}},{key:"sendAnalyticsForButtonClick",value:function(e){if(Nr.getInstance().analyticsEnabled){var t={};t.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCForAnalytics();var n={"event.type":"click","event.subcategory":"Widget"};n["event.subtype"]=e,this.setFilterRelatedAnalytics(n),this.setConstantFieldsWithValues(n),t.data=n,ra.getInstance().sendMessage("SendAnalytics",t,gr.DEFAULT_TARGET_TYPE,gr.ANALYTICS_DESKTOP_TARGET_ID)}}},{key:"sendAnalyticsForNotificationAction",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(Nr.getInstance().analyticsEnabled){u.debug("UNCWidget: CCDEngineAnalyticsHandler: sendAnalyticsForNotificationAction :  notification object is ",e,t);var o={};o.projectConfigDetails=this.getDefaultObjectForConfigurationsForUNCForAnalytics();var a,s,c={},l={};if(c["event.type"]="click",c["event.subtype"]=t,c["event.subcategory"]="Message",this.setFilterRelatedAnalytics(c,e),this.setConstantFieldsWithValues(c),e.id&&""!==e.id&&(c["content.id"]=e.id),e.type&&""!==e.type&&e.subType&&""!==e.subType&&(c["content.type"]="".concat(e.type,":").concat(e.subType)),c["content.name"]=Ve(null===(n=e.payload.timeline)||void 0===n?void 0:n.content),c["content.status"]=e.state?e.state.toLowerCase():"read",e.trackingSystemPayload&&""!==e.trackingSystemPayload){c["ans.client_payload"]=e.trackingSystemPayload,l=e.trackingSystemPayload;try{l=JSON.parse(l),Object.prototype.hasOwnProperty.call(l,He.CAMPAIGN_ID)&&(a=l.CAMPAIGN_ID),Object.prototype.hasOwnProperty.call(l,He.VARIATION_ID)&&(s=l.VARIATION_ID)}catch(e){u.warn("UNCWidget: CCDAnalyticsHandler: sendAnalyticsForNotificationAction : notifObj.trackingSystemPayload parsing failed with error : ",e)}}if(e.contentSourceId&&""!==e.contentSourceId&&(c["custom.content_source_id"]=e.contentSourceId),a&&(c["exp.campaign_id"]=a),s&&(c["exp.variation_id"]=s),e.isPinned&&!0===e.isPinned?c["event.value"]="request":c["event.value"]="notification",this.setViewTypeAnalytics(c,e),""!==i&&(c["content.action"]=encodeURIComponent(i)),r)if(c["event.clicktype"]=t,Array.isArray(r)){var f=[];r.forEach((function(e){f.push(e.workflow)})),c["event.value"]=f.join("|"),c["content.action"]=f.join("|")}else c["event.value"]=r.workflow,c["content.action"]=r.workflow;var d=Jf.getAuthorForNotificationTypeSubtype(e.type,e.subType);d&&""!==d&&(c["content.author"]=d),u.debug("UNCWidget: CCDAnalyticsHandler: sendAnalyticsForViewOfNotification: sending event is: ",c),o.data=c,ra.getInstance().sendMessage("SendAnalytics",o,gr.DEFAULT_TARGET_TYPE,gr.ANALYTICS_DESKTOP_TARGET_ID)}}},{key:"setConstantFieldsWithValues",value:function(e){if(e["event.workflow"]="UNC",e["event.category"]="DESKTOP",e["source.platform"]="DESKTOP",e["source.name"]="UNC",e["source.version"]=Ge(),Nr.getInstance().imsClientID&&""!==Nr.getInstance().imsClientID&&(e["source.client_id"]=Nr.getInstance().imsClientID),Nr.getInstance().appID&&""!==Nr.getInstance().appID&&(e["source.app_id"]=Nr.getInstance().appID),If.getInstance().context.analyticsConfig&&If.getInstance().context.analyticsConfig.componentDetails&&"object"===eo(If.getInstance().context.analyticsConfig.componentDetails))for(var t=Object.keys(If.getInstance().context.analyticsConfig.componentDetails),n=0;n<t.length;n+=1){var i=t[n];-1!==gr.Component_Supported_Keys.indexOf(i)&&("name"===i?e["env.com.name"]=If.getInstance().context.analyticsConfig.componentDetails[i]:"version"===i&&(e["env.com.version"]=If.getInstance().context.analyticsConfig.componentDetails[i]))}if(If.getInstance().context.analyticsConfig&&If.getInstance().context.analyticsConfig.consumerDetails&&"object"===eo(If.getInstance().context.analyticsConfig.consumerDetails))for(var r=Object.keys(If.getInstance().context.analyticsConfig.consumerDetails),o=0;o<r.length;o+=1){var a=r[o];-1!==gr.Consumer_Supported_Keys.indexOf(a)&&(e["consumer.".concat(a)]=If.getInstance().context.analyticsConfig.consumerDetails[a])}}},{key:"setFilterRelatedAnalytics",value:function(e,t){if(Nr.getInstance().filterDetails&&(e["ui.filter"]=Zr.getInstance().getSelectedFilter().value),t){var n=Jf.getPipeSeparatedFilters(t);Jf.isValidString(n)&&(e["custom.notificationFilterCategory"]=n)}}},{key:"setViewTypeAnalytics",value:function(e,t){t.isAnnouncementNotification&&!0===t.isAnnouncementNotification?e["ui.view_type"]="announcement_notification":t.isPinned&&!0===t.isPinned?e["ui.view_type"]="pinned_notification":e["ui.view_type"]="notification"}}],i=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"deleteInstance",value:function(){e.instance=null}}],n&&to(t.prototype,n),i&&to(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ro(e){return ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ro(e)}function oo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ao(i.key),i)}}function ao(e){var t=function(e,t){if("object"!=ro(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ro(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ro(t)?t:String(t)}var so=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,n=[{key:"getDefaultObjectForUNCForAnalytics",value:function(){var e={xApiKey:"unc-thor-service",apiKey:"unc-thor-service",project:"unc-thor-service",source:"UNC"};return"prod"!==Nr.getInstance().env.toLowerCase()?e.environment="stage":e.environment="prod",e}},{key:"sendAnalyticsForReceiptOfNotification",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Nr.getInstance().analyticsEnabled){u.debug("UNCWidget: UXPAnalyticsHandler: sendAnalyticsForReceiptOfNotification :  notification object is ",e);var n,i,r=new(We())(this.getDefaultObjectForUNCForAnalytics());r.initializeDefaultData();var o={};if(r.setDataValue(gr.Event_Section,"type","receipt"),r.setDataValue(gr.Event_Section,"subcategory","Message"),this.setConstantFieldsWithValues(r),t||r.setDataValue(gr.Event_Section,"error_type","parsing-error"),e.id&&""!==e.id&&r.setDataValue(gr.Content_Section,"id",e.id),e.type&&""!==e.type&&e.subType&&""!==e.subType&&r.setDataValue(gr.Content_Section,"type","".concat(e.type,":").concat(e.subType)),r.setDataValue(gr.Content_Section,"status",e.state?e.state.toLowerCase():"read"),r.setDataValue(gr.Event_Section,"subtype","notification"),e.trackingSystemPayload&&""!==e.trackingSystemPayload){r.setDataValue("custom","ans.client_payload",e.trackingSystemPayload),o=e.trackingSystemPayload;try{o=JSON.parse(o),Object.prototype.hasOwnProperty.call(o,He.CAMPAIGN_ID)&&(n=o.CAMPAIGN_ID),Object.prototype.hasOwnProperty.call(o,He.VARIATION_ID)&&(i=o.VARIATION_ID)}catch(e){u.warn("UNCWidget: UXPAnalyticsHandler: sendAnalyticsForReceiptOfNotification : notifObj.trackingSystemPayload parsing failed with error : ",e)}}e.contentSourceId&&""!==e.contentSourceId&&r.setDataValue("custom","content_source_id",e.contentSourceId),n&&r.setDataValue("exp","campaign_id",n),i&&r.setDataValue("exp","variation_id",i),e.isPinned&&!0===e.isPinned?r.setDataValue(gr.Event_Section,"value","request"):r.setDataValue(gr.Event_Section,"value","notification"),this.setViewTypeAnalytics(r,e);var a=Jf.getAuthorForNotificationTypeSubtype(e.type,e.subType);if(a&&""!==a&&r.setDataValue(gr.Content_Section,"author",a),Nr.getInstance().onAnalyticsEvent)try{Nr.getInstance().onAnalyticsEvent(r.eventsObject)}catch(e){u.warn("UNCWidget: UXPAnalyticsHandler: sendAnalyticsForReceiptOfNotification : Error in execution onAnalyticsEvent",e)}r.addToCollection(),r.sendToIngest(),Jf.sendEventToReminder(r)}}},{key:"sendAnalyticsForViewOfNotification",value:function(e){if(Nr.getInstance().analyticsEnabled){u.debug("UNCWidget: UXPAnalyticsHandler: sendAnalyticsForViewOfNotification :  notification object is ",e),e.viewEventSent=!0;var t,n,i=new(We())(this.getDefaultObjectForUNCForAnalytics());i.initializeDefaultData();var r={};if(i.setDataValue(gr.Event_Section,"type","render"),i.setDataValue(gr.Event_Section,"subcategory","Message"),this.setFilterRelatedAnalytics(i,e),this.setConstantFieldsWithValues(i),e.id&&""!==e.id&&i.setDataValue(gr.Content_Section,"id",e.id),e.type&&""!==e.type&&e.subType&&""!==e.subType&&i.setDataValue(gr.Content_Section,"type","".concat(e.type,":").concat(e.subType)),i.setDataValue(gr.Content_Section,"status",e.state?e.state.toLowerCase():"read"),i.setDataValue(gr.Event_Section,"subtype","notification"),e.trackingSystemPayload&&""!==e.trackingSystemPayload){i.setDataValue("custom","ans.client_payload",e.trackingSystemPayload),r=e.trackingSystemPayload;try{r=JSON.parse(r),Object.prototype.hasOwnProperty.call(r,He.CAMPAIGN_ID)&&(t=r.CAMPAIGN_ID),Object.prototype.hasOwnProperty.call(r,He.VARIATION_ID)&&(n=r.VARIATION_ID)}catch(e){u.warn("UNCWidget: UXPAnalyticsHandler: sendAnalyticsForViewOfNotification : notifObj.trackingSystemPayload parsing failed with error : ",e)}}e.contentSourceId&&""!==e.contentSourceId&&i.setDataValue("custom","content_source_id",e.contentSourceId),t&&i.setDataValue("exp","campaign_id",t),n&&i.setDataValue("exp","variation_id",n),e.isPinned&&!0===e.isPinned?i.setDataValue(gr.Event_Section,"value","request"):i.setDataValue(gr.Event_Section,"value","notification"),this.setViewTypeAnalytics(i,e);var o=Jf.getAuthorForNotificationTypeSubtype(e.type,e.subType);if(o&&""!==o&&i.setDataValue(gr.Content_Section,"author",o),Nr.getInstance().onAnalyticsEvent)try{Nr.getInstance().onAnalyticsEvent(i.eventsObject)}catch(e){u.warn("UNCWidget: UXPAnalyticsHandler: sendAnalyticsForViewOfNotification : Error in execution onAnalyticsEvent",e)}i.addToCollection(),i.sendToIngest(),Jf.sendEventToReminder(i)}}},{key:"sendAnalyticsForShowMoreRequestsClicked",value:function(){if(Nr.getInstance().analyticsEnabled){var e=new(We())(this.getDefaultObjectForUNCForAnalytics());if(e.initializeDefaultData(),e.setDataValue(gr.Event_Section,"type","click"),e.setDataValue(gr.Event_Section,"subcategory","Widget"),e.setDataValue(gr.Event_Section,"subtype","view-more"),this.setConstantFieldsWithValues(e),Nr.getInstance().onAnalyticsEvent)try{Nr.getInstance().onAnalyticsEvent(e.eventsObject)}catch(e){u.warn("UNCWidget: UXPAnalyticsHandler: sendAnalyticsForShowMoreRequestsClicked : Error in execution onAnalyticsEvent",e)}e.addToCollection(),e.sendToIngest(),Jf.sendEventToReminder(e)}}},{key:"sendAnalyticsForUNCInit",value:function(){if(Nr.getInstance().analyticsEnabled){var e=new(We())(this.getDefaultObjectForUNCForAnalytics());if(e.initializeDefaultData(),e.setDataValue(gr.Event_Section,"type","init"),e.setDataValue(gr.Event_Section,"subtype","component"),e.setDataValue(gr.Event_Section,"subcategory","Widget"),Nr.getInstance().customNotificationIcon&&e.setDataValue(gr.Event_Section,"value","icon-override"),Nr.getInstance().optimizations&&Nr.getInstance().optimizations.length>0){var t=Nr.getInstance().optimizations.map((function(e){return e})).join(" | ");e.setDataValue(gr.Event_Section,"event.value",t),Nr.getInstance().optimizations.includes("disableAnalytics")&&(Nr.getInstance().analyticsEnabled=!1)}if(this.setConstantFieldsWithValues(e),Nr.getInstance().onAnalyticsEvent)try{Nr.getInstance().onAnalyticsEvent(e.eventsObject)}catch(e){u.warn("UNCWidget: UXPAnalyticsHandler: sendAnalyticsForUNCInit : Error in execution onAnalyticsEvent",e)}e.addToCollection(),e.sendToIngest(),Jf.sendEventToReminder(e)}}},{key:"sendAnalyticsForNotificationWidgetVisit",value:function(){if(Nr.getInstance().analyticsEnabled){var e=new(We())(this.getDefaultObjectForUNCForAnalytics());if(e.initializeDefaultData(),e.setDataValue(gr.Event_Section,"type","click"),e.setDataValue(gr.Event_Section,"subcategory","Widget"),e.setDataValue(gr.Event_Section,"subtype","icon"),this.setConstantFieldsWithValues(e),Nr.getInstance().badgeCount>0?(e.setDataValue(gr.Event_Section,"value","true"),e.setDataValue(gr.Event_Section,"count",Nr.getInstance().badgeCount)):e.setDataValue(gr.Event_Section,"value","false"),Nr.getInstance().onAnalyticsEvent)try{Nr.getInstance().onAnalyticsEvent(e.eventsObject)}catch(e){u.warn("UNCWidget: UXPAnalyticsHandler: sendAnalyticsForNotificationWidgetVisit : Error in execution onAnalyticsEvent",e)}e.addToCollection(),e.sendToIngest(),Jf.sendEventToReminder(e)}}},{key:"sendAnalyticsForWidgetRendered",value:function(){if(Nr.getInstance().analyticsEnabled){var e=new(We())(this.getDefaultObjectForUNCForAnalytics());if(e.initializeDefaultData(),e.setDataValue(gr.Event_Section,"type","render"),e.setDataValue(gr.Event_Section,"subtype","component"),e.setDataValue(gr.Event_Section,"subcategory","Widget"),this.setConstantFieldsWithValues(e),Nr.getInstance().onAnalyticsEvent)try{Nr.getInstance().onAnalyticsEvent(e.eventsObject)}catch(e){u.warn("UNCWidget: UXPAnalyticsHandler: sendAnalyticsForWidgetRendered : Error in execution onAnalyticsEvent",e)}e.addToCollection(),e.sendToIngest(),Jf.sendEventToReminder(e)}}},{key:"sendAnalyticsForWidgetClosed",value:function(){if(Nr.getInstance().analyticsEnabled){var e=new(We())(this.getDefaultObjectForUNCForAnalytics());if(e.initializeDefaultData(),e.setDataValue(gr.Event_Section,"type","close"),e.setDataValue(gr.Event_Section,"subtype","component"),e.setDataValue(gr.Event_Section,"subcategory","Widget"),this.setConstantFieldsWithValues(e),Nr.getInstance().onAnalyticsEvent)try{Nr.getInstance().onAnalyticsEvent(e.eventsObject)}catch(e){u.warn("UNCWidget: UXPAnalyticsHandler: sendAnalyticsForWidgetClosed : Error in execution onAnalyticsEvent",e)}e.addToCollection(),e.sendToIngest(),Jf.sendEventToReminder(e)}}},{key:"sendAnalyticsForUserTriggeredScroll",value:function(){if(Nr.getInstance().analyticsEnabled){var e=new(We())(this.getDefaultObjectForUNCForAnalytics());e.initializeDefaultData(),e.setDataValue(gr.Event_Section,"type","click"),e.setDataValue(gr.Event_Section,"subcategory","Widget"),e.setDataValue(gr.Event_Section,"subtype","scroll"),this.setFilterRelatedAnalytics(e),this.setConstantFieldsWithValues(e),e.addToCollection(),e.sendToIngest(),Jf.sendEventToReminder(e)}}},{key:"sendAnalyticsForFilterClick",value:function(e){if(Nr.getInstance().analyticsEnabled){var t=new(We())(this.getDefaultObjectForUNCForAnalytics());if(t.initializeDefaultData(),t.setDataValue(gr.Event_Section,"type","click"),t.setDataValue(gr.Event_Section,"subcategory","Widget"),t.setDataValue(gr.Event_Section,"subtype","filter"),t.setDataValue(gr.UI_Section,"filter",e.value),this.setConstantFieldsWithValues(t),Nr.getInstance().onAnalyticsEvent)try{Nr.getInstance().onAnalyticsEvent(t.eventsObject)}catch(e){u.warn("UNCWidget: UXPAnalyticsHandler: sendAnalyticsForFilterClick : Error in execution onAnalyticsEvent",e)}t.addToCollection(),t.sendToIngest(),Jf.sendEventToReminder(t)}}},{key:"sendAnalyticsForButtonClick",value:function(e){if(Nr.getInstance().analyticsEnabled){var t=new(We())(this.getDefaultObjectForUNCForAnalytics());if(t.initializeDefaultData(),t.setDataValue(gr.Event_Section,"type","click"),t.setDataValue(gr.Event_Section,"subcategory","Widget"),t.setDataValue(gr.Event_Section,"subtype",e),this.setFilterRelatedAnalytics(t),this.setConstantFieldsWithValues(t),Nr.getInstance().onAnalyticsEvent)try{Nr.getInstance().onAnalyticsEvent(t.eventsObject)}catch(e){u.warn("UNCWidget: UXPAnalyticsHandler: sendAnalyticsForButtonClick : Error in execution onAnalyticsEvent",e)}t.addToCollection(),t.sendToIngest(),Jf.sendEventToReminder(t)}}},{key:"sendAnalyticsForNotificationAction",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3?arguments[3]:void 0;if(Nr.getInstance().analyticsEnabled){u.debug("UNCWidget: UXPAnalyticsHandler: sendAnalyticsForNotificationAction :  notification object is ",e);var r,o,a=new(We())(this.getDefaultObjectForUNCForAnalytics());a.initializeDefaultData();var s={};if(a.setDataValue(gr.Event_Section,"type","click"),a.setDataValue(gr.Event_Section,"subtype",t),a.setDataValue(gr.Event_Section,"subcategory","Message"),this.setFilterRelatedAnalytics(a,e),this.setConstantFieldsWithValues(a),e.id&&""!==e.id&&a.setDataValue(gr.Content_Section,"id",e.id),e.type&&""!==e.type&&e.subType&&""!==e.subType&&a.setDataValue(gr.Content_Section,"type","".concat(e.type,":").concat(e.subType)),a.setDataValue(gr.Content_Section,"status",e.state?e.state.toLowerCase():"read"),e.trackingSystemPayload&&""!==e.trackingSystemPayload){a.setDataValue("custom","ans.client_payload",e.trackingSystemPayload),s=e.trackingSystemPayload;try{s=JSON.parse(s),Object.prototype.hasOwnProperty.call(s,He.CAMPAIGN_ID)&&(r=s.CAMPAIGN_ID),Object.prototype.hasOwnProperty.call(s,He.VARIATION_ID)&&(o=s.VARIATION_ID)}catch(e){u.warn("UNCWidget: UXPAnalyticsHandler: sendAnalyticsForNotificationAction : notifObj.trackingSystemPayload parsing failed with error : ",e)}}if(e.contentSourceId&&""!==e.contentSourceId&&a.setDataValue("custom","content_source_id",e.contentSourceId),r&&a.setDataValue("exp","campaign_id",r),o&&a.setDataValue("exp","variation_id",o),e.isPinned&&!0===e.isPinned?a.setDataValue(gr.Event_Section,"value","request"):a.setDataValue(gr.Event_Section,"value","notification"),this.setViewTypeAnalytics(a,e),""!==n&&a.setDataValue(gr.Content_Section,"action",n),i)if(a.setDataValue(gr.Event_Section,"clicktype",t),Array.isArray(i)){var c=[];i.forEach((function(e){c.push(e.workflow)})),a.setDataValue(gr.Event_Section,"value",c.join("|")),a.setDataValue(gr.Event_Section,"action",c.join("|"))}else a.setDataValue(gr.Event_Section,"value",i.workflow),a.setDataValue(gr.Event_Section,"action",i.workflow);var l=Jf.getAuthorForNotificationTypeSubtype(e.type,e.subType);if(l&&""!==l&&a.setDataValue(gr.Content_Section,"author",l),Nr.getInstance().onAnalyticsEvent)try{Nr.getInstance().onAnalyticsEvent(a.eventsObject)}catch(e){u.warn("UNCWidget: UXPAnalyticsHandler: sendAnalyticsForNotificationAction : Error in execution onAnalyticsEvent",e)}a.addToCollection(),a.sendToIngest(),Jf.sendEventToReminder(a)}}},{key:"setConstantFieldsWithValues",value:function(e){e.setDataValue(gr.Event_Section,"workflow","UNC"),e.setDataValue(gr.Event_Section,"category","DESKTOP"),e.setDataValue(gr.Source_Section,"platform","UXP"),e.setDataValue(gr.Source_Section,"name","UNC"),e.setDataValue(gr.Source_Section,"version",Ge()),Nr.getInstance().imsClientID&&""!==Nr.getInstance().imsClientID&&e.setDataValue(gr.Source_Section,"client_id",Nr.getInstance().imsClientID),Nr.getInstance().appID&&""!==Nr.getInstance().appID&&e.setDataValue(gr.Source_Section,"app_id",Nr.getInstance().appID),Nr.getInstance().userGuid&&e.setDataValue(gr.Event_Section,"user_guid",Nr.getInstance().userGuid);var t=Nr&&Nr.getInstance()?Nr.getInstance().getDeviceLocale():null;if(e.setDataValue(gr.Event_Section,"locale",t),If.getInstance().context.analyticsConfig&&If.getInstance().context.analyticsConfig.componentDetails&&"object"===ro(If.getInstance().context.analyticsConfig.componentDetails))for(var n=Object.keys(If.getInstance().context.analyticsConfig.componentDetails),i=0;i<n.length;i+=1){var r=n[i];-1!==gr.Component_Supported_Keys.indexOf(r)&&("name"===r?e.setDataValue(gr.Environment_Section,"com.name",If.getInstance().context.analyticsConfig.componentDetails[r]):"version"===r&&e.setDataValue(gr.Environment_Section,"com.version",If.getInstance().context.analyticsConfig.componentDetails[r]))}if(If.getInstance().context.analyticsConfig&&If.getInstance().context.analyticsConfig.eventDetails&&"object"===ro(If.getInstance().context.analyticsConfig.eventDetails))for(var o=Object.keys(If.getInstance().context.analyticsConfig.eventDetails),a=0;a<o.length;a+=1){var s=o[a];-1!==gr.Event_Supported_Keys.indexOf(s)&&e.setDataValue(gr.Event_Section,s,If.getInstance().context.analyticsConfig.eventDetails[s])}if(If.getInstance().context.analyticsConfig&&If.getInstance().context.analyticsConfig.consumerDetails&&"object"===ro(If.getInstance().context.analyticsConfig.consumerDetails)){for(var c=Object.keys(If.getInstance().context.analyticsConfig.consumerDetails),l=0;l<c.length;l+=1){var u=c[l];-1!==gr.Consumer_Supported_Keys.indexOf(u)&&e.setDataValue(gr.Consumer_Section,u,If.getInstance().context.analyticsConfig.consumerDetails[u])}var f=e.getDevice();f&&""!==f&&e.setDataValue(gr.Consumer_Section,"device",f);var d=e.getOSVersion();d&&""!==d&&e.setDataValue(gr.Consumer_Section,"os_version",d)}}},{key:"setFilterRelatedAnalytics",value:function(e,t){if(Nr.getInstance().filterDetails&&e.setDataValue(gr.UI_Section,"filter",Zr.getInstance().getSelectedFilter().value),t){var n=Jf.getPipeSeparatedFilters(t);Jf.isValidString(n)&&e.setDataValue(gr.Custom_Section,"notificationFilterCategory",n)}}},{key:"setViewTypeAnalytics",value:function(e,t){t.isAnnouncementNotification&&!0===t.isAnnouncementNotification?e.setDataValue(gr.UI_Section,"view_type","announcement_notification"):t.isPinned&&!0===t.isPinned?e.setDataValue(gr.UI_Section,"view_type","pinned_notification"):e.setDataValue(gr.UI_Section,"view_type","notification")}}],i=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"deleteInstance",value:function(){e.instance=null}}],n&&oo(t.prototype,n),i&&oo(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),co=function(){function e(){}return e.getInstance=function(){return null===e.instance&&(Ur()?e.instance=so.getInstance():Nr&&Nr.getInstance()&&Nr.getInstance().surface&&Nr.getInstance().surface.toUpperCase()===gr.SURFACE_WEB?e.instance=Df.getInstance():e.instance=io.getInstance()),e.instance},e.deleteInstance=function(){so.deleteInstance(),Df.deleteInstance(),io.deleteInstance(),e.instance=null},e.instance=null,e}();function lo(e){return lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lo(e)}function uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(n),!0).forEach((function(t){po(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function po(e,t,n){return(t=go(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ho(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,go(i.key),i)}}function go(e){var t=function(e,t){if("object"!=lo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=lo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lo(t)?t:String(t)}var mo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.historicalPinnedToMakeVisible=0}var t,n,i;return t=e,i=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"deleteInstance",value:function(){e.instance=null}}],(n=[{key:"init",value:function(e){this.container=e}},{key:"insertPinnedNotificationAtFront",value:function(e){for(var t=this.container.state.visiblePinnedNotificationsCount,n=this.container.state.pinnedNotifications.slice(),i=0;i<e.length;i+=1){var r=e[i];t<vr.PINNED_DEFAULT_VIEW_SIZE?(t+=1,r.isExpandedPinned=!0,n.unshift(r)):(n[t-1].isExpandedPinned=!1,r.isExpandedPinned=!0,n.unshift(r))}this.container.setState((function(n){var i=e.concat(n.pinnedNotifications);return fo(fo({},n),{},{pinnedNotifications:i,visiblePinnedNotificationsCount:t})}))}},{key:"insertPinnedNotificationAtSpecifiedIndex",value:function(e,t){var n=this.container.state.visiblePinnedNotificationsCount,i=this.container.state.pinnedNotifications.slice();i.splice(e,0,t),e<=n?(n+=1,t.isExpandedPinned=!0):t.isExpandedPinned=!1,this.container.setState((function(e){return fo(fo({},e),{},{pinnedNotifications:i.slice(),visiblePinnedNotificationsCount:n})}))}},{key:"insertPinnedNotificationAtBack",value:function(e){for(var t=this.container.state.visiblePinnedNotificationsCount,n=this.container.state.pinnedNotifications.slice(),i=0;i<e.length;i+=1){var r=e[i];if(t<vr.PINNED_DEFAULT_VIEW_SIZE){t+=1,r.isExpandedPinned=!0,n.push(r);try{(r.state===vr.NOTIFICATION_STATE_READ||Jf.isNotificationStateValidForNew(r.state)&&!0===Nr.getInstance().isWidgetOpen)&&(Nr.getInstance().surface&&Nr.getInstance().surface.toUpperCase()===gr.SURFACE_DESKTOP?io.getInstance().sendAnalyticsForViewOfNotification(r):Df.getInstance().sendAnalyticsForViewOfNotification(r))}catch(e){u.debug("UNCWidget: NotificationProcessorObject: insertPinnedNotificationAtBack - Error in sending analytics for insertPinnedNotificationAtBack received for render")}}else if(this.historicalPinnedToMakeVisible>0){this.historicalPinnedToMakeVisible=this.historicalPinnedToMakeVisible-1,t+=1,r.isExpandedPinned=!0,n.push(r);try{(r.state===vr.NOTIFICATION_STATE_READ||Jf.isNotificationStateValidForNew(r.state)&&!0===Nr.getInstance().isWidgetOpen)&&(Nr.getInstance().surface&&Nr.getInstance().surface.toUpperCase()===gr.SURFACE_DESKTOP?io.getInstance().sendAnalyticsForViewOfNotification(r):Df.getInstance().sendAnalyticsForViewOfNotification(r))}catch(e){u.debug("UNCWidget: PinnedNotificationsController: insertPinnedNotificationAtBack - Error in sending analytics for insertPinnedNotificationAtBack notification received for render",e)}}else r.isExpandedPinned=!1,n.push(r)}this.container.setState((function(n){var i=n.pinnedNotifications.concat(e);return fo(fo({},n),{},{pinnedNotifications:i,visiblePinnedNotificationsCount:t})}))}},{key:"removePinnedNotificationAtIndex",value:function(e){var t=!1,n=e;if(-1!==n){var i=this.container.state.visiblePinnedNotificationsCount,r=this.container.state.pinnedNotifications.slice();n<i?(r.splice(n,1),(i-=1)<vr.PINNED_DEFAULT_VIEW_SIZE&&r.length-i>0&&(r[i].isExpandedPinned=!0,i+=1,r.length-i==0&&(t=!0))):r.splice(n,1),this.container.setState((function(e){return fo(fo({},e),{},{pinnedNotifications:r,visiblePinnedNotificationsCount:i})})),t&&ea.getInstance()._fetchPinnedHistoricalNotifications()}}},{key:"handleButtonClickToFetchMorePinnedNotifications",value:function(e){try{e.eventObject&&(e.eventObject.preventDefault(),e.eventObject.stopImmediatePropagation());var t=!1;try{co.getInstance().sendAnalyticsForShowMoreRequestsClicked()}catch(e){u.warn("UNCWidget: PinnedNotificationsController: handleButtonClickToFetchMorePinnedNotifications - Error in sending analytics for Show More Clicked")}if(!0===this.container.state.buttonClickInProgress)return;for(var n=!0,i=this.container.state.visiblePinnedNotificationsCount,r=this.container.state.pinnedNotifications.slice(),o=r.length-i,a=Math.min(o,vr.PINNED_DEFAULT_VIEW_SIZE),s=0;s<a;s+=1){var c=r[i+s];c.isExpandedPinned=!0;try{(c.state===vr.NOTIFICATION_STATE_READ||Jf.isNotificationStateValidForNew(c.state)&&!0===Nr.getInstance().isWidgetOpen)&&(Nr.getInstance().surface&&Nr.getInstance().surface.toUpperCase()===gr.SURFACE_DESKTOP?io.getInstance().sendAnalyticsForViewOfNotification(c):Df.getInstance().sendAnalyticsForViewOfNotification(c))}catch(e){u.debug("UNCWidget: PinnedNotificationsController: handleButtonClickToFetchMorePinnedNotifications - Error in sending analytics for handleButtonClickToFetchMorePinnedNotifications notification received for render",e)}}i+=a,a<vr.PINNED_DEFAULT_VIEW_SIZE&&this.container.state.pinnedHistoricalNotificationsAvailable?(this.historicalPinnedToMakeVisible=vr.PINNED_DEFAULT_VIEW_SIZE-a,t=!0):n=!1,this.container.setState((function(e){return fo(fo({},e),{},{pinnedNotifications:r,visiblePinnedNotificationsCount:i,buttonClickInProgress:n})})),t&&ea.getInstance()._fetchPinnedHistoricalNotifications()}catch(e){u.warn("UNCWidget: PinnedNotificationsController: handleButtonClickToFetchMorePinnedNotifications - Failed in rendering the notification")}}},{key:"getPinnedNotifications",value:function(){return this.container.state.pinnedNotifications}}])&&ho(t.prototype,n),i&&ho(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function vo(e){return vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vo(e)}function yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yo(Object(n),!0).forEach((function(t){_o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _o(e,t,n){return(t=Eo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Co(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Eo(i.key),i)}}function Eo(e){var t=function(e,t){if("object"!=vo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=vo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vo(t)?t:String(t)}var So=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultState={notifications:[],pinnedNotifications:[],holdNotificationsIds:[],pinnedNotificationIdsInNormalContainer:[],visiblePinnedNotificationsCount:0,showUndoBanner:!1,requestDismissedNotifCount:0,timelineDismissedNotifCount:0,showFetchingSpinner:!1,pinnedHistoricalNotificationsAvailable:!0,buttonClickInProgress:!1,locale:"en_US",theme:"light",selectedFilter:{filterID:gr.EVERYTHING,value:gr.EVERYTHING},showFetchingSpinnerInCaseOfSearchCall:!1},this.scrollPositionOnTop=!0}var t,n,i;return t=e,n=[{key:"init",value:function(e){u.debug("UNCWidget: NotificationsController: init -> isShowWidgetRequestPending val:",Nr.getInstance().isShowWidgetRequestPending),this.container=e,ra.getInstance().sendMessage(gr.GET_LOCAL_HISTORICAL_NOTIFICATIONS,null),Nr.getInstance().isShowWidgetRequestPending&&(u.debug("UNCWidget: NotificationsController: init- handling pending unc open widget request"),Nr.getInstance().isShowWidgetRequestPending=!1,this.showWidget())}},{key:"showWidget",value:function(e){try{var t=this.container.provider;t?t.show(e):(u.debug("UNCWidget: NotificationsController: showWidget- providerRef did not created"),Nr.getInstance().isShowWidgetRequestPending=!0)}catch(e){u.debug("UNCWidget: NotificationsController: showWidget- failed with exception: ",e),Nr.getInstance().isShowWidgetRequestPending=!0}}},{key:"hideWidget",value:function(){var e=this.container.provider;e&&e.hide()}},{key:"getNotificationById",value:function(e){return this.container.notificationsIdVsObjMap.get(e)}},{key:"getAllNotifications",value:function(){return this.container.notificationsIdVsObjMap}},{key:"reloadNotifications",value:function(){this.container.setState((function(e){return bo(bo({},e),{},{notifications:e.notifications.slice(),pinnedNotifications:e.pinnedNotifications.slice()})}))}},{key:"reloadAfterLocaleChange",value:function(e){this.container&&this.container.setState(bo(bo({},this.state),{},{locale:e}))}},{key:"updateTheme",value:function(e){this.container&&(e===gr.EXPRESS_THEME&&(Nr.getInstance().isExpressTheme=!0,e=gr.DEFAULT_THEME),this.container.setState(bo(bo({},this.state),{},{theme:e})))}},{key:"renderNewNotifications",value:function(e){u.debug("UNCWidget: NotificationsController: renderNewNotifications - adding new notifications",e);var t=e.notifications.notification;t.reverse();for(var n=[],i=[],r=[],o=[],a=0;a<t.length;a+=1)this.container.notificationsIdVsObjMap.set(t[a].id,t[a]),Nr.getInstance().isWidgetOpen?i.push(t[a].id):(n.unshift(t[a]),t[a].isPinned&&(o.unshift(t[a]),r.unshift(t[a].id)));this.container.setState((function(e){var t=n.concat(e.notifications),o=e.holdNotificationsIds.concat(i),a=r.concat(e.pinnedNotificationIdsInNormalContainer);return bo(bo({},e),{},{notifications:t,holdNotificationsIds:o,pinnedNotificationIdsInNormalContainer:a})})),o.length>0&&mo.getInstance().insertPinnedNotificationAtFront(o)}},{key:"renderNewNotificationInBetweenIfApplicable",value:function(e){u.debug("UNCWidget: NotificationsController: renderNewNotifications - adding new notifications in between",e);for(var t=this.container.state.notifications.slice(),n=this.container.state.pinnedNotificationIdsInNormalContainer.slice(),i=this.container.state.pinnedNotifications.slice(),r=t.length,o=0;o<t.length;o+=1)if(e.renderingOrderTimestamp>t[o].renderingOrderTimestamp){r=o;break}if(r!==t.length&&(this.container.notificationsIdVsObjMap.set(e.id,e),t.splice(r,0,e),e.isPinned&&n.push(e.id)),this.container.setState((function(e){return bo(bo({},e),{},{notifications:t.slice(),pinnedNotificationIdsInNormalContainer:n.slice()})})),e.isPinned){r=i.length;for(var a=0;a<i.length;a+=1)if(e.renderingOrderTimestamp>i[a].renderingOrderTimestamp){r=a;break}r!==i.length&&mo.getInstance().insertPinnedNotificationAtSpecifiedIndex(r,e)}}},{key:"removeNotificationWithId",value:function(e){var t=this.getNotificationById(e),n=this.container.state.holdNotificationsIds.indexOf(e),i=this.container.state.pinnedNotificationIdsInNormalContainer.indexOf(e),r=this.container.state.pinnedNotificationIdsInNormalContainer.length,o=this.container.state.notifications.indexOf(t),a=this.container.state.notifications.length,s=this.container.state.pinnedNotifications.indexOf(t);this.container.setState((function(e){var t=e.notifications,r=e.holdNotificationsIds,a=e.pinnedNotificationIdsInNormalContainer;return o>-1&&(t=t.slice()).splice(o,1),n>-1&&(r=r.slice()).splice(n,1),i>-1&&(a=a.slice()).splice(i,1),bo(bo({},e),{},{notifications:t,holdNotificationsIds:r,pinnedNotificationIdsInNormalContainer:a})})),s>-1&&mo.getInstance().removePinnedNotificationAtIndex(s),this.container.notificationsIdVsObjMap.delete(e),o>-1&&-1===i&&a-r-1<(Jf.isDeviceTypeMobile()?10:8)&&ea.getInstance().fetchHistoricalNotifications()}},{key:"updateExistingNotifications",value:function(e){try{for(var t=e.notifications.notification,n=0;n<t.length;n+=1){var i=t[n].id;if(this.container.notificationsIdVsObjMap.has(i)){var r=this.getNotificationById(i);r.state=t[n].state,r.timeString=t[n].timeString,r.isPinned=t[n].isPinned}}this.container.setState((function(e){return bo(bo({},e),{},{notifications:e.notifications.slice(),pinnedNotifications:e.pinnedNotifications.slice()})}))}catch(e){u.warn("UNCWidget: NotificationUXController: updateExistingNotifications - Failed in updating the existing notifications")}}},{key:"removeNotificationFromPinnedListInNormalActivityContainer",value:function(e){try{if(e){var t=this.container.state.pinnedNotificationIdsInNormalContainer.indexOf(e);t>-1&&this.container.setState((function(e){var n=e.pinnedNotificationIdsInNormalContainer.slice();return n.splice(t,1),bo(bo({},e),{},{pinnedNotificationIdsInNormalContainer:n})}))}}catch(e){u.warn("UNCWidget: NotificationsController: removeNotificationFromPinnedListInNormalActivityContainer - Failed in removing the notification from list")}}},{key:"renderHistoricalNotifications",value:function(e){u.debug("UNCWidget: NotificationsController: renderHistoricalNotifications - adding historical notifications",e);try{for(var t=e.notifications.notification,n=[],i=[],r=0;r<t.length;r+=1)this.container.notificationsIdVsObjMap.set(t[r].id,t[r]),n.push(t[r]),t[r].isPinned&&i.push(t[r].id);this.container.setState((function(e){var t=e.notifications.concat(n).filter((function(e,t,n){return t===n.findIndex((function(t){return t.id===e.id}))})),r=e.pinnedNotificationIdsInNormalContainer.concat(i).filter((function(e,t,n){return n.indexOf(e)===t}));return bo(bo({},e),{},{notifications:t,pinnedNotificationIdsInNormalContainer:r})}))}catch(e){u.warn("UNCWidget: NotificationUXController: renderHistoricalNotifications - Failed in rendering historical notifications")}}},{key:"renderPinnedHistoricalNotifications",value:function(e){var t=[];this.container.setState(bo(bo({},this.state),{},{buttonClickInProgress:!1}));for(var n=e.notifications.notification,i=0;i<n.length;i+=1)n[i].isPinned&&(this.container.notificationsIdVsObjMap.set(n[i].id,n[i]),t.push(n[i]));mo.getInstance().insertPinnedNotificationAtBack(t)}},{key:"handlePinStateAndTimeStampUpdateForNotifications",value:function(e){try{for(var t=e.notifications.notification,n=0;n<t.length;n+=1){var i=t[n]["notification-id"],r=this.getNotificationById(i);Object.prototype.hasOwnProperty.call(t[n],"isNotificationDismissed")&&(r.isNotificationDismissed=t[n].isNotificationDismissed),t[n].state&&(r.state=t[n].state),t[n].timeString&&(r.timeString=t[n].timeString)}this.container.setState((function(e){return bo(bo({},e),{},{notifications:e.notifications.slice(),pinnedNotifications:e.pinnedNotifications.slice()})}))}catch(e){u.warn("UNCWidget: NotificationUXController: handlePinStateAndTimeStampUpdateForNotifications - Failed in updating the notification")}}},{key:"handleUnpinClickForNotificationId",value:function(){}},{key:"triggerShowingHoldFeedNotifications",value:function(){try{var e=this.container.state.holdNotificationsIds,t=[],n=[],i=[];if(e.length>0){for(var r=0;r<e.length;r+=1){var o=e[r];if(this.container.notificationsIdVsObjMap.has(o)){var a=this.getNotificationById(o);t.unshift(a),a.isPinned&&(i.unshift(a),n.unshift(o))}}this.container.setState((function(e){var i=t.concat(e.notifications),r=n.concat(e.pinnedNotificationIdsInNormalContainer);return bo(bo({},e),{},{notifications:i,holdNotificationsIds:[],pinnedNotificationIdsInNormalContainer:r})})),i.length>0&&mo.getInstance().insertPinnedNotificationAtFront(i)}}catch(e){u.warn("UNCWidget: NotificationUXController: triggerShowingHoldFeedNotifications - Failed in triggering showing hold feed notifications")}}},{key:"initializeWithDefault",value:function(){var e=this;this.container.setState((function(t){return bo(bo(bo({},t),e.defaultState),{},{theme:Nr.getInstance().theme})})),this.container.notificationsIdVsObjMap=null}}],i=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"deleteInstance",value:function(){e.instance=null}}],n&&Co(t.prototype,n),i&&Co(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function No(e){return No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},No(e)}function Oo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,To(i.key),i)}}function To(e){var t=function(e,t){if("object"!=No(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=No(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==No(t)?t:String(t)}var Io=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._newStateTimelineNotificationsMap=new Map,this._acceptRejectCompleteNotifications=[]}var t,n,i;return t=e,i=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"deleteInstance",value:function(){e.instance=null}}],(n=[{key:"insertInNewStateNotificationsHandler",value:function(e,t){try{return!!t&&(Jf.isNotificationStateValidForNew(t.state)&&(this._newStateTimelineNotificationsMap.has(e)||this._newStateTimelineNotificationsMap.set(e,t)),!0)}catch(e){return u.warn("UNCWidget: NewStateNotificationsHandler: insertInNewStateNotificationsHandler - Failed in inserting new notification in map"),!1}}},{key:"insertInAcceptRejectCompleteNotificationsArray",value:function(e){try{this._acceptRejectCompleteNotifications.push(e)}catch(e){u.warn("UNCWidget: NewStateNotificationsHandler: insertInAcceptRejectCompleteNotificationsArray - Failed in inserting in accept/reject complete notifications array")}}},{key:"removeNotificationFromNewStateNotificationsHandler",value:function(e){try{return this._newStateTimelineNotificationsMap.has(e)&&this._newStateTimelineNotificationsMap.delete(e),!0}catch(e){u.warn("UNCWidget: NewStateNotificationsHandler: removeNotificationFromNewStateNotificationsHandler - Failed in removing notification from new state notifications handler")}return!1}},{key:"sendAnalyticsForRenderOfNotificationsInNewState",value:function(){try{this._newStateTimelineNotificationsMap.size>0&&this._newStateTimelineNotificationsMap.forEach((function(e,t){var n=So.getInstance().container.notificationsIdVsObjMap.get(t);if(Jf.isNotificationStateValidForNew(n.state)&&!n.viewEventSent)try{co.getInstance().sendAnalyticsForViewOfNotification(n)}catch(e){u.warn("UNCWidget: NewStateNotificationsHandler: sendAnalyticsForRenderOfNotificationsInNewState - Error in sending analytics for view of notifications")}}))}catch(e){u.warn("UNCWidget: NewStateNotificationsHandler: sendAnalyticsForRenderOfNotificationsInNewState - Failed in sending render for notifications in new state")}}},{key:"clearContrastForAllAvailableNotifications",value:function(){try{if(this._newStateTimelineNotificationsMap.size>0){var e={},t=[],n=[];e.notifications={},this._newStateTimelineNotificationsMap.forEach((function(e,i){var r=So.getInstance().container.notificationsIdVsObjMap.get(i);if(Jf.isNotificationStateValidForNew(r.state)){r.state=vr.NOTIFICATION_STATE_READ;var o={};o["notification-id"]=r.id,o.state=r.state,n.push(o),t.push(r)}})),n.length>0&&(this._newStateTimelineNotificationsMap.clear(),e.notifications.notification=n,u.debug("UNCWidget: NewStateNotificationsHandler: clearContrastForAllAvailableNotifications - Sending data to update New notifications state on move out",e),So.getInstance().handlePinStateAndTimeStampUpdateForNotifications(e),ra.getInstance().sendMessage(gr.UPDATE_NOTIFICATIONS_DATA,{content:JSON.stringify(e)}))}}catch(e){u.warn("UNCWidget: NewStateNotificationsHandler: clearContrastForAllAvailableNotifications - Failed in clearing contrast for all applicable notifications")}}},{key:"removeAllAcceptedOrRejectedInvitations",value:function(){try{if(this._acceptRejectCompleteNotifications.length>0)for(var e=0;e<this._acceptRejectCompleteNotifications.length;e+=1){var t=So.getInstance().container.notificationsIdVsObjMap.get(this._acceptRejectCompleteNotifications[e]);t&&t.removeNotification()}this._acceptRejectCompleteNotifications.length=0}catch(e){u.warn("UNCWidget: NewStateNotificationsHandler: removeAllAcceptedOrRejectedInvitations - Failed in removing accepted rejected invites")}}},{key:"handleNotificationClickOperationForId",value:function(e){try{if(this._newStateTimelineNotificationsMap.has(e)){var t={},n=[],i=[],r={};t.notifications={};var o=So.getInstance().container.notificationsIdVsObjMap.get(e);if(!Jf.isNotificationStateValidForNew(o.state))return;o.state=vr.NOTIFICATION_STATE_READ;var a={};a["notification-id"]=o.id,a.state=o.state,o.local?i.push(a):n.push(a),i.length>0&&(r.notifications=i,ra.getInstance().sendMessage(gr.UPDATE_LOCAL_NOTIFICATIONS_STATE,{content:JSON.stringify(r)})),t.notifications.notification=n,this._newStateTimelineNotificationsMap.delete(e),u.debug("UNCWidget: NewStateNotificationsHandler: handleNotificationClickOperationForId - Sending data to update notifications on click",t),So.getInstance().handlePinStateAndTimeStampUpdateForNotifications(t),ra.getInstance().sendMessage(gr.UPDATE_NOTIFICATIONS_DATA,{content:JSON.stringify(t)})}}catch(t){u.warn("UNCWidget: NewStateNotificationsHandler: handleNotificationClickOperationForId - Failed in handling the click operation for ID:",e)}}}])&&Oo(t.prototype,n),i&&Oo(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function wo(e){return wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(e)}function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach((function(t){Do(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Do(e,t,n){return(t=Ro(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Po(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ro(i.key),i)}}function Ro(e){var t=function(e,t){if("object"!=wo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=wo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wo(t)?t:String(t)}var xo=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setIDForNotificationToBeDismissed=function(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e3;""!==t.notificationIDToBeDismissed&&t.handleTimeOutForUndoOperation(),t.notificationIDToBeDismissed=e,t.notificationIDToBeDismissedCallback=setTimeout(t.handleTimeOutForUndoOperation,r),n?t.container.setState(ko(ko({},t.state),{},{showUndoBanner:i,requestDismissedNotifCount:1})):t.container.setState(ko(ko({},t.state),{},{showUndoBanner:i,timelineDismissedNotifCount:1}))},this.handleTimeOutForUndoOperation=function(){var e=t.container.notificationsIdVsObjMap.get(t.notificationIDToBeDismissed);e&&(t.notificationIDToBeDismissed="",clearTimeout(t.notificationIDToBeDismissedCallback),e.removeNotification(),t.container.setState(ko(ko({},t.state),{},{showUndoBanner:!1,requestDismissedNotifCount:0,timelineDismissedNotifCount:0})))},this.handleUndoClick=function(e){if(e.preventDefault(),e.stopPropagation(),t.container.setState(ko(ko({},t.state),{},{showUndoBanner:!1,requestDismissedNotifCount:0,timelineDismissedNotifCount:0})),""!==t.notificationIDToBeDismissed){var n=t.container.notificationsIdVsObjMap.get(t.notificationIDToBeDismissed);t.notificationIDToBeDismissed="",clearTimeout(t.notificationIDToBeDismissedCallback),n.handleUndoClickForNotification()}},u.debug("UNCWidget: DismissedNotificationController: DismissedNotificationController is being constructed"),this.notificationIDToBeDismissed="",this.notificationIDToBeDismissedCallback=""}var t,n,i;return t=e,i=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"deleteInstance",value:function(){e.instance=null}}],(n=[{key:"init",value:function(e){this.container=e}}])&&Po(t.prototype,n),i&&Po(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Fo(e){return Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(e)}function Lo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Uo(i.key),i)}}function Uo(e){var t=function(e,t){if("object"!=Fo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Fo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fo(t)?t:String(t)}xo.instance=null;var Mo=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._downloadAssetURL=t,this._assetRegion=n,this.notificationAssetId="",this.notificationAssetLocation="",this.notificationMappedAssetId="",this.baseURL="","prod"===Nr.getInstance().env.toLowerCase()?this.baseURL=Nr.getInstance().ccAssetsServerURL:this.baseURL=Nr.getInstance().stageCCAssetsServerURL}var t,n,i;return t=e,(n=[{key:"_getAssetIDAndLocation",value:function(){var e=!1;if(this._downloadAssetURL.length>0){var t={};-1!==this._downloadAssetURL.indexOf("#")||(t=this._downloadAssetURL);for(var n=t.slice(t.indexOf("?")+1).split("&"),i=0;i<n.length;i+=1){var r=n[i];if(-1!==r.indexOf("location=")){this.notificationAssetLocation=r.slice(r.indexOf("=")+1);var o=this.notificationAssetLocation;this.notificationAssetId=o.slice(o.lastIndexOf("/")+1),e=!0}}}return e}},{key:"_getMappedAssetId",value:function(){var e="";""!==this._assetRegion?e=this._assetRegion:-1!==this.notificationAssetLocation.indexOf("us1")?e="US":-1!==this.notificationAssetLocation.indexOf("eu1")?e="EU":-1!==this.notificationAssetLocation.indexOf("ap1")&&(e="AP"),this.notificationMappedAssetId="".concat(e,"/").concat(this.notificationAssetId)}},{key:"downloadAssetThumbnailIcon",value:function(){if(!this._getAssetIDAndLocation())return!1;this._getMappedAssetId();var e=this,t=ra.getInstance().sendMessage(gr.GET_USER_PROFILE,{},gr.CLIENT_TARGET_TYPE,"",!1);return!(!t||void 0===t.AccessToken||""===t.AccessToken)&&new Promise((function(n,i){var r={hostname:"".concat(e.baseURL,"/resolve?id=").concat(e.notificationMappedAssetId),methodType:"HEAD",responseCallback:function(t){u.debug("UNCWidget: IconDownloader: downloadAssetThumbnailIcon - Promise response handler",t);var r=e.uriHttpComm.GetResponseHeaders();e.assetURI=r["content-location"],e.assetURI||(e.assetURI=r["Content-Location"]),e.assetURI+="/:rendition;size=104",e._downloadThumbnailIconForURI(e.assetURI).then((function(e){n(e)})).catch((function(e){i(e)}))}.bind(e),errorCallback:function(e){u.debug("UNCWidget: IconDownloader: downloadAssetThumbnailIcon - Error response handler",e),i(e)}.bind(e)};e.uriHttpComm=new ne(r);var o={content:"test"};o.requestHeaders={"x-api-key":Nr.getInstance().imsClientID,Authorization:"Bearer ".concat(t.AccessToken)},e.uriHttpComm.SendRequest(o)}))}},{key:"_downloadThumbnailIconForURI",value:function(e){var t=this,n=ra.getInstance().sendMessage(gr.GET_USER_PROFILE,{},gr.CLIENT_TARGET_TYPE,"",!1);return void 0!==n.AccessToken&&""!==n.AccessToken&&new Promise((function(i,r){var o={hostname:t.baseURL+e,methodType:"GET",responseCallback:function(e){i(e)}.bind(t),errorCallback:function(e){u.debug("UNCWidget: IconDownloader: _downloadThumbnailIconForURI - Error response handler",e),r(e)}.bind(t)};t.httpComm=new ne(o);var a={};a.requestHeaders={"x-api-key":Nr.getInstance().imsClientID,Authorization:"Bearer ".concat(n.AccessToken),Accept:"image/png, image/jpeg, image/jpg, application/pdf, text/html, text/plain, */*;q=0.1"},a.responseType="blob",t.httpComm.SendRequest(a)}))}}])&&Lo(t.prototype,n),i&&Lo(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function jo(e){return jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jo(e)}function Wo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ho(i.key),i)}}function Ho(e){var t=function(e,t){if("object"!=jo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=jo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jo(t)?t:String(t)}var qo=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renditionURI=t,this._isAuthenticated=n}var t,n,i;return t=e,(n=[{key:"downloadThumbnailIconForURI",value:function(){var e,t=this,n=this;return(!this._isAuthenticated||void 0!==(e=ra.getInstance().sendMessage(gr.GET_USER_PROFILE,{},gr.CLIENT_TARGET_TYPE,"",!1)).AccessToken&&""!==e.AccessToken)&&new Promise((function(i,r){var o={hostname:t._renditionURI,methodType:"GET",responseCallback:function(e){i(e)}.bind(n),errorCallback:function(e){u.debug("UNCWidget: IconDownloaderWithRendition: downloadThumbnailIconForURI - Error response handler",e),r(e)}.bind(n)};n.httpComm=new ne(o);var a={};a.requestHeaders={"x-api-key":Nr.getInstance().imsClientID},t._isAuthenticated&&(a.requestHeaders.Authorization="Bearer ".concat(e.AccessToken)),a.responseType="blob",n.httpComm.SendRequest(a)}))}}])&&Wo(t.prototype,n),i&&Wo(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Vo=(0,Ue.getDefaultWhiteList)(),Bo=["ssoenabled","ssotargetclientid","ssotargetscope","openinsametab"],Go={whiteList:Vo,stripIgnoreTag:!0,stripIgnoreTagBody:["script"],onIgnoreTagAttr:function(e,t,n){var i=t.toLowerCase();if(Bo.includes(i))return"".concat(i,'="').concat(Me().escapeAttrValue(n),'"')}};function zo(e){return Me()(e,Go)}function Ko(e){return Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko(e)}function Yo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Xo(i.key),i)}}function Xo(e){var t=function(e,t){if("object"!=Ko(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ko(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ko(t)?t:String(t)}var Jo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,n=[{key:"initializeObjectWithJson",value:function(e){u.debug("UNCWidget: NotificationBaseObject: initializeObjectWithJson - initializing notification object with incoming json");try{if(this.viewEventSent=!1,this.id=e["notification-id"],this.type=e.type,this.subType=e["sub-type"],this.state=e.state,this.local=e.local,void 0===this.local&&(this.local=!1),void 0!==e.payload["tracking-system-payload"]&&(this.trackingSystemPayload=e.payload["tracking-system-payload"]),void 0!==e.payload["content-source-id"]&&(this.contentSourceId=e.payload["content-source-id"]),this.renderingOrderTimestamp=parseInt(e[vr.TIMESTAMP_KEY],10),this.modifiedTimestamp=parseInt(e.timestamp,10),!this.payloadUpdatedByHost){var t="object"===Ko(e.payload)?e.payload:JSON.parse(e.payload);if(!t.timeline)return u.debug("UNCWidget: NotificationBaseObject: initializeObjectWithJson - notification does not have proper payload as timeline object is not there, therefore ignoring"),!1;if(this.payload=t,!t.timeline.viewtype||-1===gr.SUPPORTED_VIEW_TYPES.indexOf(t.timeline.viewtype))return u.debug("UNCWidget: NotificationBaseObject: initializeObjectWithJson - notification does not have proper view type and therefore ignoring"),!1;this.viewtype=t.timeline.viewtype}if(!Jf.checkIfThisTypeSubtypeIsSupported(this.type,this.subType))return u.debug("UNCWidget: NotificationBaseObject: initializeObjectWithJson - notification for this type and subtype is not supported therefore ignoring",this.type,this.subType),!1;if(!Jf.isNotificationValidForSurface(this.payload))return!1;this.payload.timeline.content&&""!==this.payload.timeline.content&&(this.payload.timeline.content=zo(this.payload.timeline.content)),this.payload.timeline.additionalMenuItems&&(this.additionalMenuItems=this.payload.timeline.additionalMenuItems),this.payload.timeline.commentSection&&this.payload.timeline.commentSection.content&&""!==this.payload.timeline.commentSection.content&&(this.payload.timeline.commentSection.content=zo(this.payload.timeline.commentSection.content));var n=this.payload.timeline.commentSection;if(n&&n.icons&&n.icons.length>0)if(n.icons[0].shouldDownload&&"true"===n.icons[0].shouldDownload.toString().toLowerCase()||n.icons[0].renditionUrl){var i=Jf.getBasePathForResources()+Nr.getInstance().imagePathMap["./2x/project-placeholder.png"];this.projectIconForCommentNotification||(this.projectIconForCommentNotification=i),this.downloadAppropriateProjectIcon()}else this.projectIconForCommentNotification=n.icons[0].iconURL;this.payload.timeline.pinnedCategory?this.isPinned="true"===this.payload.timeline.pinnedCategory.toString().toLowerCase():this.isPinned=!1,this.payload.timeline.announcementNotification?this.isAnnouncementNotification="true"===this.payload.timeline.announcementNotification.toString().toLowerCase():this.isAnnouncementNotification=!1,this.payload.timeline.announcementExpiryDate?this.announcementExpiryDate=new Date(this.payload.timeline.announcementExpiryDate.toString().toLowerCase()):this.announcementExpiryDate=null;var r=Lr.initializeEventNotification(this.payload.timeline);if(r.isEventType){if(!r.eventNotificationData)return!1;this.eventNotificationData=r.eventNotificationData}return e.metadata&&e.metadata["tracking-system-payload"]&&""!==e.metadata["tracking-system-payload"]&&(this.trackingSystemPayload=e.metadata["tracking-system-payload"]),this.payload["tracking-system-payload"]&&""!==this.payload["tracking-system-payload"]&&(this.trackingSystemPayload=this.payload["tracking-system-payload"]),this.payload["content-source-id"]&&""!==this.payload["content-source-id"]&&(this.contentSourceId=this.payload["content-source-id"]),this.userIconDetails=Jf.getAvatarIconURLAndServiceIconInfo(this.payload.timeline,this.type,this.subType),this.timeString=Jf.getTimeStringToShowOnUI(this.renderingOrderTimestamp),void 0===this.isExpandedPinned&&(this.isExpandedPinned=!0),void 0===this.isNotificationDismissed&&(this.isNotificationDismissed=!1),!0}catch(e){return u.debug("UNCWidget: NotificationBaseObject: initializeObjectWithJson - Invalid notification received and therefore ignoring it:",e),!1}}},{key:"handleNotificationClickAction",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])try{co.getInstance().sendAnalyticsForNotificationAction(this,"markRead")}catch(e){u.warn("UNCWidget: NotificationBaseObject: markNotificationAsUnread - Error in sending analytics for markAsUnread clicked")}Io.getInstance().handleNotificationClickOperationForId(this.id)}},{key:"markNotificationAsUnread",value:function(){try{co.getInstance().sendAnalyticsForNotificationAction(this,"markUnread")}catch(e){u.warn("UNCWidget: NotificationBaseObject: markNotificationAsUnread - Error in sending analytics for markAsUnread clicked")}var e={},t=[],n=[],i={};e.notifications={},this.state=vr.NOTIFICATION_STATE_UNREAD;var r={};r["notification-id"]=this.id,r.state=this.state,this.local?n.push(r):t.push(r),n.length>0&&(i.notifications=n,ra.getInstance().sendMessage(gr.UPDATE_LOCAL_NOTIFICATIONS_STATE,{content:JSON.stringify(i)})),e.notifications.notification=t,u.debug("UNCWidget: NewStateNotificationsHandler: handleNotificationClickOperationForId - Sending data to update notifications on click",e),Io.getInstance().insertInNewStateNotificationsHandler(this.id,this),So.getInstance().handlePinStateAndTimeStampUpdateForNotifications(e),ra.getInstance().sendMessage(gr.UPDATE_NOTIFICATIONS_DATA,{content:JSON.stringify(e)})}},{key:"removeNotification",value:function(){var e={},t=[],n=[],i={};e.notifications={};var r={};Io.getInstance().removeNotificationFromNewStateNotificationsHandler(this.id),So.getInstance().removeNotificationWithId(this.id),r["notification-id"]=this.id,r.state=vr.NOTIFICATION_STATE_EXPIRED,this.local?n.push(r):t.push(r),e.notifications.notification=t,u.debug("UNCWidget: NotificationBaseObject: removeNotification - Sending data to server to update notification state to Expired to remove it",e),ra.getInstance().sendMessage(gr.UPDATE_NOTIFICATIONS_DATA,{content:JSON.stringify(e)}),n.length>0&&(i.notifications=n,ra.getInstance().sendMessage(gr.UPDATE_LOCAL_NOTIFICATIONS_STATE,{content:JSON.stringify(i)}))}},{key:"handleDismissClickForNotification",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;try{co.getInstance().sendAnalyticsForNotificationAction(this,"dismiss")}catch(e){u.warn("UNCWidget: NotificationBaseObject: handleDismissClickForNotification - Error in sending analytics for dismiss clicked")}this.isNotificationDismissed=!0;var n={},i=[];n.notifications={};var r={};r["notification-id"]=this.id,r.isNotificationDismissed=!0,i.push(r),n.notifications.notification=i,u.debug("UNCWidget: NotificationBaseObject: handleDismissClickForNotification - Sending data to render engine to update state to dismissed on invite dismiss click",n),So.getInstance().handlePinStateAndTimeStampUpdateForNotifications(n),xo.getInstance().setIDForNotificationToBeDismissed(this.id,this.isPinned,e,t)}},{key:"handleUndoClickForNotification",value:function(){try{co.getInstance().sendAnalyticsForNotificationAction(this,"undo")}catch(e){u.warn("UNCWidget: NotificationBaseObject: handleUndoClickForNotification - Error in sending analytics for undo clicked")}this.isNotificationDismissed=!1;var e={},t=[],n={},i=[],r=this.state;this.state=vr.NOTIFICATION_STATE_READ,n.notifications={},e.notifications={};var o={},a={};a["notification-id"]=this.id,o["notification-id"]=this.id,a.state=vr.NOTIFICATION_STATE_READ,o.state=vr.NOTIFICATION_STATE_READ,o.isNotificationDismissed=!1,t.push(o),this.local||i.push(a),n.notifications.notification=i,e.notifications.notification=t,So.getInstance().handlePinStateAndTimeStampUpdateForNotifications(e),Jf.isNotificationStateValidForNew(r)&&ra.getInstance().sendMessage(gr.UPDATE_NOTIFICATIONS_DATA,{content:JSON.stringify(n)})}},{key:"handleNotificationClickActionAnalytics",value:function(){try{co.sendAnalyticsForNotificationAction(this,"passToHostClient")}catch(e){u.warn("UNCWidget: NotificationBaseObject: passToHostClient - Error in sending analytics for notification click")}}},{key:"handlePinClickForNotification",value:function(){try{co.getInstance().sendAnalyticsForNotificationAction(this,"unpin")}catch(e){u.warn("UNCWidget: NotificationBaseObject: handlePinClickForNotification - Error in sending analytics for unpin clicked")}var e={},t={},n=[],i=[];e.notifications={},t.notifications={},this.isPinned=!1;var r={},o={};r["notification-id"]=this.id,o["notification-id"]=this.id,r.metadata={},r.metadata.pinned="false",o.pinned=!1,Jf.isNotificationStateValidForNew(this.state)&&(this.state=vr.NOTIFICATION_STATE_READ,r.state=vr.NOTIFICATION_STATE_READ,o.state=vr.NOTIFICATION_STATE_READ,Io.getInstance().removeNotificationFromNewStateNotificationsHandler(this.id)),this.local||n.push(r),i.push(o),e.notifications.notification=n,t.notifications.notification=i,So.getInstance().handlePinStateAndTimeStampUpdateForNotifications(t),ra.getInstance().sendMessage(gr.UPDATE_NOTIFICATIONS_DATA,{content:JSON.stringify(e)})}},{key:"takeActionOnPrimarySecondaryClick",value:function(e){if(this.state!==vr.NOTIFICATION_STATE_PROGRESS){if(e===gr.PRIMARY_CLICKED)try{co.getInstance().sendAnalyticsForNotificationAction(this,"accept")}catch(e){u.warn("UNCWidget: NotificationBaseObject: takeActionOnAcceptRejectClick - Error in sending analytics for accept clicked")}else if(e===gr.SECONDARY_CLICKED)try{co.getInstance().sendAnalyticsForNotificationAction(this,"decline")}catch(e){u.warn("UNCWidget: NotificationBaseObject: takeActionOnAcceptRejectClick - Error in sending analytics for accept clicked")}this.state=vr.NOTIFICATION_STATE_PROGRESS;var t={notifications:{notification:[{"notification-id":this.id,state:this.state}]}};if(So.getInstance().handlePinStateAndTimeStampUpdateForNotifications(t),e===gr.PRIMARY_CLICKED){if(this.payload.timeline.acceptRequestDetails){var n=new zr(this.payload.timeline.acceptRequestDetails),i=this,r=n.executeRequest();if(!1===r){this.state=vr.NOTIFICATION_STATE_READ;var o={notifications:{notification:[{"notification-id":this.id,state:this.state}]}};return void So.getInstance().handlePinStateAndTimeStampUpdateForNotifications(o)}r.then((function(e){u.debug("UNCWidget: NotificationBaseObject: takeActionOnAcceptRejectClick - Accept Clicked Promise success:",JSON.stringify(e)),i.state=vr.NOTIFICATION_STATE_ACCEPT_COMPLETE,i.inviteAccepted=!0;var t={},n=[];t.notifications={};var r={};if(r["notification-id"]=i.id,r.state=i.state,n.push(r),t.notifications.notification=n,Nr.getInstance().hostCallBackFn&&"function"==typeof Nr.getInstance().hostCallBackFn){var o={message:"UNCInviteAccepted"},a={};a.id=i.id,a.type=i.type,a.subType=i.subType,o.data=a;try{Nr.getInstance().hostCallBackFn(o)}catch(e){u.warn("UNCWidget: NotificationBaseObject: takeActionOnAcceptRejectClick - Exception while invoking hostCallBack for invite acceptance",e)}}So.getInstance().handlePinStateAndTimeStampUpdateForNotifications(t),Io.getInstance().insertInAcceptRejectCompleteNotificationsArray(i.id)})).catch((function(e){u.debug("UNCWidget: NotificationBaseObject: takeActionOnAcceptRejectClick - Accept Clicked Promise error:",JSON.stringify(e)),e.statusCode&&i._handleErrorOfAcceptRejectNotification(e)}))}}else if(e===gr.SECONDARY_CLICKED){if(this.payload.timeline.rejectRequestDetails){var a=new zr(this.payload.timeline.rejectRequestDetails),s=this;a.executeRequest().then((function(e){u.debug("UNCWidget: NotificationBaseObject: takeActionOnAcceptRejectClick - Reject Clicked Promise success:",JSON.stringify(e)),s.state=vr.NOTIFICATION_STATE_REJECT_COMPLETE,s.inviteRejected=!0;var t={},n=[];t.notifications={};var i={};i["notification-id"]=s.id,i.state=s.state,n.push(i),t.notifications.notification=n,So.getInstance().handlePinStateAndTimeStampUpdateForNotifications(t),Io.getInstance().insertInAcceptRejectCompleteNotificationsArray(s.id)})).catch((function(e){u.debug("UNCWidget: NotificationBaseObject: takeActionOnAcceptRejectClick - Reject Clicked Promise error:",JSON.stringify(e)),e.statusCode&&s._handleErrorOfAcceptRejectNotification(e)}))}}else u.debug("UNCWidget: NotificationBaseObject: takeActionOnAcceptRejectClick - invalid operation requested")}else u.debug("UNCWidget: NotificationBaseObject: takeActionOnAcceptRejectClick - Already handling the accept reject click for this and therefore ignoring further actions")}},{key:"_handleErrorOfAcceptRejectNotification",value:function(e){var t=e.statusCode,n={},i=[];n.notifications={};var r={};401===t?e.accessTokenSent&&!0===e.accessTokenSent?(r["notification-id"]=this.id,r.state=vr.NOTIFICATION_STATE_READ,i.push(r),n.notifications.notification=i,u.debug("UNCWidget: NotificationBaseObject: takeActionOnAcceptRejectClick - Sending data to render engine to update notification state as Read on accept reject 401 error",n),So.getInstance().handlePinStateAndTimeStampUpdateForNotifications(n)):(Io.getInstance().removeNotificationFromNewStateNotificationsHandler(this.id),So.getInstance().removeNotificationWithId(this.id),r["notification-id"]=this.id,r.state=vr.NOTIFICATION_STATE_EXPIRED,this.local||i.push(r),n.notifications.notification=i,u.debug("UNCWidget: NotificationBaseObject: takeActionOnAcceptRejectClick - Sending data to server to update notification state as Expired on 401 accept reject special error",n),ra.getInstance().sendMessage(gr.UPDATE_NOTIFICATIONS_DATA,{content:JSON.stringify(n)})):400===t||404===t||403===t?(Io.getInstance().removeNotificationFromNewStateNotificationsHandler(this.id),So.getInstance().removeNotificationWithId(this.id),r["notification-id"]=this.id,r.state=vr.NOTIFICATION_STATE_EXPIRED,this.local||i.push(r),n.notifications.notification=i,u.debug("UNCWidget: NotificationBaseObject: takeActionOnAcceptRejectClick - Sending data to server to update notification state as Expired on accept reject special error",n),ra.getInstance().sendMessage(gr.UPDATE_NOTIFICATIONS_DATA,{content:JSON.stringify(n)})):(r["notification-id"]=this.id,r.state=vr.NOTIFICATION_STATE_READ,i.push(r),n.notifications.notification=i,u.debug("UNCWidget: NotificationBaseObject: takeActionOnAcceptRejectClick - Sending data to render engine to update notification state as Read on accept reject error",n),So.getInstance().handlePinStateAndTimeStampUpdateForNotifications(n))}},{key:"downloadAppropriateProjectIcon",value:function(){var e,t=this,n=this.payload.timeline.commentSection;n&&((e=n.icons[0].renditionUrl?new qo(n.icons[0].renditionUrl,n.icons[0].renditionUrlAuth).downloadThumbnailIconForURI():new Mo(n.icons[0].iconURL,n.region).downloadAssetThumbnailIcon())&&e.then((function(e){var n=(window.URL||window.webkitURL).createObjectURL(e);t.projectIconForCommentNotification=n,So.getInstance().reloadNotifications()})).catch((function(e){u.debug("UNCWidget: CommentTimelineNotification: getAppropriateIcon - We get error in downloading image icon",e)})))}}],n&&Yo(t.prototype,n),i&&Yo(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function $o(e){return $o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(e)}function Qo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Zo(i.key),i)}}function Zo(e){var t=function(e,t){if("object"!=$o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=$o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$o(t)?t:String(t)}var ea=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u.debug("UNCWidget: NotificationProcessorObject: NotificationProcessorObject is being constructed....."),this.latestAvailableNotificationTimeStamp=0,this.lastAvailableNotificationTimeStamp=0,this._historicalNotificationsAvailable=!0,this._fetchingHistoricalNotifications=!1,this._countOfFetchedHistoricalNotificationsOnTrigger=0,this._fetchingPinnedHistoricalNotifications=!1,this.lastAvailablePinnedNotificationTimestamp=0,this.numberOfCallsToBeMadeToTimelineApi=0,this.notificationsToRenderArray=[]}var t,n,i;return t=e,i=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"deleteInstance",value:function(){e.instance=null}}],(n=[{key:"initializeByDefault",value:function(){u.debug("UNCWidget: NotificationProcessorObject: NotificationProcessorObject is being initializeByDefault....."),this.latestAvailableNotificationTimeStamp=0,this.lastAvailableNotificationTimeStamp=0,this._historicalNotificationsAvailable=!0,this._fetchingHistoricalNotifications=!1,this._countOfFetchedHistoricalNotificationsOnTrigger=0,this._fetchingPinnedHistoricalNotifications=!1,this.lastAvailablePinnedNotificationTimestamp=0,this.numberOfCallsToBeMadeToTimelineApi=0}},{key:"parseNewIncomingNotifications",value:function(e){if(u.debug("UNCWidget: NotificationProcessorObject: parseNewIncomingNotifications - parsing new incoming notifications json",e),void 0===e.notifications)return u.debug("UNCWidget: NotificationProcessorObject: parseNewIncomingNotifications - Received an invalid notification response object",e),!1;if(!e.notifications||!e.notifications.notification)return u.debug("UNCWidget: NotificationProcessorObject: parseNewIncomingNotifications - Received an invalid notification response object with notification not defined",e),!1;var t;if(Array.isArray(e.notifications.notification))t=e.notifications.notification;else{if("object"!==$o(e.notifications.notification)||null==e.notifications.notification)return u.debug("UNCWidget: NotificationProcessorObject: parseNewIncomingNotifications - Received an invalid notification response object with notification not an object or an array",e),!1;t=[e.notifications.notification]}for(var n=t.length,i=0;i<n;i+=1){var r=t[i],o=So.getInstance().getNotificationById(r["notification-id"]);if(o)if(parseInt(r[vr.TIMESTAMP_KEY],10)>o.renderingOrderTimestamp){So.getInstance().removeNotificationWithId(o.id);var a=new Jo;if(!a.initializeObjectWithJson(r))continue;var s={},c=[];s.notifications={},c.push(a),s.notifications.notification=c,So.getInstance().renderNewNotifications(s),Io.getInstance().insertInNewStateNotificationsHandler(a.id,a),this.latestAvailableNotificationTimeStamp=a.renderingOrderTimestamp,Jf.isNotificationStateValidForNew(a.state)||Io.getInstance().removeNotificationFromNewStateNotificationsHandler(a.id)}else{var l=o.state,f=o.isPinned;if(!o.initializeObjectWithJson(r))continue;var d={},p=[];d.notifications={},p.push(o),d.notifications.notification=p,o.state===vr.NOTIFICATION_STATE_EXPIRED?l!==vr.NOTIFICATION_STATE_ACCEPT_COMPLETE&&l!==vr.NOTIFICATION_STATE_REJECT_COMPLETE&&l!==vr.NOTIFICATION_STATE_EXPIRED&&So.getInstance().removeNotificationWithId(o.id):(!1===f&&f!==o.isPinned&&So.getInstance().removeNotificationFromPinnedListInNormalActivityContainer(o.id),So.getInstance().updateExistingNotifications(d)),Jf.isNotificationStateValidForNew(o.state)?Io.getInstance().insertInNewStateNotificationsHandler(o.id,o):Io.getInstance().removeNotificationFromNewStateNotificationsHandler(o.id)}else{if(r.state===vr.NOTIFICATION_STATE_EXPIRED)continue;if(parseInt(r[vr.TIMESTAMP_KEY],10)>this.latestAvailableNotificationTimeStamp){var h=new Jo;if(!h.initializeObjectWithJson(r))continue;this.latestAvailableNotificationTimeStamp=h.renderingOrderTimestamp;var g={},m=[];g.notifications={},m.push(h),g.notifications.notification=m,u.debug("UNCWidget: NotificationProcessorObject: parseNewIncomingNotifications - Notifications to render engine to show on top of timeline:",JSON.stringify(g)),So.getInstance().renderNewNotifications(g),Io.getInstance().insertInNewStateNotificationsHandler(h.id,h),this.checkToUpdatePayloadByHostIfRequired(h);try{(h.state===vr.NOTIFICATION_STATE_READ||Jf.isNotificationStateValidForNew(h.state)&&!0===Nr.getInstance().isWidgetOpen)&&co.getInstance().sendAnalyticsForViewOfNotification(h)}catch(e){u.debug("UNCWidget: NotificationProcessorObject: parseNewIncomingNotifications - Error in sending analytics for new successful notification received for render:",e)}}else{u.debug("UNCWidget: NotificationProcessorObject: parseNewIncomingNotifications - Notification with id will be tried to insert in between as it's renderingOrderTimestamp is lower than latest available one:",r["notification-id"]);var v=new Jo;if(!v.initializeObjectWithJson(r))continue;So.getInstance().renderNewNotificationInBetweenIfApplicable(v),Io.getInstance().insertInNewStateNotificationsHandler(v.id,v);try{(v.state===vr.NOTIFICATION_STATE_READ||v.state===vr.NOTIFICATION_STATE_NEW&&!0===Nr.getInstance().isWidgetOpen)&&co.getInstance().sendAnalyticsForViewOfNotification(v)}catch(e){u.debug("UNCWidget: NotificationProcessorObject: parseNewIncomingNotifications - Error in sending analytics for new successful notification received for render:",e)}}}}return!0}},{key:"parseIncomingHistoricalNotifications",value:function(e){if(u.debug("UNCWidget: NotificationProcessorObject: parseIncomingHistoricalNotifications - parsing historical incoming notifications json and append in timeline according to renderingOrderTimestamp"),this._fetchingHistoricalNotifications=!1,void 0!==e.errorCode)return u.debug("UNCWidget: NotificationProcessorObject: parseIncomingHistoricalNotifications - We got error in our call to fetch historical notifications :",e),setTimeout(this.fetchHistoricalNotifications.bind(this),100),!1;var t,n={notifications:{}};if(void 0===e.notifications)return u.debug("UNCWidget: NotificationProcessorObject: parseIncomingHistoricalNotifications - Received an invalid notification response object",e),!1;if(!e.notifications)return u.debug("UNCWidget: NotificationProcessorObject: parseIncomingHistoricalNotifications - Received an invalid notification response object with notifications not array",e),this._historicalNotificationsAvailable=!1,this._countOfFetchedHistoricalNotificationsOnTrigger=0,Zr.getInstance().hideFetchingSpinnerState(),n.notifications.notification=this.notificationsToRenderArray,So.getInstance().renderHistoricalNotifications(n),!1;if(Array.isArray(e.notifications))t=e.notifications;else{if("object"!==$o(e.notifications))return this._countOfFetchedHistoricalNotificationsOnTrigger=0,Zr.getInstance().hideFetchingSpinnerState(),!1;t=[e.notifications]}var i=t.length;if(0===i)return this._historicalNotificationsAvailable=!1,this._countOfFetchedHistoricalNotificationsOnTrigger=0,Zr.getInstance().hideFetchingSpinnerState(),n.notifications.notification=this.notificationsToRenderArray,So.getInstance().renderHistoricalNotifications(n),!0;var r=t[i-1],o=0;this.lastAvailableNotificationTimeStamp=parseInt(r[vr.TIMESTAMP_KEY],10);for(var a=0;a<i;a+=1){var s=t[a];if(s.state!==vr.NOTIFICATION_STATE_EXPIRED){var c=So.getInstance().getNotificationById(s["notification-id"]),l=void 0;if(c){if(c.isPinned)continue;l=c,So.getInstance().removeNotificationWithId(c.id)}else l=new Jo;if(l.initializeObjectWithJson(s)){if(this.notificationsToRenderArray.push(l),!l.isPinned){o+=1,this.checkToUpdatePayloadByHostIfRequired(l);try{(l.state===vr.NOTIFICATION_STATE_READ||Jf.isNotificationStateValidForNew(l.state)&&!0===Nr.getInstance().isWidgetOpen)&&co.getInstance().sendAnalyticsForViewOfNotification(l)}catch(e){u.debug("UNCWidget: NotificationProcessorObject: parseIncomingHistoricalNotifications - Error in sending analytics for parseIncomingHistoricalNotifications notification received for render: ",e)}}Io.getInstance().insertInNewStateNotificationsHandler(l.id,l),l.renderingOrderTimestamp>this.latestAvailableNotificationTimeStamp&&(this.latestAvailableNotificationTimeStamp=l.renderingOrderTimestamp)}}}return this._countOfFetchedHistoricalNotificationsOnTrigger+=o,this.notificationsToRenderArray.length>0&&(this.notificationsToRenderArray.sort((function(e,t){return t.renderingOrderTimestamp-e.renderingOrderTimestamp})),n.notifications.notification=this.notificationsToRenderArray,u.debug("UNCWidget: NotificationProcessorObject: parseIncomingHistoricalNotifications - Notifications to render engine to show on bottom of timeline:",JSON.stringify(n)),So.getInstance().renderHistoricalNotifications(n)),!e.isResponseFromCache&&this._countOfFetchedHistoricalNotificationsOnTrigger<10?(u.debug("UNCWidget: NotificationProcessorObject: parseIncomingHistoricalNotifications - Notifications send to ui are below threshold count and therefore making call to fetch more historical notifications"),this.fetchHistoricalNotifications()):(this._countOfFetchedHistoricalNotificationsOnTrigger=0,Zr.getInstance().hideFetchingSpinnerState(),this.fetchXHistoricalNotifications(this.numberOfCallsToBeMadeToTimelineApi)),!0}},{key:"parseIncomingHistoricalLocalNotifications",value:function(e){u.debug("UNCWidget: NotificationProcessorObject: parseIncomingHistoricalLocalNotifications - parsing local historical incoming notifications json and append in timeline according to renderingOrderTimestamp");var t,n=[];if(void 0!==e.errorCode)return u.debug("UNCWidget: NotificationProcessorObject: parseIncomingHistoricalLocalNotifications - We got error in our call to fetch historical local notifications :",e),!1;if(void 0===e.notifications)return u.debug("UNCWidget: NotificationProcessorObject: parseIncomingHistoricalLocalNotifications - Received an invalid local notification response object",e),!1;if(Array.isArray(e.notifications))t=e.notifications;else{if("object"!==$o(e.notifications))return!1;t=[e.notifications]}var i=t.length;if(0===i)return!0;for(var r=0;r<i;r+=1){var o=t[r];if(o.state!==vr.NOTIFICATION_STATE_EXPIRED){var a=So.getInstance().getNotificationById(o["notification-id"]),s=void 0;if(a){if(a.isPinned)continue;s=a,So.getInstance().removeNotificationWithId(a.id)}else s=new Jo;s.initializeObjectWithJson(o)&&(s.isPinned?n.push(s):this.notificationsToRenderArray.push(s),Io.getInstance().insertInNewStateNotificationsHandler(s.id,s))}}if(n.length>0){var c={notifications:{}};c.notifications.notification=n,u.debug("UNCWidget: NotificationProcessorObject: parseIncomingHistoricalLocalNotifications - Pinned Notifications to render engine to show on bottom of timeline:",JSON.stringify(c)),So.getInstance().renderPinnedHistoricalNotifications(c)}return!0}},{key:"parseIncomingPinnedHistoricalNotifications",value:function(e){if(Zr.getInstance().hideFetchingSpinnerStateForSearchCall(),this._fetchingPinnedHistoricalNotifications=!1,void 0!==e.errorCode)return u.debug("UNCWidget: NotificationProcessorObject: parseIncomingPinnedHistoricalNotifications - We got error in our call to fetch pinned historical notifications :",e),setTimeout(this._fetchPinnedHistoricalNotifications.bind(this),100),!1;if(void 0===e.notifications)return u.debug("UNCWidget: NotificationProcessorObject: parseIncomingPinnedHistoricalNotifications - Received an invalid notification response object",e),setTimeout(this._fetchPinnedHistoricalNotifications.bind(this),100),!1;if(!e.notifications)return u.debug("UNCWidget: NotificationProcessorObject: parseIncomingPinnedHistoricalNotifications - Received an invalid notification response object with notifications not array",e),Zr.getInstance().resetPinnedHistoricalNotificationsAvailableAndButtonClickState(),!1;var t;if(Array.isArray(e.notifications))t=e.notifications;else{if("object"!==$o(e.notifications))return Zr.getInstance().resetPinnedHistoricalNotificationsAvailableAndButtonClickState(),!1;t=[e.notifications]}var n=t.length;if(0===n)return Zr.getInstance().resetPinnedHistoricalNotificationsAvailableAndButtonClickState(),!0;var i=t[n-1];this.lastAvailablePinnedNotificationTimestamp=parseInt(i[vr.TIMESTAMP_KEY],10);var r={},o=[];r.notifications={};for(var a=0,s=0;s<n;s+=1){var c=t[s];if(c.state!==vr.NOTIFICATION_STATE_EXPIRED){var l=So.getInstance().getNotificationById(c["notification-id"]),f=void 0;if(l){if(this.checkForPinnedPinnedNotification(l)){a+=1;continue}f=l}else f=new Jo;f.initializeObjectWithJson(c)&&(o.push(f),this.checkToUpdatePayloadByHostIfRequired(f),Io.getInstance().insertInNewStateNotificationsHandler(f.id,f),f.renderingOrderTimestamp>this.latestAvailableNotificationTimeStamp&&(this.latestAvailableNotificationTimeStamp=f.renderingOrderTimestamp))}}return o.length+a>0?(r.notifications.notification=o,u.debug("UNCWidget: NotificationProcessorObject: parseIncomingPinnedHistoricalNotifications - Notifications to render engine to show on bottom of pinned timeline section:",JSON.stringify(r)),So.getInstance().renderPinnedHistoricalNotifications(r),n<10&&Zr.getInstance().resetPinnedHistoricalNotificationsAvailable()):(Zr.getInstance().resetButtonClickInProgress(),e.isResponseFromCache||0!==mo.getInstance().getPinnedNotifications().length||setTimeout(this._fetchPinnedHistoricalNotifications.bind(this),50)),!0}},{key:"checkToUpdatePayloadByHostIfRequired",value:function(e){e.payload.timeline.requestUpdatedContentByHost&&"true"===e.payload.timeline.requestUpdatedContentByHost.toString().toLowerCase()&&Nr.getInstance().notificationUpdateCallbackFn&&setTimeout((function(){var t={message:"payloadUpdateRequest"};t.data={id:e.id,type:e.type,subType:e.subType,payload:JSON.parse(JSON.stringify(e.payload))},Nr.getInstance().notificationUpdateCallbackFn(t)}),0)}},{key:"updateNotificationPayloadForID",value:function(e){if(e.id){var t=So.getInstance().getNotificationById(e.id);if(e.payload){var n=e.payload;(n="object"===$o(n)?n:JSON.parse(n)).timeline&&n.timeline.viewtype&&-1!==gr.SUPPORTED_VIEW_TYPES.indexOf(n.timeline.viewtype)&&(t.payload=n,t.payloadUpdatedByHost=!0,So.getInstance().reloadNotifications())}}}},{key:"_triggerPinnedHistoricalNotificationsFetchOperation",value:function(){setTimeout(this._fetchPinnedHistoricalNotifications.bind(this),gr.PINNED_HISTORICAL_NOTIFICATIONS_FETCH_PERIOD)}},{key:"_fetchPinnedHistoricalNotifications",value:function(e){if(e===gr.cacheMessages.INIT&&(u.log("UNCWidget: NotificationProcessorObject: _fetchPinnedHistoricalNotifications - hasMorePinnedHistoricalNotifications: ",Zr.getInstance().getPinnedHistoricalNotificationsAvailable()),this.initializeByDefault(),Zr.getInstance().setPinnedHistoricalNotificationsAvailable()),!1!==Zr.getInstance().getPinnedHistoricalNotificationsAvailable()){if(!0!==this._fetchingPinnedHistoricalNotifications){this._fetchingPinnedHistoricalNotifications=!0;var t={};t.namespace=gr.MESSAGE_PINNED_HISTORICAL_Notifications;var n={},i=e||gr.cacheMessages.DEFAULT;n.locale=Nr.getInstance().deviceLocale,n.criteria=Jf.getCriteriaForFetchingNotifications(this.lastAvailablePinnedNotificationTimestamp),t.criteria=n,t.workflow=i,u.debug("UNCWidget: NotificationProcessorObject: _fetchPinnedHistoricalNotifications - ",t),Zr.getInstance().setFetchingSpinnerStateForSearchCall(),ra.getInstance().sendMessage(gr.GET_NOTIFICATIONS_BY_TIME,t)}}else Zr.getInstance().hideFetchingSpinnerStateForSearchCall()}},{key:"fetchHistoricalNotifications",value:function(e){if(e===gr.cacheMessages.INIT&&(u.log("UNCWidget: NotificationProcessorObject: _fetchHistoricalNotifications - hasMoreHistoricalTimelineNotifications: ",this._historicalNotificationsAvailable),this.initializeByDefault()),!1===this._historicalNotificationsAvailable)return"Not_Available";if(!0===this._fetchingHistoricalNotifications)return"Already_Fetching";this._fetchingHistoricalNotifications=!0;var t={},n=e||gr.cacheMessages.DEFAULT;return this.lastAvailableNotificationTimeStamp>0&&(t.timestamp=this.lastAvailableNotificationTimeStamp-1),t.namespace=gr.MESSAGE_HISTORICAL_Notifications,t.workflow=n,u.debug("UNCWidget: NotificationProcessorObject: _fetchHistoricalNotifications - ",t),Zr.getInstance().setFetchingSpinnerState(),ra.getInstance().sendMessage(gr.GET_NOTIFICATIONS_BY_TIME,t),"Calling_Fetch"}},{key:"fetchXHistoricalNotifications",value:function(e){e>0?this.fetchHistoricalNotifications()===gr.NOT_AVAILABLE?(this.numberOfCallsToBeMadeToTimelineApi=0,Zr.getInstance().hideFetchingSpinnerState()):(Zr.getInstance().setFetchingSpinnerState(),this.numberOfCallsToBeMadeToTimelineApi=e-1):Zr.getInstance().hideFetchingSpinnerState()}},{key:"hasMoreHistoricalNotificationsAvailable",value:function(){return this._historicalNotificationsAvailable}},{key:"_getConfigurationForRequestTypeSubtypes",value:function(){var e={};e.namespace=gr.MESSAGE_SERVER_CONFIGURATIONS,ra.getInstance().sendMessage(gr.GET_CONFIGURATIONS_FOR_REQUESTS,e)}},{key:"handleServerConfigurations",value:function(e){if(u.debug("UNCWidget: NotificationProcessorObject: handleServerConfigurations - Configuration Received",e),e&&e["config-params"]&&e["config-params"]["config-param"]&&Array.isArray(e["config-params"]["config-param"])){for(var t=e["config-params"]["config-param"],n=0;n<t.length;n+=1){var i=t[n];if("SearchTypeSubtypes"===i.key){var r=[];Array.isArray(i.value)?(r=i.value,Nr.getInstance().appendInSearchTypeSubtypeList(r)):i.value&&(r=[i.value],Nr.getInstance().appendInSearchTypeSubtypeList(r));break}}this._fetchPinnedHistoricalNotifications(gr.cacheMessages.INIT)}else this._fetchPinnedHistoricalNotifications(gr.cacheMessages.INIT)}},{key:"beginHistoricalNotificationsFetching",value:function(e){this.fetchHistoricalNotifications(e),this._getConfigurationForRequestTypeSubtypes(),this.triggerUpdateOfTimeStringOfAllNotifications()}},{key:"triggerUpdateOfTimeStringOfAllNotifications",value:function(){this.timestringUpdateInterval=setInterval(this.updateTimeStringOfAllNotifications.bind(this),6e4)}},{key:"stopUpdateOfTimeStringOfAllNotifications",value:function(){clearInterval(this.timestringUpdateInterval)}},{key:"checkForPinnedPinnedNotification",value:function(e){var t=mo.getInstance().getPinnedNotifications();if(t)for(var n=0;n<t.length;n+=1)if(t[n].id===e.id)return!0;return!1}},{key:"updateTimeStringOfAllNotifications",value:function(){So.getInstance().getAllNotifications().forEach((function(e){var t=e;t.timeString=Jf.getTimeStringToShowOnUI(t.renderingOrderTimestamp)})),So.getInstance().reloadNotifications()}}])&&Qo(t.prototype,n),i&&Qo(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ta(e){return ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ta(e)}function na(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ia(i.key),i)}}function ia(e){var t=function(e,t){if("object"!=ta(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ta(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ta(t)?t:String(t)}var ra=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=null,this.ccxCoreObj=null}var t,n,i;return t=e,n=[{key:"initializeNotificationEngineInterfaceObj",value:function(e,t){this.context=e,this.ccxCoreObj=t}},{key:"sendMessage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gr.DEFAULT_TARGET_TYPE,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:gr.DEFAULT_TARGET_ID,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];u.debug("UNCWidget: CommunicationInterface: sendMessage - Sending message to",i," with messageName:",e,"and with data",t);var o={};if(o=n===gr.CLIENT_TARGET_TYPE?{targetType:n,targetID:i,message:e,data:t}:{sourceID:gr.SOURCE_ID,sourceType:gr.DEFAULT_TARGET_TYPE,targetType:n,targetID:i,message:e,data:t},!1===r&&(o.isAsync=!1),this.ccxCoreObj&&this.ccxCoreObj.handleMessage)return this.ccxCoreObj.handleMessage(o)}},{key:"handleMessage",value:function(e){var t=e.message,n=e.data;switch(u.debug("UNCWidget: CommunicationInterface: handleMessage - Received data with messageName",t,"and data",n),t){case gr.MESSAGE_INIT:If.getInstance().initiateUXProcessing();break;case gr.MESSAGE_NEW_Notifications:ea.getInstance().parseNewIncomingNotifications(n);break;case gr.MESSAGE_HISTORICAL_LOCAL_NOTIFICATIONS:ea.getInstance().parseIncomingHistoricalLocalNotifications(n);break;case gr.MESSAGE_HISTORICAL_Notifications:ea.getInstance().parseIncomingHistoricalNotifications(n);break;case gr.MESSAGE_PINNED_HISTORICAL_Notifications:ea.getInstance().parseIncomingPinnedHistoricalNotifications(n);break;case gr.MESSAGE_SERVER_CONFIGURATIONS:ea.getInstance().handleServerConfigurations(n);break;case gr.MESSAGE_UPDATE_NOTIFICATION_CONTENT:ea.getInstance().updateNotificationPayloadForID(n);break;case gr.MESSAGE_HANDLE_USER_CONTEXT_DATA:wr.getInstance().handleIncomingUserContextData(n);break;case gr.MESSAGE_TIMESTAMP_DRIFT:Nr.getInstance().setTimeStampDrift(n.value);break;case gr.MESSAGE_HIDE_NOTIFICATION_WIDGET_TRIGGERED:So.getInstance().hideWidget();break;case gr.MESSAGE_SHOW_NOTIFICATION_WIDGET_TRIGGERED:setTimeout((function(){var e=n?n.notificationId:null;So.getInstance().showWidget(e)}),500);break;case gr.MESSAGE_SHOW_NOTIFICATION_WIDGET_WITHOUT_DELAY_TRIGGERED:var i=n?n.notificationId:null;So.getInstance().showWidget(i);break;case gr.MESSAGE_UPDATE_ANALYTICS_CONFIG:if(void 0===n.analyticsEnabled)return;Nr.getInstance().analyticsEnabled="true"===n.analyticsEnabled.toString().toLowerCase();break;case gr.MESSAGE_BADGE_COUNT:if(Nr.getInstance().badgeCount=parseInt(n.value,10),Nr.getInstance().isWidgetOpen||(Nr.getInstance().badgeCount>0?(Nr.getInstance().badgeRef&&(Nr.getInstance().badgeRef.style.display="block"),Nr.getInstance().badgeCountRef&&(Ur()?Nr.getInstance().acceptNotificationsForSurface.length>0&&(Nr.getInstance().badgeCount<10?Nr.getInstance().badgeCountRef.innerHTML=Nr.getInstance().badgeCount:Nr.getInstance().badgeCountRef.innerHTML="9+"):Nr.getInstance().badgeCount<100?Nr.getInstance().badgeCountRef.innerHTML=Nr.getInstance().badgeCount:Nr.getInstance().badgeCountRef.innerHTML="99+")):Nr.getInstance().badgeRef&&(Nr.getInstance().badgeRef.style.display="none"),this.sendMessage(gr.UPDATE_BADGE_COUNT,{value:n.value},gr.CLIENT_TARGET_TYPE,"")),Nr.getInstance().surface&&Nr.getInstance().surface.toUpperCase()===gr.SURFACE_DESKTOP){var r={},o={};Nr.getInstance().badgeCount>0?o.iconType="badge":o.iconType="normal",r.NotificationIconData=o,this.sendMessage(gr.CHANGE_NOTIFICATION_ICON,r,"Applet",gr.CONTAINER_BL_ID)}break;case gr.MESSAGE_IS_CCD_PRESENT:Nr.getInstance().isCCDPresent="true"===n.isCCDPresent.toString().toLowerCase();break;case gr.MESSAGE_IS_ADCS_RUNNING:Nr.getInstance().isADSRunning=n.data}}}],i=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"deleteInstance",value:function(){e.instance=null}}],n&&na(t.prototype,n),i&&na(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function oa(e){return oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oa(e)}function aa(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,sa(i.key),i)}}function sa(e){var t=function(e,t){if("object"!=oa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=oa(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oa(t)?t:String(t)}var ca=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u.debug("UNCWidget: RegisterUnRegisterObservers: RegisterUnRegisterObservers object is being constructed.....")}var t,n,i;return t=e,i=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"deleteInstance",value:function(){e.instance=null}}],(n=[{key:"registerObserverForTypeSubtype",value:function(e,t){var n={},i={};n.namespace=gr.MESSAGE_NEW_Notifications,n.id=gr.UNCWidget,n.typeSubtypeList=[],i.type=e,i.subType=t,n.typeSubtypeList.push(i),ra.getInstance().sendMessage(gr.REGISTER_OBSERVER,n)}},{key:"unRegisterObserverForTypeSubtype",value:function(e,t){var n={},i={};n.typeSubtypeList=[],i.type=e,i.subType=t,n.typeSubtypeList.push(i),ra.getInstance().sendMessage(gr.UNREGISTER_OBSERVER,n)}},{key:"registerObserverForAllNotifications",value:function(){var e={};e.namespace=gr.MESSAGE_NEW_Notifications,e.id=gr.UNCWidget,ra.getInstance().sendMessage(gr.REGISTER_OBSERVER,e)}}])&&aa(t.prototype,n),i&&aa(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function la(e){return la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},la(e)}function ua(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,fa(i.key),i)}}function fa(e){var t=function(e,t){if("object"!=la(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=la(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==la(t)?t:String(t)}var da="assetsFiles",pa=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.CCDAssetNotificationHandlingForDesktop=!1}var t,n,i;return t=e,(n=[{key:"initialize",value:function(){var e=this,t=Nr.getInstance().ccdGlobalStore;if(t){var n=function(t){u.info("UNCWidget: CCDDataHandler: isCloudDocsEnabled = ".concat(t)),e.CCDAssetNotificationHandlingForDesktop=t};t.onStoreRegister(da,(function(){var e=t.get(da).isCloudDocsEnabled;n(e),t.observe(da,"isCloudDocsEnabled",n)}))}else u.info("UNCWidget: CCDDataHandler: ccdGlobalStore is not available")}},{key:"handleAssetsFileNotification",value:function(e,t){var n,i=t.payload.timeline.commentSection;i&&i.resourceName&&(n=i.resourceName);var r=e.ccdRoutePath;if(n){var o=encodeURIComponent(n);r="".concat(r,"&displayName=").concat(o)}u.debug("UNCWidget: CCDDataHandler: handleAssetsFileNotification: calling ");try{var a=Nr.getInstance().ccdGlobalStore.get(da);a&&a.notificationHandlerStore?a.notificationHandlerStore.handleNotification(r):u.warn("UNCWidget: CCDDataHandler: handleAssetsFileNotification: notificationHandlerStore not avaialbe.")}catch(e){u.warn("UNCWidget: CCDDataHandler: handleAssetsFileNotification: notificationHandlerStore: - Exception occurred",e)}}}])&&ua(t.prototype,n),i&&ua(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()),ha=n(3074),ga=n.n(ha),ma=n(7249),va=n(4642),ya=n(2259),ba=n(6837),_a=n(9286),Ca=n(8098),Ea=n.n(Ca),Sa=n(9590),Na=n(3974),Oa=n.n(Na),Ta=["scale","color"];function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ia.apply(this,arguments)}function wa(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Aa(e){e.scale,e.color;var t=wa(e,Ta);return jr().createElement("svg",Ia({id:"s2IconBell20N",width:"20",height:"20",viewBox:"0 0 20 20"},t),jr().createElement("path",{d:"m17.78613,12.67578c-.16846-.30859-.34082-.60742-.51123-.90234-.82666-1.43457-1.54102-2.67285-1.54102-4.62012,0-3.11914-2.5376-5.65723-5.65723-5.65723s-5.65723,2.53809-5.65723,5.65723c0,1.7666-.75879,3.04883-1.56201,4.40527-.22021.37207-.44141.74609-.64941,1.13086-.37598.69629-.35693,1.52051.05078,2.2041.41211.69043,1.13672,1.10254,1.93848,1.10254h3.05225c0,1.5166,1.2334,2.75,2.75,2.75s2.75-1.2334,2.75-2.75h3.05518c.80322,0,1.52783-.41309,1.93896-1.10547.40771-.6875.42383-1.51562.04248-2.21484Zm-7.78662,4.57031c-.68945,0-1.25-.56055-1.25-1.25h2.5c0,.68945-.56055,1.25-1.25,1.25Zm6.4541-3.12109c-.06641.11133-.26221.37109-.64893.37109H4.19727c-.26855,0-.51172-.13867-.65039-.37109-.06445-.1084-.19531-.39551-.01855-.72266.19824-.36816.40967-.72461.61963-1.0791.87109-1.4707,1.77148-2.99219,1.77148-5.16992,0-2.25391,1.90381-4.15723,4.15723-4.15723s4.15723,1.90332,4.15723,4.15723c0,2.34863.88525,3.88379,1.7417,5.36914.16455.28516.33057.57324.49365.87207.18066.33105.04932.62109-.01562.73047Z"}))}var ka=n(2263),Da=n(9121),Pa=n(8151),Ra=n(2702),xa=function(e){var t=e.handleFilterClick,n=void 0===t?function(){}:t,i=e.selectedFilter,r=void 0===i?{filterID:gr.EVERYTHING,value:gr.EVERYTHING}:i,o=e.filterOptions,a=Nr.getInstance().filterDetails,s=Ea()("unc-filter-height",{"unc-filter-height-on-mobile":Nr.getInstance().deviceType===gr.DeviceType.MOBILE});return jr().createElement(Ra.default,{options:o,onChange:function(e){return n({filterID:a&&a.filterID,value:e})},quiet:!0,value:r.value,flexible:!0,alignRight:!0,onClose:function(e){e&&(e.preventDefault(),e.stopPropagation())},menuClassName:s})},Fa=function(e){var t,n=Nr.getInstance(),i=n.localizedStrings,r=n.filterDetails,o=n.displayData;n.env;t=i?JSON.parse(JSON.stringify(i)):JSON.parse(JSON.stringify(o));var a=e.handleFilterClick,s=e.selectedFilter,c=(e.onButtonClick,function(){var e=[{icon:r&&r.filterIcon?jr().createElement("img",{src:r.filterIcon,alt:"app-icon",className:"filter-icon"}):jr().createElement(Pa.Z,null),label:t.LOC_EVERYTHING?t.LOC_EVERYTHING:gr.displayStrings.LOC_EVERYTHING,value:gr.EVERYTHING}];return r&&r.categories&&r.categories.forEach((function(t){try{t.iconUrl&&qe(t.iconUrl)?e.push({icon:jr().createElement("img",{src:t.iconUrl,alt:"app-icon",className:"filter-icon"}),label:t.name,value:t.id}):e.push({label:t.name,value:t.id})}catch(n){u.debug("UNCWidget: NotificationsProvider: icons sent are not supported: ",n),e.push({icon:jr().createElement(Pa.Z,null),label:t.name,value:t.id})}})),u.debug("UNCWidget: NotificationsProvider: filters available are ",e),e}());return jr().createElement(jr().Fragment,null,jr().createElement("div",{className:"notifications-container-header"},jr().createElement("h2",{className:"notification-string"},t.LOC_NOTIFICATIONS_SMALL),jr().createElement("div",{className:"notification-filter",tabIndex:Nr.tabIndex},a&&s&&c.length>1&&jr().createElement(xa,{selectedFilter:s,handleFilterClick:a,filterOptions:c}))),jr().createElement("div",{className:"heading-content-separator-parent"},jr().createElement("div",{className:"heading-content-separator"})))};function La(e){return La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(e)}function Ua(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ma(i.key),i)}}function Ma(e){var t=function(e,t){if("object"!=La(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=La(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==La(t)?t:String(t)}function ja(e,t,n){return t=Ha(t),function(e,t){if(t&&("object"===La(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Wa()?Reflect.construct(t,n||[],Ha(e).constructor):t.apply(e,n))}function Wa(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Wa=function(){return!!e})()}function Ha(e){return Ha=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ha(e)}function qa(e,t){return qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qa(e,t)}var Va=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=ja(this,t,[].concat(i))).close=function(e){u.log("UNCWidget: welcome screen cross clicked"),e.stopPropagation(),ra.getInstance().handleMessage({message:gr.MESSAGE_HIDE_NOTIFICATION_WIDGET_TRIGGERED})},e.handleWelcomeScreenErrorIconCase=function(){e.bellIconRef&&(e.bellIconRef.style.visibility="hidden")},e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qa(e,t)}(t,e),n=t,(i=[{key:"componentWillUnmount",value:function(){this.bellIconRef=null}},{key:"render",value:function(){var e,t=this;u.debug("UNCWidget: WelcomeScreen: render - inside render for welcome screen"),e=Nr.getInstance().localizedStrings?JSON.parse(JSON.stringify(Nr.getInstance().localizedStrings)):JSON.parse(JSON.stringify(Nr.getInstance().displayData));var n=this.props.newNotificationBanner;return jr().createElement("div",{className:"no-notifications-screen"},jr().createElement("div",{className:"notifications-title"},jr().createElement(Fa,{onButtonClick:this.close}),Nr.getInstance().showWidgetCrossButton&&jr().createElement("div",{className:"widget-close-icon",onClick:this.close},jr().createElement(ka.Z,{className:"",size:"S"}))),n,jr().createElement("div",{className:"welcome-screen"},jr().createElement("div",{className:"welcome-screen-content"},jr().createElement("div",{className:"bellIcon",ref:function(e){t.bellIconRef=e}},jr().createElement("img",{className:"no-notifications-icon",alt:"",src:Jf.getEmptyNotificationScreenIcon(),onError:function(){return t.handleWelcomeScreenErrorIconCase()}})),jr().createElement("div",{className:"heading"},jr().createElement("span",null,e.LOC_NO_NOTIFICATIONS_TEXT?e.LOC_NO_NOTIFICATIONS_TEXT:gr.displayStrings.LOC_NO_NOTIFICATIONS_TEXT)))))}}])&&Ua(n.prototype,i),r&&Ua(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(jr().Component),Ba=n(9732),Ga=n(5884),za=n(5509),Ka=n(6929),Ya=n(3258);function Xa(e){return Xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(e)}var Ja=["alignRight","closeOnSelect","container","boundariesElement"];function $a(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qa(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Za(i.key),i)}}function Za(e){var t=function(e,t){if("object"!=Xa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Xa(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xa(t)?t:String(t)}function es(e,t,n){return t=ns(t),function(e,t){if(t&&("object"===Xa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ts()?Reflect.construct(t,n||[],ns(e).constructor):t.apply(e,n))}function ts(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ts=function(){return!!e})()}function ns(e){return ns=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ns(e)}function is(e,t){return is=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},is(e,t)}var rs=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=es(this,t,[e])).onOpen=function(e){n.setState({open:!0}),n.props.onOpen&&n.props.onOpen(e)},n.onClose=function(e){n.setState({open:!1}),n.props.onClose&&n.props.onClose(e)},n.onMenuClose=function(){n.overlayTrigger.hide()},n.onSelect=function(){var e;(n.props.closeOnSelect&&n.onMenuClose(),n.props.onSelect)&&(e=n.props).onSelect.apply(e,arguments)},n.onClick=function(e){n.props.onClick&&n.props.onClick(e)},n.onKeyDownTrigger=function(e){if(!("function"==typeof e.isDefaultPrevented&&e.isDefaultPrevented()||e.defaultPrevented)&&n.triggerRef)switch(e.key){case"Enter":case"ArrowDown":case" ":e.preventDefault(),e.stopPropagation(),n.triggerRef.onClick()}},n.dropdownId=(0,Ya.default)(),n.state={open:!1},n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&is(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this,t=this.props,n=t.alignRight,i=t.closeOnSelect,r=t.container,o=t.boundariesElement,a=$a(t,Ja),s=jr().Children.toArray(this.props.children),c=s.find((function(e){return e.props.dropdownTrigger}))||s[0],l=c.props.id||"".concat(this.dropdownId,"-trigger"),u=s.find((function(e){return e.props.dropdownMenu||e.type===Wr.Menu}))||s[1],f=u.props.id||"".concat(this.dropdownId,"-menu");return delete a.onOpen,delete a.onClose,delete a.onClick,jr().createElement("div",a,s.map((function(t,a){return t===c?jr().createElement(ma.default,{target:e,trigger:"click",placement:n?"bottom right":"bottom left",ref:function(t){return e.overlayTrigger=t},onClick:e.onClick,onShow:e.onOpen,closeOnSelect:i,key:a,onHide:e.onClose,container:r,boundariesElement:o,delayHide:0},jr().cloneElement(c,{id:l,"aria-haspopup":c.props["aria-haspopup"]||"true","aria-expanded":e.state.open||null,"aria-controls":e.state.open?f:null,ref:function(t){e.triggerRef=t;var n=c.ref;"function"==typeof n&&n(t)}}),jr().cloneElement(u,{id:f,"aria-labelledby":u.props["aria-labelledby"]||l,onClose:e.onMenuClose,onSelect:e.onSelect,autoFocus:!0,closeOnSelect:i})):t!==u?t:void 0})))}}])&&Qa(n.prototype,i),r&&Qa(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(jr().Component);function os(e){return os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},os(e)}function as(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ss(i.key),i)}}function ss(e){var t=function(e,t){if("object"!=os(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=os(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==os(t)?t:String(t)}var cs=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"keyDownEventHandler",value:function(e,t,n,i,r,o,a){(13===e.keyCode||i&&32===e.keyCode)&&t&&t(),27===e.keyCode&&n&&n(),e.shiftKey&&9===e.keyCode?r&&r():9===e.keyCode&&o&&o(),40===e.keyCode&&a&&a()}},{key:"keyDownEventHandlerWithShiftTab",value:function(e,t,n,i){(13===e.keyCode||n&&32===e.keyCode)&&(t&&t(),e.preventDefault()),e.shiftKey&&9===e.keyCode&&i&&i()}}],(n=null)&&as(t.prototype,n),i&&as(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ls(e){return ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ls(e)}function us(){return us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},us.apply(this,arguments)}function fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ds(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fs(Object(n),!0).forEach((function(t){ps(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ps(e,t,n){return(t=gs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hs(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,gs(i.key),i)}}function gs(e){var t=function(e,t){if("object"!=ls(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ls(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ls(t)?t:String(t)}function ms(e,t,n){return t=ys(t),function(e,t){if(t&&("object"===ls(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bs(e)}(e,vs()?Reflect.construct(t,n||[],ys(e).constructor):t.apply(e,n))}function vs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vs=function(){return!!e})()}function ys(e){return ys=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ys(e)}function bs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _s(e,t){return _s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_s(e,t)}var Cs=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=ms(this,t,[].concat(i))).displayStrings=Nr.getInstance().getLocalizedDisplayStrings(),e.state={showActionMenu:!1,showRenderTimeline:!1,showCommentTooltip:!1,eventNotificationStatus:""},e.avatarFallbackHandled=!1,e.serviceFallbackHandled=!1,e.commentIconFallbackHandledOnCommentTimeline=!1,e.setEventNotificationLiveTimerId=null,e.setEventNotificationOnDemandTimerId=null,e.clickListenerFn=function(t){t.preventDefault(),t.stopImmediatePropagation(),e.hideMenu(),Mf.handleURLClick(e.props,t)},e.keydownListenerFn=function(t){13===t.keyCode||32===t.keyCode?(t.preventDefault(),t.stopImmediatePropagation(),e.hideMenu(),Mf.handleURLClick(e.props,t)):t.stopImmediatePropagation()},e.auxclickListenerFn=function(e){e.preventDefault(),e.stopImmediatePropagation()},e.onClick=function(t){e.hideMenu();var n=e.props.notification.payload.timeline.defaultAction,i=e.props.notification.payload.timeline.viewtype;if(u.debug("UNCWidget: BaseTimelineNotification: onclick ",e.props.notification.payload),n)e.handleDefaultAction(t);else if(0===gr.SUPPORTED_VIEW_TYPES.indexOf(i)){u.debug("UNCWidget: BaseTimelineNotification: handling fallback default action for simpletimelineview");var r=e.contentRef;if(r){var o=r.getElementsByTagName("a");o&&o[0]&&o[0].attributes.href&&o[0].attributes.href.value&&"#"!==o[0].attributes.href.value&&Mf.handleURLClick(e.props,o[0].click())}}else Mf.handleClickAction(e.props,gr.HANDLE_NOTIFICATION_CLICK,{clickType:"body",event:t})},e.onMenuMouseEnter=function(){e.timeoutFn&&(clearTimeout(e.timeoutFn),e.timeoutFn=null)},e.onMenuMouseLeave=function(){var t=e.state;e.timeoutFn=setTimeout((function(){e.setState(ds(ds({},t),{},{showActionMenu:!1})),e.hideMenu()}),50)},e.onMouseEnter=function(){e.timeoutFn&&(clearTimeout(e.timeoutFn),e.timeoutFn=null);var t=e.state;e.setState(ds(ds({},t),{},{showActionMenu:!0}))},e.onMouseLeave=function(){var t=e.state;e.timeoutFn=setTimeout((function(){e.setState(ds(ds({},t),{},{showActionMenu:!1})),e.hideMenu()}),50)},e.hideMenu=function(){var t=(e.actionMenu||{}).overlayTrigger;t&&t.hide()},e.handleAvatarIconFallback=function(){e.avatarIconRef&&!e.avatarFallbackHandled&&(e.avatarFallbackHandled=!0,e.avatarIconRef.src=e.props.notification.userIconDetails.avatarIconFallback)},e.handleServiceIconFallback=function(){e.serviceIconRef&&!e.serviceFallbackHandled&&(e.serviceFallbackHandled=!0,e.serviceIconRef.src=e.props.notification.userIconDetails.serviceIconFallback)},e.getMenuItems=function(){var t=e.props.notification,n=[],i={};return t.state===vr.NOTIFICATION_STATE_READ?(i.onClick=e.onMarkAsUnread,i.displayString=e.displayStrings.LOC_MARK_AS_UNREAD):(i.onClick=e.onMarkAsRead,i.displayString=e.displayStrings.LOC_MARK_AS_READ),Pr.isAnnouncementNotification(t)||n.push(jr().createElement(Wr.MenuItem,{onClick:i.onClick,onKeyDown:function(t){return cs.keyDownEventHandler(t,i.onClick.bind(bs(e),t),e.bringThreeDotsInFocus.bind(bs(e),t),!0,e.tabClickOnMenuItem.bind(bs(e),t),e.tabClickOnMenuItem.bind(bs(e),t))}},i.displayString)),n.push(jr().createElement(Wr.MenuItem,{onClick:e.onDismiss,onKeyDown:function(t){return cs.keyDownEventHandler(t,null,e.bringThreeDotsInFocus.bind(bs(e),t),!0,e.tabClickOnMenuItem.bind(bs(e),t),e.tabClickOnMenuItem.bind(bs(e),t))}},e.displayStrings.LOC_DISMISS)),t.additionalMenuItems&&t.additionalMenuItems.forEach((function(t){t.actionId&&n.push(jr().createElement(Wr.MenuItem,{onClick:function(n){return e.onActionClick(n,t)},onKeyDown:function(n){return cs.keyDownEventHandler(n,e.onActionClick.bind(bs(e),n,t),e.bringThreeDotsInFocus.bind(bs(e),n),!0,e.tabClickOnMenuItem.bind(bs(e),n),e.tabClickOnMenuItem.bind(bs(e),n))}},t.actionId))})),n},e.onAvatarClick=function(t){var n=e.props.notification,i=n.userIconDetails.SSODetails,r={event:t,target:n.userIconDetails.avatarClickURL,clickType:"profile"};i&&i.ssoEnabled&&"true"===i.ssoEnabled.toString()?(r.ssoEnabled="true",r.ssoTargetClientID=i.ssoTargetClientID,r.ssoTargetScope=i.ssoTargetScope):r.ssoEnabled="false",n.userIconDetails.openInSameTab&&(r.openInSameTab=!0),Mf.handleClickAction(e.props,gr.OPEN_IN_NEW_TAB,r)},e.onThreeDotMenuClick=function(e){e.stopPropagation(),e.nativeEvent&&"function"==typeof e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()},e.onDismiss=function(t){e.hideMenu(),Mf.handleClickAction(e.props,gr.DISMISS_CLICKED,{event:t}),e.props.notification&&e.props.selectedFilter.value!==gr.EVERYTHING&&e.props.setLoadMoreButtonVisibility()},e.onActionClick=function(t,n){var i,r=n.actionTargetURL,o=n.SSODetails,a=n.deepLinkWorkflows;Nr.getInstance().surface&&Nr.getInstance().surface.toUpperCase()===gr.SURFACE_DESKTOP&&a?(i={deepLinkWorkflows:a,event:t},Mf.handleClickAction(e.props,gr.DEEPLINK_WORKFLOW_CLICKED,i)):(i={event:t,target:r,clickType:"profile"},o&&o.ssoEnabled&&"true"===o.ssoEnabled.toString()?(i.ssoEnabled="true",i.ssoTargetClientID=o.ssoTargetClientID,i.ssoTargetScope=o.ssoTargetScope):i.ssoEnabled="false",Mf.handleClickAction(e.props,gr.OPEN_IN_NEW_TAB,i))},e.onMarkAsUnread=function(t){e.hideMenu(),Mf.handleClickAction(e.props,gr.MARK_AS_UNREAD_CLICKED,{event:t}),e.bringThreeDotsInFocus()},e.markRead=function(t){Mf.handleClickAction(e.props,gr.MARK_AS_READ_CLICKED,{event:t})},e.onMarkAsRead=function(t){e.hideMenu(),e.markRead(t),e.bringThreeDotsInFocus()},e.onThreeDotKeyDown=function(t){t.stopPropagation(),t.shiftKey&&9===t.keyCode||9===t.keyCode&&e.onMouseLeave()},e.notificationContainerKeyDown=function(t){t.stopPropagation(),t.shiftKey&&9===t.keyCode&&t.target.classList.contains("notification-container")?e.onMouseLeave():13!==t.keyCode&&" "!==t.keyCode&&32!==t.keyCode||e.onClick(t)},e.bringThreeDotsInFocus=function(){(0,Hr.findDOMNode)(e.threeDotButton).focus()},e.tabClickOnMenuItem=function(e){e.preventDefault(),e.stopPropagation()},e.onChevronClick=function(t){t.preventDefault(),t.stopPropagation(),e.setState((function(e){return ds(ds({},e),{},{showRenderTimeline:!e.showRenderTimeline})})),Jf.isNotificationStateValidForNew(e.props.notification.state)&&e.props.notification.handleNotificationClickAction(),e.props.notification&&e.props.selectedFilter.value!==gr.EVERYTHING&&e.props.setLoadMoreButtonVisibility()},e.onCommentIconClickforCommentTimeline=function(t){u.debug("UNCWidget: CommentTimelineNotification: onCommentIconClick:");var n=e.props.notification.payload.timeline.commentSection,i=n.SSODetails;if(n&&n.passToHostClient&&"true"===n.passToHostClient.toString().toLowerCase()&&Nr.getInstance().hostCallBackFn&&"function"==typeof Nr.getInstance().hostCallBackFn)Mf.passClickActionToHostClient(e.props.notification,t);else{var r,o=n.deepLinkWorkflows;if(u.debug("UNCWidget: CommentTimelineNotification: onCommentIconClick: deepLinkWorkflows: ",o),o&&Nr.getInstance().surface&&Nr.getInstance().surface.toUpperCase()===gr.SURFACE_DESKTOP&&(u.debug("UNCWidget: CommentTimelineNotification: onCommentIconClick: going to execute deeplink workflows"),Mf.handleClickAction(e.props,gr.DEEPLINK_WORKFLOW_CLICKED,{deepLinkWorkflows:o,event:t})))return void u.debug("UNCWidget: CommentTimelineNotification: onCommentIconClick deeplink handled sucessfully:",o);u.debug("UNCWidget: CommentTimelineNotification: onCommentIconClick: checking further"),n.ccdRoutePath&&(r=n.ccdRoutePath);var a={event:t,target:n.commentURL,clickType:"link",ccdRoutePath:r};i&&i.ssoEnabled&&"true"===i.ssoEnabled.toString()&&(a.ssoEnabled="true",a.ssoTargetClientID=i.ssoTargetClientID,a.ssoTargetScope=i.ssoTargetScope),n.openInSameTab&&"true"===n.openInSameTab.toString().toLowerCase()&&(a.openInSameTab=!0),n.content||(u.debug("UNCWidget: CommentTimelineNotification: onCommentIconClick: sending event to rendering utility "),Mf.handleClickAction(e.props,gr.OPEN_IN_NEW_TAB,a))}},e.handleCommentIconFallbackOnCommentTimeline=function(){if(e.commentIconRefOnCommentTimeline&&!e.commentIconFallbackHandledOnCommentTimeline){e.commentIconFallbackHandledOnCommentTimeline=!0;var t=Jf.getBasePathForResources();e.commentIconRefOnCommentTimeline.src=t+Nr.getInstance().imagePathMap["./2x/project-placeholder.png"],e.commentIconRefOnCommentTimeline.src=e.commentIconRefOnCommentTimeline.src.replace("".concat(He.PATH_PARAM,"//"),"".concat(He.PATH_PARAM,"/"))}},e.handleCommentIconFallback=function(e){e.target.onerror=null;var t=Jf.getBasePathForResources();e.target.src=t+Nr.getInstance().imagePathMap["./1x/unc_thumbnail_unavailable.svg"],e.target.src=e.target.src.replace("".concat(He.PATH_PARAM,"//"),"".concat(He.PATH_PARAM,"/"))},e.renderMoreDiv=function(){var t,n,i=e.props,r=i.notification,o=i.overlayContainer,a=e.state,s=a.showActionMenu,c=a.showRenderTimeline;t=Nr.getInstance().localizedStrings?JSON.parse(JSON.stringify(Nr.getInstance().localizedStrings)):JSON.parse(JSON.stringify(Nr.getInstance().displayData)),n=Ur()?c?jr().createElement(Ba.Z,{size:"S",tabIndex:0}):jr().createElement(Da.Z,{size:"S",tabIndex:0}):jr().createElement(Da.Z,{size:"S",className:"rotate-chevron-image"});var l=Ur()?{boundariesElement:function(){try{var e;return(0,Hr.findDOMNode)(o())||(null===(e=document)||void 0===e?void 0:e.body)}catch(e){var t;return u.error("UNCWidget: Failed to find overlayContainer ",e),null===(t=document)||void 0===t?void 0:t.body}}}:{};return jr().createElement("div",{className:"morediv"},jr().createElement("div",{className:s&&(Jf.isNotificationStateValidForNew(r.state)||r.state===vr.NOTIFICATION_STATE_READ)||Jf.isDeviceTypeMobile()?"":"hiddenthreedots",onKeyDown:e.onThreeDotKeyDown,onClick:e.onThreeDotMenuClick},jr().createElement(ma.default,us({container:o,trigger:["hover","focus"],delayShow:1e3,placement:"bottom"},l),jr().createElement(rs,{boundariesElement:function(){return(0,Hr.findDOMNode)(o())},container:o,ref:function(t){e.actionMenu=t}},jr().createElement(Sa.default,{variant:"action",className:"morebutton","aria-label":t.LOC_MORE_ACTIONS,quiet:!0,icon:jr().createElement(za.Z,null),ref:function(t){e.threeDotButton=t}}),jr().createElement(Wr.Menu,{className:"unc-morediv-menu",onMouseEnter:e.onMenuMouseEnter,onMouseLeave:e.onMenuMouseLeave},e.getMenuItems())),Jf.isDeviceTypeMobile()?jr().createElement("div",null):jr().createElement(_a.default,null,t.LOC_MORE_ACTIONS))),jr().createElement(Sa.default,{ref:function(t){e.chevronButtonRef=t},onClick:e.onChevronClick,onKeyDown:function(t){return cs.keyDownEventHandler(t,e.onChevronClick.bind(bs(e),t),null,!0)},variant:"action","aria-label":c?"Hide":"Show",className:Ea()({"chevron-box-open":c},"chevron-box","chevronbutton"),icon:n}))},e.renderCloseButton=function(){return jr().createElement("div",{className:"closeButtonContainer"},jr().createElement(Sa.default,{className:"closeButton",ref:function(t){e.crossButtonRef=t},onClick:e.markRead,onKeyDown:function(t){return cs.keyDownEventHandler(t,e.markRead.bind(bs(e),t),null,!0)},variant:"action",icon:jr().createElement(Ga.Z,{size:"XS"})}))},e.renderActionButtons=function(){var t=e.props,n=t.notification,i=t.section;return Pr.checkNotificationRenderedAsNonAnnouncement(n,i)?e.renderMoreDiv():e.renderCloseButton()},e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_s(e,t)}(t,e),n=t,(i=[{key:"componentDidMount",value:function(){var e=this.props.notification;e.state===vr.NOTIFICATION_STATE_NEW&&this.setState((function(e){return ds(ds({},e),{},{showRenderTimeline:!e.showRenderTimeline})})),this.updateStatusIfEventNotification(e)}},{key:"componentDidUpdate",value:function(){var e=this.contentRef;if(e)for(var t=e.getElementsByTagName("a"),n=0;n<t.length;n+=1)t[n].addEventListener("click",this.clickListenerFn),t[n].addEventListener("keydown",this.keydownListenerFn),Nr.getInstance().surface&&Nr.getInstance().surface.toUpperCase()===gr.SURFACE_DESKTOP&&t[n].addEventListener("auxclick",this.auxclickListenerFn)}},{key:"componentWillUnmount",value:function(){var e=this.contentRef;if(e)for(var t=e.getElementsByTagName("a"),n=0;n<t.length;n+=1)t[n].removeEventListener("click",this.clickListenerFn),t[n].removeEventListener("keydown",this.keydownListenerFn),Nr.surface&&Nr.surface.toUpperCase()===gr.SURFACE_DESKTOP&&t[n].removeEventListener("auxclick",this.auxclickListenerFn);this.commentIconRefOnCommentTimeline=null,this.avatarIconRef=null,this.serviceIconRef=null,this.contentRef=null,this.tooltipRef=null,this.tooltipRefContent=null,this.actionMenu=null,this.threeDotButton=null,this.chevronButtonRef=null,this.crossButtonRef=null,clearTimeout(this.setEventNotificationLiveTimerId),clearTimeout(this.setEventNotificationOnDemandTimerId)}},{key:"setOnDemandUrlAndSSO",value:function(e){var t=e.payload.timeline.defaultAction;t.onDemandUrl&&(t.url=t.onDemandUrl,t.onDemandSSODetails&&(t.SSODetails=t.onDemandSSODetails))}},{key:"getNotificationAriaLabel",value:function(){var e=this.props.notification,t=e.payload.timeline;if(t.content){var n=t.content.replace(/<[^>]+>/g,"");return"".concat(n.trim()," ").concat(e.timeString)}return"Notification"}},{key:"updateStatusOfEventNotification",value:function(e,t){var n=this,i=e.eventNotificationData,r=i.goLiveTime,o=i.goLiveExpireTime,a=i.markExpireTime,s=parseInt(t.trim(),10);e.payload.timeline.defaultAction,s>=a&&(e.eventNotificationData.shouldExpireOnClose=!0);var c=o-s,l=r-s;s<r?this.setState((function(e){return ds(ds({},e),{},{eventNotificationStatus:gr.displayStrings.LOC_UPCOMING})})):s>=r&&s<o?this.setState((function(e){return ds(ds({},e),{},{eventNotificationStatus:gr.displayStrings.LOC_LIVE})})):s>=o&&(this.setState((function(e){return ds(ds({},e),{},{eventNotificationStatus:gr.displayStrings.LOC_ON_DEMAND})})),this.setOnDemandUrlAndSSO(e)),l>0&&l<=gr.MAX_SETIMEOUT_IN_SECOND&&(this.setEventNotificationLiveTimerId=setTimeout((function(){n.setState((function(e){return ds(ds({},e),{},{eventNotificationStatus:gr.displayStrings.LOC_LIVE})})),n.setEventNotificationLiveTimerId=null}),1e3*l)),c>0&&c<=gr.MAX_SETIMEOUT_IN_SECOND&&(this.setEventNotificationOnDemandTimerId=setTimeout((function(){n.setState((function(e){return ds(ds({},e),{},{eventNotificationStatus:gr.displayStrings.LOC_ON_DEMAND})})),n.setOnDemandUrlAndSSO(e)}),1e3*c))}},{key:"updateStatusIfEventNotification",value:function(e){var t=this;Lr.isEventNotification(e)&&Jf.getCurrentTimeFromAkamai().then((function(e){return e.clone().text()})).then((function(n){t.updateStatusOfEventNotification(e,n)})).catch((function(n){clearTimeout(t.setEventNotificationLiveTimerId),clearTimeout(t.setEventNotificationOnDemandTimerId),u.debug("UNCWidget: EventNotificationUtils: Error while setting status of event notification: deciding on machine time: ",n),t.updateStatusOfEventNotification(e,Math.floor(Date.now()/1e3).toString())}))}},{key:"isTooltipEnabled",value:function(){return this.contentRef&&this.contentRef.offsetHeight+2<this.contentRef.scrollHeight}},{key:"renderAvatar",value:function(){var e=this,t=this.props.notification,n=t.payload.timeline.viewtype,i=Ea()("avatar-icon",{"avatar-icon-cursor-disabled":!(t.userIconDetails.avatarClickURL&&""!==t.userIconDetails.avatarClickURL),"avatar-icon-on-comment-icon":t.userIconDetails.commentSectionIcons,"avatar-icon-announcement":Pr.isAnnouncementNotification(t)},{"event-icon":Lr.isEventNotification(t)}),r=Ea()("service-icon",{"service-icon-on-comment-icon":t.userIconDetails.commentSectionIcons});return jr().createElement("div",{className:"avatar"},jr().createElement("div",{className:"image-container",onKeyDown:function(t){return cs.keyDownEventHandler(t,e.onAvatarClick.bind(e,t),null,!0,e.onMouseLeave.bind(e,t))}},t.userIconDetails.commentSectionIcons?n===gr.COMMENT_TIMELINE?jr().createElement("div",{onClick:e.onCommentIconClickforCommentTimeline},jr().createElement("img",{alt:"asset-icon",tabIndex:Nr.getInstance().tabIndex,className:Ea()("stack-comment-icon","total-comment-icons-1"),ref:function(t){e.commentIconRefOnCommentTimeline=t},src:t.projectIconForCommentNotification,onError:e.handleCommentIconFallbackOnCommentTimeline})):t.userIconDetails.commentSectionIcons.map((function(n,i){return i<4?jr().createElement("img",{alt:"asset-icon",tabIndex:Nr.getInstance().tabIndex,className:Ea()("stack-comment-icon","stack-comment-icon-".concat(i),ps({},"total-comment-icons-".concat(t.userIconDetails.commentSectionIcons.length),t.userIconDetails.commentSectionIcons.length<4),{"total-comment-icons-n":t.userIconDetails.commentSectionIcons.length>=4}),src:n.iconURL,onError:e.handleCommentIconFallback,key:"".concat(n.iconURL,"-").concat(i.toString())}):""})):"",jr().createElement("img",{alt:"user-avatar-icon",tabIndex:Nr.getInstance().tabIndex,ref:function(t){e.avatarIconRef=t},className:i,src:t.userIconDetails.avatarIcon,onError:this.handleAvatarIconFallback,onClick:this.onAvatarClick}),t.userIconDetails.serviceIcon&&jr().createElement("img",{alt:"service-icon",tabIndex:Nr.getInstance().tabIndex,className:r,ref:function(t){e.serviceIconRef=t},src:t.userIconDetails.serviceIcon,onError:this.handleServiceIconFallback})))}},{key:"render",value:function(){var e,t=this,n=this.props,i=n.notification,r=n.uniqueId,o=n.overlayContainer,a=(n.selectedFilter,n.section),s=this.state,c=(s.showActionMenu,s.showRenderTimeline),l=s.eventNotificationStatus,u=Ea()(["".concat(this.containerClass)],ps({},"".concat(this.containerClassOnMobile),Jf.isDeviceTypeMobile()));return jr().createElement("div",{className:["notification-container",Mf.checkIfClassToBeApplied(this.props,gr.Class_Contrast)?"contrast":"",Mf.checkIfClassToBeApplied(this.props,"hyperlink")?"hyperlink":"",Mf.checkIfClassToBeApplied(this.props,gr.Class_PinnedContrast)?"pinnedContrast":"",Mf.checkIfClassToBeApplied(this.props,gr.Class_AnnouncementContrast)?"announcementContrast":"",Mf.checkIfClassToBeApplied(this.props,gr.Class_Hidden)?"hidden":"",Jf.isNotificationStateValidForNew(i.state)?"status-light-visible":""].join(" "),onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,id:r,role:"option","aria-label":this.getNotificationAriaLabel(),"aria-selected":"true",onFocus:this.onMouseEnter,tabIndex:Nr.getInstance().tabIndex,onKeyDown:this.notificationContainerKeyDown},Pr.checkNotificationRenderedAsNonAnnouncement(i,a)&&Jf.isNotificationStateValidForNew(i.state)&&jr().createElement(Ka.default,{variant:"info",tabIndex:Nr.getInstance().tabIndex,className:"status-light-indicator",role:"status","aria-label":"unread-notification"}),jr().createElement("div",{className:u},jr().createElement("div",{className:"notification-header-box"},this.renderAvatar(),jr().createElement("div",{className:Ea()("notification-body",{"notification-body-announcement":!Pr.checkNotificationRenderedAsNonAnnouncement(i,a)})},jr().createElement(jr().Fragment,null,jr().createElement(ma.default,{container:o,trigger:["hover","focus"],placement:"bottom",disabled:!t.isTooltipEnabled(t.contentRef),delayShow:1e3,variant:"inspect",boundariesElement:function(){return(0,Hr.findDOMNode)(o())}},(e=jr().createElement("div",{dangerouslySetInnerHTML:{__html:i.payload.timeline.content},className:"content",id:"content_".concat(r),ref:function(e){t.contentRef=e},"aria-describedby":"tooltip_".concat(r)}),Lr.isEventNotification(i)?jr().createElement("div",{className:"event-notification-timeline",tabIndex:Nr.getInstance().tabIndex},jr().createElement("div",{className:Ea()("event-notification-header",{"event-notification-header-desktop":Jf.isDesktopSurface()})},jr().createElement("div",{className:"event-notification-title"},i.eventNotificationData.title),jr().createElement("div",{className:Ea()("event-notfication-status","".concat(l.toLowerCase()))},l===gr.displayStrings.LOC_UPCOMING?t.displayStrings.LOC_UPCOMING:l===gr.displayStrings.LOC_LIVE?t.displayStrings.LOC_LIVE:l===gr.displayStrings.LOC_ON_DEMAND?t.displayStrings.LOC_ON_DEMAND:"")),e):e),Jf.isDeviceTypeMobile()?jr().createElement("div",null):jr().createElement(_a.default,{ref:function(e){t.tooltipRef=e},variant:"info",className:"unc-notification-tooltip"},Lr.isEventNotification(i)&&jr().createElement(jr().Fragment,null,jr().createElement("span",null,i.eventNotificationData.title),jr().createElement("br",null)),jr().createElement("span",{dangerouslySetInnerHTML:{__html:i.payload.timeline.content},ref:function(e){t.tooltipRefContent=e}}))),Jf.shouldShowTimeString(i,a)?jr().createElement("div",{className:"time-string"},jr().createElement("span",null,i.timeString)):null)),this.renderActionButtons()),c&&this.renderTimeline()))}}])&&hs(n.prototype,i),r&&hs(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(jr().Component);function Es(e){return Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(e)}function Ss(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ns(i.key),i)}}function Ns(e){var t=function(e,t){if("object"!=Es(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Es(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Es(t)?t:String(t)}function Os(e,t,n){return t=Is(t),function(e,t){if(t&&("object"===Es(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ts()?Reflect.construct(t,n||[],Is(e).constructor):t.apply(e,n))}function Ts(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ts=function(){return!!e})()}function Is(e){return Is=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Is(e)}function ws(e,t){return ws=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ws(e,t)}Cs.propTypes={notification:ga().object.isRequired,section:ga().string.isRequired,uniqueId:ga().string.isRequired,overlayContainer:ga().func,selectedFilter:ga().object.isRequired,setLoadMoreButtonVisibility:ga().func.isRequired};var As=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=Os(this,t,[].concat(i))).containerClass="simple-timeline",e.containerClassOnMobile="simple-timeline-on-mobile",e.handleDefaultAction=function(t){Mf.handleDefaultAction(e.props,t)},e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ws(e,t)}(t,e),n=t,(i=[{key:"renderTimeline",value:function(){return null}}])&&Ss(n.prototype,i),r&&Ss(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(Cs),ks=n(58),Ds=n(7759);function Ps(e){return Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(e)}function Rs(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,xs(i.key),i)}}function xs(e){var t=function(e,t){if("object"!=Ps(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ps(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ps(t)?t:String(t)}function Fs(e,t,n){return t=Us(t),function(e,t){if(t&&("object"===Ps(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ms(e)}(e,Ls()?Reflect.construct(t,n||[],Us(e).constructor):t.apply(e,n))}function Ls(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ls=function(){return!!e})()}function Us(e){return Us=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Us(e)}function Ms(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function js(e,t){return js=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},js(e,t)}var Ws=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=Fs(this,t,[].concat(i))).containerClass="invite-timeline",e.containerClassOnMobile="invite-timeline-on-mobile",e.handleDefaultAction=function(t){var n=e.props.notification.payload.timeline.defaultAction;n.onClick&&"handlePrimary"===n.onClick?Mf.handleClickAction(e.props,gr.PRIMARY_CLICKED,{event:t}):n.onClick&&"handleSecondary"===n.onClick?Mf.handleClickAction(e.props,gr.SECONDARY_CLICKED,{event:t}):Mf.handleDefaultAction(e.props,t)},e.onButtonsContainerClick=function(e){e.stopPropagation()},e.renderTimeline=function(){var t,n=Ms(e).displayStrings,i=e.props.notification,r=(null==i?void 0:i.payload)||{},o=r.primaryButtonDetails,a=r.secondaryButtonDetails,s=(null==i||null===(t=i.payload)||void 0===t?void 0:t.timeline)||{},c=s.acceptRequestDetails,l=s.rejectRequestDetails,u=Jf.getButtonLabelAndVariant(o,{label:n.LOC_ACCEPT_BUTTON_TEXT,variant:"cta"}),f=u.label,d=u.variant,p=Jf.getButtonLabelAndVariant(a,{label:n.LOC_REJECT_BUTTON_TEXT,variant:"secondary"}),h=p.label,g=p.variant,m=Jf.checkButtonVisibility(o,c),v=Jf.checkButtonVisibility(a,l);return jr().createElement("div",{className:Ea()("action-container",{"action-container-new-unread":i.state===vr.NOTIFICATION_STATE_NEW||i.state===vr.NOTIFICATION_STATE_UNREAD})},jr().createElement("div",{className:"action-content"},(Jf.isNotificationStateValidForNew(i.state)||i.state===vr.NOTIFICATION_STATE_READ)&&jr().createElement("div",{className:"buttons-container",onKeyDown:e.onButtonsContainerClick},v&&jr().createElement(Sa.default,{variant:g,onClick:function(t){return Jf.onSecondaryButtonClick(t,e.props)}},h),m&&jr().createElement(Sa.default,{variant:d,onClick:function(t){return Jf.onPrimaryButtonClick(t,e.props)}},f)),i.state===vr.NOTIFICATION_STATE_PROGRESS&&jr().createElement("div",{className:"widget-wait"},jr().createElement(Ds.default,{size:"M"})),(i.state===vr.NOTIFICATION_STATE_ACCEPT_COMPLETE||i.state===vr.NOTIFICATION_STATE_EXPIRED&&i.inviteAccepted)&&jr().createElement("div",{className:"accepted-invite"},jr().createElement(ks.Z,{size:"S"}),jr().createElement("span",null,n.LOC_ACCEPTED_TEXT)),(i.state===vr.NOTIFICATION_STATE_REJECT_COMPLETE||i.state===vr.NOTIFICATION_STATE_EXPIRED&&i.inviteRejected)&&jr().createElement("div",{className:"rejected-invite"},jr().createElement(ka.Z,{size:"S"}),jr().createElement("span",null,n.LOC_REJECTED_TEXT))))},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&js(e,t)}(t,e),n=t,i&&Rs(n.prototype,i),r&&Rs(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,r}(Cs);function Hs(e){return Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(e)}function qs(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Vs(i.key),i)}}function Vs(e){var t=function(e,t){if("object"!=Hs(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Hs(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hs(t)?t:String(t)}function Bs(e,t,n){return t=zs(t),function(e,t){if(t&&("object"===Hs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ks(e)}(e,Gs()?Reflect.construct(t,n||[],zs(e).constructor):t.apply(e,n))}function Gs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Gs=function(){return!!e})()}function zs(e){return zs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zs(e)}function Ks(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ys(e,t){return Ys=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ys(e,t)}var Xs=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=Bs(this,t,[].concat(i))).containerClass="invite-comment-timeline",e.containerClassOnMobile="invite-comment-timeline-on-mobile",e.handleDefaultAction=function(t){var n=e.props.notification.payload.timeline.defaultAction;n.onClick&&"handlePrimary"===n.onClick?Mf.handleClickAction(e.props,gr.PRIMARY_CLICKED,{event:t}):n.onClick&&"handleSecondary"===n.onClick?Mf.handleClickAction(e.props,gr.SECONDARY_CLICKED,{event:t}):Mf.handleDefaultAction(e.props,t)},e.onButtonsContainerClick=function(e){e.stopPropagation()},e.onCommentClick=function(t){var n=e.props.notification.payload.timeline.commentSection;if(n&&n.passToHostClient&&"true"===n.passToHostClient.toString().toLowerCase()&&Nr.getInstance().hostCallBackFn&&"function"==typeof Nr.getInstance().hostCallBackFn)Mf.passClickActionToHostClient(e.props.notification,t);else{var i=n.deepLinkWorkflows;if(u.debug("UNCWidget: InviteCommentTimelineNotification: onCommentIconClick:",i),i&&(u.debug("UNCWidget: InviteCommentTimelineNotification: onCommentIconClick: going to execute  deeplink workflows"),Mf.handleClickAction(e.props,gr.DEEPLINK_WORKFLOW_CLICKED,{deepLinkWorkflows:i,event:t})))return void u.debug("UNCWidget: InviteCommentTimelineNotification: onCommentIconClick deeplink handled sucessfully:",i);u.debug("UNCWidget: InviteCommentTimelineNotification: onCommentIconClick: checking ");var r={event:t,target:e.props.notification.payload.timeline.commentSection.commentURL,clickType:"link"},o=e.props.notification.payload.timeline.commentSection.SSODetails;o&&o.ssoEnabled&&"true"===o.ssoEnabled.toString()?(r.ssoEnabled="true",r.ssoTargetClientID=o.ssoTargetClientID,r.ssoTargetScope=o.ssoTargetScope):r.ssoEnabled="false",n.openInSameTab&&"true"===n.openInSameTab.toString().toLowerCase()&&(r.openInSameTab=!0),Mf.handleClickAction(e.props,gr.OPEN_IN_NEW_TAB,r)}},e.renderTimeline=function(){var t,n=Ks(e).displayStrings,i=e.props,r=i.notification,o=i.overlayContainer,a=(null==r?void 0:r.payload)||{},s=a.primaryButtonDetails,c=a.secondaryButtonDetails,l=(null==r||null===(t=r.payload)||void 0===t?void 0:t.timeline)||{},u=l.acceptRequestDetails,f=l.rejectRequestDetails,d=Jf.getButtonLabelAndVariant(s,{label:n.LOC_ACCEPT_BUTTON_TEXT,variant:"cta"}),p=d.label,h=d.variant,g=Jf.getButtonLabelAndVariant(c,{label:n.LOC_REJECT_BUTTON_TEXT,variant:"secondary"}),m=g.label,v=g.variant,y=Jf.checkButtonVisibility(s,u),b=Jf.checkButtonVisibility(c,f);return jr().createElement("div",{className:Ea()("comment-container",{"comment-container-new-unread":r.state===vr.NOTIFICATION_STATE_NEW||r.state===vr.NOTIFICATION_STATE_UNREAD}),tabIndex:Nr.getInstance().tabIndex,onKeyDown:function(t){return cs.keyDownEventHandler(t,e.onCommentClick.bind(Ks(e),t),null,!0)},onClick:e.onCommentClick},jr().createElement("div",{className:Ea()("comment-content",Jf.isDeviceTypeMobile()?"comment-mobile-content":"")},jr().createElement(ma.default,{delayShow:1e3,placement:"top",trigger:["hover","focus"],boundariesElement:function(){return(0,Hr.findDOMNode)(o())}},jr().createElement("div",{className:Ea()("content-text",Jf.isDeviceTypeMobile()?"content-mobile-text":"")},jr().createElement("span",null,r.payload.timeline.commentSection.content)),jr().createElement(_a.default,{placement:"top",className:"unc-notification-tooltip"},jr().createElement("span",null,r.payload.timeline.commentSection.content))),jr().createElement("div",{className:"action-container"},jr().createElement("div",{className:"action-content"},(Jf.isNotificationStateValidForNew(r.state)||r.state===vr.NOTIFICATION_STATE_READ)&&jr().createElement("div",{className:"buttons-container",onKeyDown:e.onButtonsContainerClick},b&&jr().createElement(Sa.default,{variant:v,onClick:function(t){return Jf.onSecondaryButtonClick(t,e.props)}},m),y&&jr().createElement(Sa.default,{variant:h,onClick:function(t){return Jf.onPrimaryButtonClick(t,e.props)}},p)),r.state===vr.NOTIFICATION_STATE_PROGRESS&&jr().createElement("div",{className:"widget-wait"},jr().createElement(Ds.default,{size:"M"})),(r.state===vr.NOTIFICATION_STATE_ACCEPT_COMPLETE||r.state===vr.NOTIFICATION_STATE_EXPIRED&&r.inviteAccepted)&&jr().createElement("div",{className:"accepted-invite"},jr().createElement(ks.Z,{size:"S"}),jr().createElement("span",null,n.LOC_ACCEPTED_TEXT)),(r.state===vr.NOTIFICATION_STATE_REJECT_COMPLETE||r.state===vr.NOTIFICATION_STATE_EXPIRED&&r.inviteRejected)&&jr().createElement("div",{className:"rejected-invite"},jr().createElement(ka.Z,{size:"S"}),jr().createElement("span",null,n.LOC_REJECTED_TEXT))))))},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ys(e,t)}(t,e),n=t,i&&qs(n.prototype,i),r&&qs(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,r}(Cs);function Js(e){return Js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(e)}function $s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Qs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$s(Object(n),!0).forEach((function(t){Zs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zs(e,t,n){return(t=tc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ec(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,tc(i.key),i)}}function tc(e){var t=function(e,t){if("object"!=Js(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Js(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Js(t)?t:String(t)}function nc(e,t,n){return t=oc(t),function(e,t){if(t&&("object"===Js(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ic()?Reflect.construct(t,n||[],oc(e).constructor):t.apply(e,n))}function ic(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ic=function(){return!!e})()}function rc(){return rc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oc(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},rc.apply(this,arguments)}function oc(e){return oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oc(e)}function ac(e,t){return ac=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ac(e,t)}var sc=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=nc(this,t,[].concat(i))).containerClass="comment-timeline",e.containerClassOnMobile="comment-timeline-on-mobile",e.handleDefaultAction=function(t){Mf.handleDefaultAction(e.props,t)},e.onCommentClick=function(t){u.debug("UNCWidget: CommentTimelineNotification: onCommentClick:");var n=e.props.notification.payload.timeline.commentSection;if(n&&n.passToHostClient&&"true"===n.passToHostClient.toString().toLowerCase()&&Nr.getInstance().hostCallBackFn&&"function"==typeof Nr.getInstance().hostCallBackFn)Mf.passClickActionToHostClient(e.props.notification,t);else if(n.content){var i,r=n.deepLinkWorkflows;if(u.debug("UNCWidget: CommentTimelineNotification: onCommentClick: deeplinkworkflows: ",r),r&&(u.debug("UNCWidget: CommentTimelineNotification: onCommentClick: going to execute deeplink workflows"),Mf.handleClickAction(e.props,gr.DEEPLINK_WORKFLOW_CLICKED,{deepLinkWorkflows:r,event:t})))return void u.debug("UNCWidget: CommentTimelineNotification: onCommentClick deeplink handled sucessfully:",r);if(n.ccdRoutePath){if(n.fallbackURL){var o=encodeURIComponent(n.fallbackURL);if(n.ccdRoutePath=n.ccdRoutePath.concat("&fallbackURL=").concat(o),n.needSSO&&"true"===n.needSSO&&(n.ccdRoutePath=n.ccdRoutePath.concat("&needSSO=").concat(n.needSSO)),n.targetClientID&&n.targetScope){var a=encodeURIComponent(n.targetClientID),s=encodeURIComponent(n.targetScope);n.ccdRoutePath=n.ccdRoutePath.concat("&targetClientID=").concat(a).concat("&targetScope=").concat(s)}}i=n.ccdRoutePath}var c={event:t,target:n.commentURL,clickType:"link",ccdRoutePath:i},l=n.SSODetails;l&&l.ssoEnabled&&"true"===l.ssoEnabled.toString()?(c.ssoEnabled="true",c.ssoTargetClientID=l.ssoTargetClientID,c.ssoTargetScope=l.ssoTargetScope):c.ssoEnabled="false",n.openInSameTab&&"true"===n.openInSameTab.toString().toLowerCase()&&(c.openInSameTab=!0),Mf.handleClickAction(e.props,gr.OPEN_IN_NEW_TAB,c)}},e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ac(e,t)}(t,e),n=t,(i=[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this.commentContentTextSpanRef,n=this.chevronButtonRef;e&&e.offsetHeight<e.scrollHeight&&this.setState(Qs(Qs({},this.state),{},{showCommentTooltip:!0}));var i=this.props.notification;i.payload&&i.payload.timeline&&i.payload.timeline.commentSection&&!i.payload.timeline.commentSection.content&&n&&n.buttonRef&&n.buttonRef.classList.add("displayNone"),rc(oc(t.prototype),"componentDidMount",this).call(this)}},{key:"componentDidUpdate",value:function(e,n){var i=this.commentContentTextSpanRef,r=this.chevronButtonRef;i&&i.offsetHeight<i.scrollHeight&&!1===n.showCommentTooltip&&this.setState(Qs(Qs({},this.state),{},{showCommentTooltip:!0}));var o=this.props.notification;o.payload&&o.payload.timeline&&o.payload.timeline.commentSection&&!o.payload.timeline.commentSection.content&&r&&r.buttonRef&&r.buttonRef.classList.add("displayNone"),rc(oc(t.prototype),"componentDidUpdate",this).call(this)}},{key:"componentWillUnmount",value:function(){this.commentTooltipTarget=null,this.commentContentTextSpanRef=null,rc(oc(t.prototype),"componentWillUnmount",this).call(this)}},{key:"renderTimeline",value:function(){var e=this,t=this.props,n=t.notification,i=t.overlayContainer,r=n.payload.timeline.commentSection;return r&&r.content?jr().createElement(ma.default,{container:i,trigger:"hover",placement:"bottom",variant:"inspect",delayShow:1e3,boundariesElement:function(){return(0,Hr.findDOMNode)(i())}},jr().createElement("div",{className:Ea()("comment-container",{"comment-container-box":r.content},{"comment-container-noLink":!r.commentURL},{"comment-container-new-unread":n.state===vr.NOTIFICATION_STATE_NEW||n.state===vr.NOTIFICATION_STATE_UNREAD}),tabIndex:Nr.getInstance().tabIndex,onKeyDown:function(t){return cs.keyDownEventHandler(t,e.onCommentClick.bind(e,t),null,!0)},onClick:e.onCommentClick,ref:function(t){e.commentTooltipTarget=t},"aria-describedby":"tooltip_".concat(e.uniqueId)},jr().createElement("div",{className:Ea()("comment-content",Jf.isDeviceTypeMobile()?"comment-mobile-content":"")},r.content&&jr().createElement("div",{className:"content-text"},jr().createElement("span",{dangerouslySetInnerHTML:{__html:r.content},ref:function(t){e.commentContentTextSpanRef=t},className:Ea()("contentTextSpan",Jf.isDeviceTypeMobile()?"contentTextMobileSpan":"")})))),e.state.showCommentTooltip&&!Jf.isDeviceTypeMobile()?jr().createElement(_a.default,{variant:"info",className:"unc-notification-tooltip",id:"tooltip_".concat(e.uniqueId)},jr().createElement("span",{dangerouslySetInnerHTML:{__html:r.content}})):jr().createElement("span",null)):null}}])&&ec(n.prototype,i),r&&ec(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(Cs),cc=n(477),lc=n(7210);function uc(e){return uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(e)}function fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function dc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fc(Object(n),!0).forEach((function(t){pc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pc(e,t,n){return(t=vc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hc(e){return function(e){if(Array.isArray(e))return gc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function mc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,vc(i.key),i)}}function vc(e){var t=function(e,t){if("object"!=uc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=uc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uc(t)?t:String(t)}function yc(e,t,n){return t=Cc(t),function(e,t){if(t&&("object"===uc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bc()?Reflect.construct(t,n||[],Cc(e).constructor):t.apply(e,n))}function bc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bc=function(){return!!e})()}function _c(){return _c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Cc(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},_c.apply(this,arguments)}function Cc(e){return Cc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cc(e)}function Ec(e,t){return Ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ec(e,t)}var Sc=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=yc(this,t,[].concat(i))).containerClass="multiple-icons-timeline",e.containerClassOnMobile="multiple-icons-timeline-on-mobile",e.iconListLength=Math.min(e.props.notification.payload.timeline.commentSection.icons.length,4),e.iconIndexArray=Array.apply(void 0,function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var i=t.length;return gc(t,void 0!==n&&n<i?n:i)}return e(t,n)}(hc,{length:e.iconListLength})).map(Number.call,Number),e.handleDefaultAction=function(t){Mf.handleDefaultAction(e.props,t)},e.onTimelineClick=function(t){var n=e.props.notification.payload.timeline.commentSection;if(n&&n.passToHostClient&&"true"===n.passToHostClient.toString().toLowerCase()&&Nr.getInstance().hostCallBackFn&&"function"==typeof Nr.getInstance().hostCallBackFn)Mf.passClickActionToHostClient(e.props.notification,t);else{var i=n.deepLinkWorkflows;if(u.debug("UNCWidget: MultipleIconsTimelineNotification: onTimelineClick: deepLinkWorkflows: ",i),i&&(u.debug("UNCWidget: MultipleIconsTimelineNotification: onTimelineClick: going to execute deeplink workflows"),Mf.handleClickAction(e.props,gr.DEEPLINK_WORKFLOW_CLICKED,{deepLinkWorkflows:i,event:t})))return void u.debug("UNCWidget: MultipleIconsTimelineNotification: onTimelineClick deeplink handled sucessfully:",i);var r={event:t,clickType:"link",target:n.commentURL},o=n.SSODetails||{};o.ssoEnabled&&"true"===o.ssoEnabled.toString()?(r.ssoEnabled="true",r.ssoTargetClientID=o.ssoTargetClientID,r.ssoTargetScope=o.ssoTargetScope):r.ssoEnabled="false",n.openInSameTab&&"true"===n.openInSameTab.toString().toLowerCase()&&(r.openInSameTab=!0),Mf.handleClickAction(e.props,gr.OPEN_IN_NEW_TAB,r)}},e.handleIconFallback=function(e){e.target.onerror=null;var t=Jf.getBasePathForResources();e.target.src=t+Nr.getInstance().imagePathMap["./1x/unc_thumbnail_unavailable.svg"],e.target.src=e.target.src.replace("".concat(He.PATH_PARAM,"//"),"".concat(He.PATH_PARAM,"/"))},e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ec(e,t)}(t,e),n=t,(i=[{key:"componentDidMount",value:function(){this.commentContentTextSpanRef&&this.commentContentTextSpanRef.offsetHeight<this.commentContentTextSpanRef.scrollHeight&&this.setState(dc(dc({},this.state),{},{showCommentTooltip:!0})),_c(Cc(t.prototype),"componentDidMount",this).call(this)}},{key:"renderTimeline",value:function(){var e=this,t=this.props.notification.payload.timeline.commentSection,n=this.props,i=n.notification,r=n.overlayContainer;return jr().createElement("div",{onClick:this.onTimelineClick,className:"multiple-icons-wrapper",tabIndex:Nr.getInstance().tabIndex,onKeyDown:function(t){return cs.keyDownEventHandler(t,e.onTimelineClick.bind(e,t),null,!0)}},jr().createElement("div",{className:Ea()("comment-wrapper",{"comment-wrapper-new-unread":i.state===vr.NOTIFICATION_STATE_NEW||i.state===vr.NOTIFICATION_STATE_UNREAD})},jr().createElement("div",{className:"comment-container",onClick:this.onTimelineClick},t.icons.length>0&&this.iconIndexArray.map((function(n){return jr().createElement("div",{key:n,className:"comment-icon"},jr().createElement("img",{tabIndex:Nr.getInstance().tabIndex,alt:"asset-icon",src:t.icons[n].iconURL,onError:e.handleIconFallback,key:"".concat(t.icons[n].iconURL,"-").concat(n)}))}))),t.footerText&&jr().createElement("div",{className:"comment-footer"},jr().createElement(cc.Z,{size:"S",className:"left-icon"}),jr().createElement(ma.default,{delayShow:1e3,placement:"top",trigger:["hover","focus"],boundariesElement:function(){return(0,Hr.findDOMNode)(r())}},jr().createElement("div",{className:"footer-content-text"},jr().createElement("span",null,t.footerText)),jr().createElement(_a.default,{placement:"top",className:"unc-notification-tooltip"},jr().createElement("span",null,t.footerText))),jr().createElement(lc.Z,{size:"S",className:"right-icon"}))))}}])&&mc(n.prototype,i),r&&mc(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(Cs);function Nc(e){return Nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(e)}function Oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oc(Object(n),!0).forEach((function(t){Ic(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ic(e,t,n){return(t=Ac(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ac(i.key),i)}}function Ac(e){var t=function(e,t){if("object"!=Nc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Nc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nc(t)?t:String(t)}function kc(e,t,n){return t=Rc(t),function(e,t){if(t&&("object"===Nc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Dc()?Reflect.construct(t,n||[],Rc(e).constructor):t.apply(e,n))}function Dc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Dc=function(){return!!e})()}function Pc(){return Pc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Rc(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Pc.apply(this,arguments)}function Rc(e){return Rc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rc(e)}function xc(e,t){return xc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xc(e,t)}var Fc=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=kc(this,t,[].concat(i))).containerClass="comment-cta-timeline",e.containerClassOnMobile="comment-cta-timeline-on-mobile",e.handleErrorIconCase=function(){e.imageIconRef&&(e.imageIconRef.style.visibility="hidden",e.imageIconRef.style.display="none",e.commentContentRef&&(e.commentContentRef.style.width="100%"))},e.handleDefaultAction=function(t){var n=e.props.notification.payload.timeline.defaultAction;n.onClick&&"handlePrimary"===n.onClick?n.openInSameTab&&"true"===n.openInSameTab.toString().toLowerCase()?e.onCTAClick(t,!0):e.onCTAClick(t):Mf.handleDefaultAction(e.props,t)},e.onButtonsContainerClick=function(e){e.stopPropagation()},e.onCTAClick=function(t,n){var i=e.props.notification.payload.timeline.commentSection;if(i&&i.passToHostClient&&"true"===i.passToHostClient.toString().toLowerCase()&&Nr.getInstance().hostCallBackFn&&"function"==typeof Nr.getInstance().hostCallBackFn)Mf.passClickActionToHostClient(e.props.notification,t);else{var r=i.ctaDeeplinkHandling;if(u.debug("UNCWidget: CommentCTATimelineNotification: onCTAClick: ctaDeeplinkHandling: ",r),r&&r.deepLinkWorkflows){var o=r.deepLinkWorkflows;if(u.debug("UNCWidget: CommentCTATimelineNotification: onCTAClick: going to execute deeplink workflows"),Mf.handleClickAction(e.props,gr.DEEPLINK_WORKFLOW_CLICKED,{deepLinkWorkflows:o,event:t}))return void u.debug("UNCWidget: CommentCTATimelineNotification: onCTAClick deeplink handled sucessfully:",o)}var a={event:t,target:i.ctaURL?i.ctaURL:i.commentURL,clickType:"link"},s=e.props.notification.payload.timeline.commentSection.SSODetails;s&&s.ssoEnabled&&"true"===s.ssoEnabled.toString()?(a.ssoEnabled="true",a.ssoTargetClientID=s.ssoTargetClientID,a.ssoTargetScope=s.ssoTargetScope):a.ssoEnabled="false",n&&(a.openInSameTab=!0),i.openInSameTab&&"true"===i.openInSameTab.toString().toLowerCase()&&(a.openInSameTab=!0),Mf.handleClickAction(e.props,gr.OPEN_IN_NEW_TAB,a)}},e.onCommentClick=function(t){var n=e.props.notification.payload.timeline.commentSection;if(n&&n.passToHostClient&&"true"===n.passToHostClient.toString().toLowerCase()&&Nr.getInstance().hostCallBackFn&&"function"==typeof Nr.getInstance().hostCallBackFn)Mf.passClickActionToHostClient(e.props.notification,t);else{var i=n.deepLinkWorkflows;if(u.debug("UNCWidget: CommentCTATimelineNotification: onCommentClick: deepLinkWorkflows: ",i),i&&(u.debug("UNCWidget: CommentCTATimelineNotification: onCTAClick: going to execute deeplink workflows"),Mf.handleClickAction(e.props,gr.DEEPLINK_WORKFLOW_CLICKED,{deepLinkWorkflows:i,event:t})))return void u.debug("UNCWidget: CommentCTATimelineNotification: onCommentClick deeplink handled sucessfully:",i);var r={event:t,target:e.props.notification.payload.timeline.commentSection.commentURL,clickType:"link"},o=e.props.notification.payload.timeline.commentSection.SSODetails;o&&o.ssoEnabled&&"true"===o.ssoEnabled.toString()?(r.ssoEnabled="true",r.ssoTargetClientID=o.ssoTargetClientID,r.ssoTargetScope=o.ssoTargetScope):r.ssoEnabled="false",n.openInSameTab&&"true"===n.openInSameTab.toString().toLowerCase()&&(r.openInSameTab=!0),Mf.handleClickAction(e.props,gr.OPEN_IN_NEW_TAB,r)}},e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xc(e,t)}(t,e),n=t,(i=[{key:"componentDidMount",value:function(){var e=this.props.notification;e.payload.timeline.commentSection&&e.payload.timeline.commentSection.icons&&Array.isArray(e.payload.timeline.commentSection.icons)&&e.payload.timeline.commentSection.icons[0].iconURL||this.commentContentRef&&(this.commentContentRef.style.width="100%");var n=this.commentContentTextSpanRef;n&&n.offsetWidth<n.scrollWidth&&this.setState(Tc(Tc({},this.state),{},{showCommentTooltip:!0})),Pc(Rc(t.prototype),"componentDidMount",this).call(this)}},{key:"componentDidUpdate",value:function(e,n){var i=this.commentContentTextSpanRef;i&&i.offsetWidth<i.scrollWidth&&!1===n.showCommentTooltip&&this.setState(Tc(Tc({},this.state),{},{showCommentTooltip:!0})),Pc(Rc(t.prototype),"componentDidUpdate",this).call(this)}},{key:"componentWillUnmount",value:function(){this.commentContentTextSpanRef=null,this.commentContentRef=null,Pc(Rc(t.prototype),"componentWillUnmount",this).call(this)}},{key:"renderTimeline",value:function(){var e=this,t=this.props,n=t.notification,i=t.overlayContainer,r=this.displayStrings;return jr().createElement(ma.default,{container:i,trigger:"hover",placement:"bottom",variant:"inspect",delayShow:1e3,boundariesElement:function(){return(0,Hr.findDOMNode)(i())}},n.payload.timeline.commentSection&&jr().createElement("div",{className:Ea()("comment-container",{"comment-container-box":n.payload.timeline.commentSection.content},{"comment-container-new-unread":n.state===vr.NOTIFICATION_STATE_NEW||n.state===vr.NOTIFICATION_STATE_UNREAD}),tabIndex:Nr.getInstance().tabIndex,onKeyDown:function(t){return cs.keyDownEventHandler(t,e.onCommentClick.bind(e,t),null,!0)},onClick:this.onCommentClick},jr().createElement("div",{className:Ea()("comment-content",Jf.isDeviceTypeMobile()?"comment-mobile-content":""),ref:function(t){e.commentContentRef=t}},jr().createElement("div",{className:Ea()("content-text",Jf.isDeviceTypeMobile()?"content-mobile-text":"")},jr().createElement("span",{ref:function(t){e.commentContentTextSpanRef=t}},n.payload.timeline.commentSection.content)),jr().createElement("div",{className:"action-container"},n.payload.timeline.commentSection.subContent&&(n.payload.timeline.commentSection.showEmail&&n.payload.timeline.commentSection.showEmail.email?jr().createElement("div",{className:"content-sub-text"},jr().createElement("span",{dangerouslySetInnerHTML:{__html:"".concat(r.LOC_EMAIL_FROM_SUBCONTENT_HEADER||"From:"," ").concat(n.payload.timeline.commentSection.showEmail.email)}}),jr().createElement("span",null,("date"===n.payload.timeline.commentSection.subContent.key?"".concat(r.LOC_DATE_SUBCONTENT_HEADER," "):"")+Jf.getAppropriateSubContent(n.payload.timeline.commentSection.subContent))):jr().createElement("div",{className:"content-sub-text"},"date"===n.payload.timeline.commentSection.subContent.key&&jr().createElement("span",null,r.LOC_DATE_SUBCONTENT_HEADER),jr().createElement("span",null,Jf.getAppropriateSubContent(n.payload.timeline.commentSection.subContent)))),n.payload.timeline.commentSection.ctaText&&jr().createElement("div",{className:"action-content"},jr().createElement("div",{className:"buttons-container",onKeyDown:this.onButtonsContainerClick},jr().createElement(Sa.default,{variant:"cta",className:"cta-button",onClick:this.onCTAClick},n.payload.timeline.commentSection.ctaText||r.LOC_VIEW_BUTTON_TEXT)))))),this.state.showCommentTooltip&&!Jf.isDeviceTypeMobile()?jr().createElement(_a.default,{variant:"info",className:"unc-notification-tooltip",id:"tooltip_".concat(this.uniqueId)},jr().createElement("span",{dangerouslySetInnerHTML:{__html:n.payload.timeline.commentSection.content}})):jr().createElement("span",null))}}])&&wc(n.prototype,i),r&&wc(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(Cs);function Lc(e){return Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(e)}function Uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Mc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uc(Object(n),!0).forEach((function(t){jc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jc(e,t,n){return(t=Hc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Hc(i.key),i)}}function Hc(e){var t=function(e,t){if("object"!=Lc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Lc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lc(t)?t:String(t)}function qc(e,t,n){return t=Gc(t),function(e,t){if(t&&("object"===Lc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Vc()?Reflect.construct(t,n||[],Gc(e).constructor):t.apply(e,n))}function Vc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Vc=function(){return!!e})()}function Bc(){return Bc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gc(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Bc.apply(this,arguments)}function Gc(e){return Gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gc(e)}function zc(e,t){return zc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zc(e,t)}var Kc=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=qc(this,t,[].concat(i))).containerClass="comment-action-timeline",e.containerClassOnMobile="comment-action-timeline-on-mobile",e.handleErrorIconCase=function(){e.imageIconRef&&(e.imageIconRef.style.visibility="hidden",e.imageIconRef.style.display="none",e.commentContentRef&&(e.commentContentRef.style.width="100%"))},e.handleDefaultAction=function(t){var n=e.props.notification.payload.timeline.defaultAction;n.onClick&&"handlePrimary"===n.onClick?n.openInSameTab&&"true"===n.openInSameTab.toString().toLowerCase()?e.onCTAClick(t,!0):e.onCTAClick(t):Mf.handleDefaultAction(e.props,t)},e.onCTAClick=function(t,n){var i=e.props.notification.payload.timeline.commentSection;if(i&&i.passToHostClient&&"true"===i.passToHostClient.toString().toLowerCase()&&Nr.getInstance().hostCallBackFn&&"function"==typeof Nr.getInstance().hostCallBackFn)Mf.passClickActionToHostClient(e.props.notification,t);else{var r=i.ctaDeeplinkHandling;if(u.debug("UNCWidget: CommentActionTimelineNotification: onCTAClick: ctaDeeplinkHandling: ",r),r&&r.deepLinkWorkflows){var o=r.deepLinkWorkflows;if(u.debug("UNCWidget: CommentActionTimelineNotification: onCTAClick: going to execute deeplink workflows"),Mf.handleClickAction(e.props,gr.DEEPLINK_WORKFLOW_CLICKED,{deepLinkWorkflows:o,event:t}))return void u.debug("UNCWidget: CommentActionTimelineNotification: onCTAClick deeplink handled sucessfully:",o)}var a={event:t,target:i.ctaURL?i.ctaURL:i.commentURL,clickType:"link"},s=e.props.notification.payload.timeline.commentSection.SSODetails;s&&s.ssoEnabled&&"true"===s.ssoEnabled.toString()?(a.ssoEnabled="true",a.ssoTargetClientID=s.ssoTargetClientID,a.ssoTargetScope=s.ssoTargetScope):a.ssoEnabled="false",n&&(a.openInSameTab=!0),i.openInSameTab&&"true"===i.openInSameTab.toString().toLowerCase()&&(a.openInSameTab=!0),Mf.handleClickAction(e.props,gr.OPEN_IN_NEW_TAB,a)}},e.onCommentClick=function(t){var n=e.props.notification.payload.timeline.commentSection;if(n&&n.passToHostClient&&"true"===n.passToHostClient.toString().toLowerCase()&&Nr.getInstance().hostCallBackFn&&"function"==typeof Nr.getInstance().hostCallBackFn)Mf.passClickActionToHostClient(e.props.notification,t);else{var i=n.deepLinkWorkflows;if(u.debug("UNCWidget: CommentActionTimelineNotification: onCommentClick: deepLinkWorkflows: ",i),i&&n.ctaDeeplinkHandling&&(u.debug("UNCWidget: CommentActionTimelineNotification: onCommentClick: going to execute deeplink workflows"),Mf.handleClickAction(e.props,gr.DEEPLINK_WORKFLOW_CLICKED,{deepLinkWorkflows:i,event:t})))return void u.debug("UNCWidget: CommentActionTimelineNotification: onCommentClick deeplink handled sucessfully:",i);var r={event:t,target:n.commentURL,clickType:"link"};if(n.content){var o=n.SSODetails;o&&o.ssoEnabled&&"true"===o.ssoEnabled.toString()?(r.ssoEnabled="true",r.ssoTargetClientID=o.ssoTargetClientID,r.ssoTargetScope=o.ssoTargetScope):r.ssoEnabled="false",n.openInSameTab&&"true"===n.openInSameTab.toString().toLowerCase()&&(r.openInSameTab=!0),Mf.handleClickAction(e.props,gr.OPEN_IN_NEW_TAB,r)}}},e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zc(e,t)}(t,e),n=t,(i=[{key:"componentDidMount",value:function(){var e=this.props.notification,n=this.commentContentTextSpanRef;n&&n.offsetHeight<n.scrollHeight&&this.setState(Mc(Mc({},this.state),{},{showCommentTooltip:!0})),e.payload.timeline.commentSection&&e.payload.timeline.commentSection.icons&&Array.isArray(e.payload.timeline.commentSection.icons)&&e.payload.timeline.commentSection.icons[0].iconURL||this.commentContentRef&&(this.commentContentRef.style.width="100%"),Bc(Gc(t.prototype),"componentDidMount",this).call(this)}},{key:"componentDidUpdate",value:function(e,n){var i=this.commentContentTextSpanRef;i&&i.offsetHeight<i.scrollHeight&&!1===n.showCommentTooltip&&this.setState(Mc(Mc({},this.state),{},{showCommentTooltip:!0})),Bc(Gc(t.prototype),"componentDidUpdate",this).call(this)}},{key:"componentWillUnmount",value:function(){this.commentTooltipTarget=null,this.commentContentTextSpanRef=null,Bc(Gc(t.prototype),"componentWillUnmount",this).call(this)}},{key:"renderTimeline",value:function(){var e=this,t=this.props,n=t.notification,i=t.overlayContainer,r=n.payload.timeline.commentSection,o=this.displayStrings;return jr().createElement("div",{className:Ea()("comment-action-timeline-box",{"comment-action-timeline-box-new-unread":n.state===vr.NOTIFICATION_STATE_NEW||n.state===vr.NOTIFICATION_STATE_UNREAD})},jr().createElement("div",{className:"comment-action-timeline-content"},jr().createElement(ma.default,{container:i,trigger:"hover",placement:"bottom",variant:"inspect",delayShow:1e3,boundariesElement:function(){return(0,Hr.findDOMNode)(i())}},jr().createElement("div",{className:"comment-container".concat(r.content?" comment-container-box":"").concat(r.commentURL?"":" comment-container-noLink"),tabIndex:Nr.getInstance().tabIndex,onKeyDown:function(t){return cs.keyDownEventHandler(t,e.onCommentClick.bind(e,t),null,!0)},onClick:this.onCommentClick,ref:function(t){e.commentTooltipTarget=t},"aria-describedby":"tooltip_".concat(this.uniqueId)},jr().createElement("div",{className:Ea()("comment-content",Jf.isDeviceTypeMobile()?"comment-mobile-content":"")},r.content&&jr().createElement("div",{className:"content-text"},jr().createElement("span",{dangerouslySetInnerHTML:{__html:r.content},ref:function(t){e.commentContentTextSpanRef=t},className:Ea()("contentTextSpan",Jf.isDeviceTypeMobile()?"contentTextMobileSpan":"")})))),this.state.showCommentTooltip&&!Jf.isDeviceTypeMobile()?jr().createElement(_a.default,{variant:"info",className:"unc-notification-tooltip",id:"tooltip_".concat(this.uniqueId)},jr().createElement("span",{dangerouslySetInnerHTML:{__html:r.content}})):jr().createElement("span",null)),n.payload.timeline.commentSection.ctaText&&jr().createElement("div",{className:"action-content"},jr().createElement("div",{className:"buttons-container",onKeyDown:this.onButtonsContainerClick},jr().createElement(Sa.default,{variant:"cta",className:"cta-button",onClick:this.onCTAClick},n.payload.timeline.commentSection.ctaText||o.LOC_VIEW_BUTTON_TEXT)))))}}])&&Wc(n.prototype,i),r&&Wc(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(Cs);function Yc(e){return Yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(e)}function Xc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Jc(i.key),i)}}function Jc(e){var t=function(e,t){if("object"!=Yc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Yc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yc(t)?t:String(t)}function $c(e,t,n){return t=Zc(t),function(e,t){if(t&&("object"===Yc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Qc()?Reflect.construct(t,n||[],Zc(e).constructor):t.apply(e,n))}function Qc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Qc=function(){return!!e})()}function Zc(e){return Zc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zc(e)}function el(e,t){return el=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},el(e,t)}var tl=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=$c(this,t,[].concat(i))).containerClass="event-timeline",e.containerClassOnMobile="event-timeline-on-mobile",e.handleDefaultAction=function(t){Mf.handleDefaultAction(e.props,t)},e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&el(e,t)}(t,e),n=t,(i=[{key:"renderTimeline",value:function(){return null}}])&&Xc(n.prototype,i),r&&Xc(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(Cs),nl={simpleTimeline1:As,inviteTimeline:Ws,inviteCommentTimeline:Xs,commentTimeline:sc,multipleIconsTimeline:Sc,commentCTATimeline:Fc,commentActionTimeline:Kc,eventTimeline:tl};function il(e){return il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(e)}function rl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ol(i.key),i)}}function ol(e){var t=function(e,t){if("object"!=il(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=il(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==il(t)?t:String(t)}function al(e,t,n){return t=cl(t),function(e,t){if(t&&("object"===il(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,sl()?Reflect.construct(t,n||[],cl(e).constructor):t.apply(e,n))}function sl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(sl=function(){return!!e})()}function cl(e){return cl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cl(e)}function ll(e,t){return ll=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ll(e,t)}var ul=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=al(this,t,[].concat(i))).displayStrings=Nr.getInstance().getLocalizedDisplayStrings(),e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ll(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this.props,t=e.announcementNotification,n=e.notificationWidget,i=e.overlayContainer,r=e.selectedFilter,o=this.displayStrings;if(!t)return null;var a=nl[t.payload.timeline.viewtype];return jr().createElement("div",{className:"segment"},jr().createElement("div",{key:1,className:"notifications-container-announcement",role:"listbox","aria-label":o.LOC_ANNOUNCEMENT},a?jr().createElement(a,{key:t.id,notificationWidget:n,overlayContainer:i,notification:t,section:gr.Announcement_Notifications_Section,show:!0,uniqueId:"notificationContainer_".concat(t.id,"_Announcement"),selectedFilter:r}):null))}}])&&rl(n.prototype,i),r&&rl(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(jr().Component);function fl(e){return fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(e)}function dl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,pl(i.key),i)}}function pl(e){var t=function(e,t){if("object"!=fl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=fl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fl(t)?t:String(t)}function hl(e,t,n){return t=ml(t),function(e,t){if(t&&("object"===fl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gl()?Reflect.construct(t,n||[],ml(e).constructor):t.apply(e,n))}function gl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(gl=function(){return!!e})()}function ml(e){return ml=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ml(e)}function vl(e,t){return vl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vl(e,t)}var yl=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=hl(this,t,[].concat(i))).handleEmptyScreeWithIcon=function(){e.notFoundIconRef&&(e.notFoundIconRef.style.visibility="hidden")},e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vl(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this,t=this.props,n=t.imageSrc,i=t.descriptionText,r=t.buttonText,o=t.buttonClickCallback;return jr().createElement("div",{className:"empty-screen-with-button-content"},jr().createElement("div",{className:"no-notification-filtered",ref:function(t){e.notFoundIconRef=t}},jr().createElement("img",{className:"no-filtered-notification-icon",alt:"",src:n,onError:function(){return e.handleEmptyScreeWithIcon()}})),jr().createElement("div",{className:"no-matching-notification-text"},i),jr().createElement(Sa.default,{label:r,onClick:o,variant:"secondary",className:"load-fetch-more-button"}))}}])&&dl(n.prototype,i),r&&dl(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(jr().Component);function bl(e){return bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(e)}function _l(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var i=t.length;return El(t,void 0!==n&&n<i?n:i)}return e(t,n)}function Cl(e){return function(e){if(Array.isArray(e))return El(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return El(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return El(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function El(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Sl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Nl(i.key),i)}}function Nl(e){var t=function(e,t){if("object"!=bl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=bl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bl(t)?t:String(t)}function Ol(e,t,n){return t=Il(t),function(e,t){if(t&&("object"===bl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Tl()?Reflect.construct(t,n||[],Il(e).constructor):t.apply(e,n))}function Tl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Tl=function(){return!!e})()}function Il(e){return Il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Il(e)}function wl(e,t){return wl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wl(e,t)}var Al=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ol(this,t,arguments)}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wl(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this.props,t=e.showSkeletonExceptHeader,n=e.showSkeletonItem,i=jr().createElement("div",{className:"skeleton-header"},jr().createElement("div",{className:"skeleton-title-bar"},jr().createElement("div",{className:"skeleton-title-bar-info skeleton-shimmer"}),jr().createElement("div",{className:"skeleton-title-bar-sub-info skeleton-shimmer"})),jr().createElement("div",{className:"skeleton-divider"},jr().createElement("div",{className:"skeleton-divider-line skeleton-shimmer"}))),r=jr().createElement("div",{className:"skeleton-sub-header-bar"},jr().createElement("div",{className:"skeleton-sub-header-bar-info skeleton-shimmer"})),o=jr().createElement("div",{className:"skeleton-item-container"},jr().createElement("div",{className:"skeleton-item"},jr().createElement("div",{className:"skeleton-item-avatar skeleton-shimmer"}),jr().createElement("div",{className:"skeleton-item-info-container"},jr().createElement("div",{className:"skeleton-item-info skeleton-shimmer"}),jr().createElement("div",{className:"skeleton-item-sub-info skeleton-shimmer"})))),a=_l(Cl,Array(10)).map((function(){return o}));return n?o:t?[r].concat(_l(Cl,a)):jr().createElement("div",{className:"skeleton-container"},i,r,a)}}])&&Sl(n.prototype,i),r&&Sl(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(jr().Component);function kl(e){return kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(e)}function Dl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Pl(i.key),i)}}function Pl(e){var t=function(e,t){if("object"!=kl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=kl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kl(t)?t:String(t)}function Rl(e,t,n){return t=Fl(t),function(e,t){if(t&&("object"===kl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xl()?Reflect.construct(t,n||[],Fl(e).constructor):t.apply(e,n))}function xl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xl=function(){return!!e})()}function Fl(e){return Fl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fl(e)}function Ll(e,t){return Ll=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ll(e,t)}var Ul=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=Rl(this,t,[].concat(i))).displayStrings=Nr.getInstance().getLocalizedDisplayStrings(),e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ll(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this.props,t=e.handleFilterClick,n=e.selectedFilter,i=e.showFetchingSpinner,r=e.onFetchMoreNotificationsClick,o=e.showFetchingSpinnerInCaseOfSearchCall,a=e.newNotificationBanner,s=e.onHide,c=jr().createElement(yl,{imageSrc:Jf.getNoFilteredNotificationsIcon(),descriptionText:this.displayStrings.LOC_NO_MATCHING_NOTIFICATIONS?this.displayStrings.LOC_NO_MATCHING_NOTIFICATIONS:gr.displayStrings.LOC_NO_MATCHING_NOTIFICATIONS,buttonText:this.displayStrings.LOC_LOAD_MORE_NOTIFICATIONS?this.displayStrings.LOC_LOAD_MORE_NOTIFICATIONS:gr.displayStrings.LOC_LOAD_MORE_NOTIFICATIONS,buttonClickCallback:r}),l=jr().createElement(ul,this.props);return jr().createElement("div",{className:"empty-screen-with-button"},jr().createElement(Fa,{handleFilterClick:t,selectedFilter:n,onButtonClick:s}),Jf.isShowSkeleton(i,o)?jr().createElement(Al,{showSkeletonExceptHeader:!0}):[a,l,c])}}])&&Dl(n.prototype,i),r&&Dl(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(jr().Component);function Ml(e){return Ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(e)}function jl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Wl(i.key),i)}}function Wl(e){var t=function(e,t){if("object"!=Ml(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ml(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ml(t)?t:String(t)}function Hl(e,t,n){return t=Vl(t),function(e,t){if(t&&("object"===Ml(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ql()?Reflect.construct(t,n||[],Vl(e).constructor):t.apply(e,n))}function ql(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ql=function(){return!!e})()}function Vl(e){return Vl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vl(e)}function Bl(e,t){return Bl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bl(e,t)}var Gl=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=Hl(this,t,[].concat(i))).displayStrings=Nr.getInstance().getLocalizedDisplayStrings(),e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bl(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this.props,t=e.handleFilterClick,n=e.selectedFilter,i=e.newNotificationBanner,r=e.onShowAllNotificationsClick,o=e.onHide,a=jr().createElement(yl,{imageSrc:Jf.getNoFilteredNotificationsIcon(),descriptionText:this.displayStrings.LOC_NO_MATCHING_NOTIFICATIONS?this.displayStrings.LOC_NO_MATCHING_NOTIFICATIONS:gr.displayStrings.LOC_NO_MATCHING_NOTIFICATIONS,buttonText:this.displayStrings.LOC_SHOW_ALL_NOTIFICATIONS?this.displayStrings.LOC_SHOW_ALL_NOTIFICATIONS:gr.displayStrings.LOC_SHOW_ALL_NOTIFICATIONS,buttonClickCallback:r}),s=jr().createElement(ul,this.props);return jr().createElement("div",{className:"empty-screen-with-no-more-notification"},jr().createElement(Fa,{handleFilterClick:t,selectedFilter:n,onButtonClick:o}),i,s,a)}}])&&jl(n.prototype,i),r&&jl(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(jr().Component),zl=function(e){var t=e.bannerLabel,n=e.buttonLabel,i=e.onClickCallback,r=e.classOnBanner;return jr().createElement("div",{className:Ea()("banner",r)},jr().createElement("div",{className:"banner-text"},t),jr().createElement("div",{className:"banner-button-wrapper"},jr().createElement(Sa.default,{label:n,onClick:i,variant:"overBackground"})))};function Kl(e){return Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(e)}function Yl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Xl(i.key),i)}}function Xl(e){var t=function(e,t){if("object"!=Kl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Kl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Kl(t)?t:String(t)}function Jl(e,t,n){return t=Ql(t),function(e,t){if(t&&("object"===Kl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zl(e)}(e,$l()?Reflect.construct(t,n||[],Ql(e).constructor):t.apply(e,n))}function $l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($l=function(){return!!e})()}function Ql(e){return Ql=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ql(e)}function Zl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eu(e,t){return eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eu(e,t)}var tu=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Jl(this,t)).keydownHandler=function(t){cs.keyDownEventHandler(t,null,null,null,null,e.onTabKeyPress.bind(Zl(e),t),null)},e.onTabKeyPress=function(t){e.forceNextTab&&(t.preventDefault(),e.showButtonDiv=e.showBannerRef.current.querySelector("button"),e.showButtonDiv.focus(),e.forceNextTab=!1)},e.showBannerRef=(0,Mr.createRef)(),e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eu(e,t)}(t,e),n=t,(i=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keydownHandler,!0),this.forceNextTab=!0}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keydownHandler,!0),this.showBannerRef=null}},{key:"render",value:function(){var e=this.props,t=e.holdNotificationsCount,n=e.displayStrings,i=e.handleNewNotificationBannerClick;return jr().createElement("div",{className:"banner-container",ref:this.showBannerRef},jr().createElement(zl,{bannerLabel:1===t?n.LOC_ONE_NEW_NOTIFICATION:n.LOC_MULTIPLE_NEW_NOTIFICATION.replace("{0}",t),buttonLabel:n.LOC_SHOW?n.LOC_SHOW:gr.displayStrings.LOC_SHOW,onClickCallback:i,classOnBanner:"n-new-notifications-banner"}))}}])&&Yl(n.prototype,i),r&&Yl(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(jr().Component);function nu(e){return nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(e)}function iu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ru(i.key),i)}}function ru(e){var t=function(e,t){if("object"!=nu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=nu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nu(t)?t:String(t)}function ou(e,t,n){return t=su(t),function(e,t){if(t&&("object"===nu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cu(e)}(e,au()?Reflect.construct(t,n||[],su(e).constructor):t.apply(e,n))}function au(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(au=function(){return!!e})()}function su(e){return su=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},su(e)}function cu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lu(e,t){return lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lu(e,t)}var uu=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=ou(this,t)).displayStrings=Nr.getInstance().getLocalizedDisplayStrings(),e.setVisibilityOfLoadMoreButton=function(){var t=e.getVisibilityOfLoadMoreButton();t!==e.state.showLoadMoreButton&&e.setState({showLoadMoreButton:t})},e.getVisibilityOfLoadMoreButton=function(){var t=e.props,n=t.selectedFilter,i=t.showFetchingSpinner,r=t.hasMoreHistoricalNotifications,o=t.pinnedHistoricalNotificationsAvailable,a=t.showFetchingSpinnerInCaseOfSearchCall;if(Ur()){if(n.value!==gr.EVERYTHING&&!i&&!a&&e.notificationContainerDataWrapper&&e.notificationContainerDataWrapper.scrollHeight<485&&(r||o))return!0}else if(n.value!==gr.EVERYTHING&&!i&&!a&&e.notificationContainerDataWrapper&&e.notificationContainerDataWrapper.scrollHeight<=e.notificationContainerDataWrapper.clientHeight&&(r||o))return!0;return!1},e.setLoadMoreButtonVisibility=function(){e.setVisibilityOfLoadMoreButton()},e.state={showLoadMoreButton:!0},e.showLoadingSpinner=e.showLoadingSpinner.bind(cu(e)),e.undoBannerRef=(0,Mr.createRef)(),e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lu(e,t)}(t,e),n=t,(i=[{key:"componentDidMount",value:function(){this.setVisibilityOfLoadMoreButton()}},{key:"componentDidUpdate",value:function(e){var t,n=this.props,i=n.selectedFilter,r=n.showFetchingSpinner,o=(n.holdNotificationsIds,n.showFetchingSpinnerInCaseOfSearchCall);i.filterID===e.selectedFilter.filterID&&i.value===e.selectedFilter.value&&e.showFetchingSpinner===r&&e.showFetchingSpinnerInCaseOfSearchCall===o||this.setVisibilityOfLoadMoreButton(),null!==(t=this.undoBannerRef)&&void 0!==t&&t.current&&(this.undoBannerRef.current.setAttribute("tabindex","-1"),this.undoBannerRef.current.focus())}},{key:"componentWillUnmount",value:function(){this.notificationContainerDataWrapper=null}},{key:"showLoadingSpinner",value:function(){var e=this.props,t=e.selectedFilter,n=e.showFetchingSpinner,i=e.showFetchingSpinnerInCaseOfSearchCall;return n||i&&t!==gr.EVERYTHING}},{key:"render",value:function(){var e=this,t=this.props,n=t.notifications,i=t.pinnedNotifications,r=t.holdNotificationsIds,o=t.pinnedNotificationIdsInNormalContainer,a=t.visiblePinnedNotificationsCount,s=t.buttonClickInProgress,c=t.requestDismissedNotifCount,l=t.showUndoBanner,f=t.pinnedHistoricalNotificationsAvailable,d=t.handleWidgetEvents,p=(t.scrollToTop,t.onHide),h=t.notificationWidget,g=t.overlayContainer,m=t.selectedFilter,v=t.segmentedNotifications,y=t.filteredPinnedNotifications,b=t.handleFilterClick,_=t.onFetchMoreNotificationsClick,C=t.handleNewNotificationBannerClick,E=this.displayStrings,S=this.state.showLoadMoreButton,N=r.length,O=n.length+(i.length-o.length),T=y.length,I=jr().createElement(ul,this.props);return jr().createElement("div",null,0!==N&&jr().createElement(tu,{holdNotificationsCount:N,displayStrings:E,handleNewNotificationBannerClick:C}),jr().createElement("div",{className:"notifications-container"},jr().createElement(Fa,{selectedFilter:m,handleFilterClick:b,onButtonClick:p}),jr().createElement("div",{onScroll:function(e){return d(gr.WIDGET_SCROLL,e)},ref:function(t){e.notificationContainerDataWrapper=t},className:Ea()("notification-container-data",{"increase-height-of-widget":S},{"notification-container-data-on-mobile":Jf.isDeviceTypeMobile()}),id:"notification-container-data-id"},I,T-c>0&&[jr().createElement("div",{key:0,className:"notifications-title","aria-hidden":"true",role:"heading"},Nr.getInstance().showWidgetCrossButton&&jr().createElement("div",{className:"widget-close-icon",onClick:function(e){u.log("requests header cross clicked"),e.preventDefault(),e.stopPropagation(),p()}},jr().createElement(ka.Z,{className:"",size:"S"}))),jr().createElement("div",{className:"segment"},jr().createElement("h3",{className:"segment-heading"},E.LOC_IMPORTANT?E.LOC_IMPORTANT:gr.displayStrings.LOC_IMPORTANT),jr().createElement("div",{key:1,className:"pinned-Notifications-Container",role:"listbox","aria-label":E.LOC_IMPORTANT},y.map((function(e){var t=nl[e.payload.timeline.viewtype];return t?jr().createElement(t,{key:e.id,notificationWidget:h,overlayContainer:g,notification:e,section:gr.Pinned_Notifications_Section,uniqueId:"notificationContainer_".concat(e.id,"_Pinned"),selectedFilter:m}):null})))),jr().createElement("div",{key:2},m.value===gr.EVERYTHING&&(f||T-a!=0)&&jr().createElement("div",{className:"more-requests".concat(s?" showMoreDisabled":"")},jr().createElement("span",{tabIndex:Nr.getInstance().tabIndex,onClick:function(e){return mo.getInstance().handleButtonClickToFetchMorePinnedNotifications({eventObject:e.nativeEvent})},onKeyDown:function(e){return cs.keyDownEventHandler(e,mo.getInstance().handleButtonClickToFetchMorePinnedNotifications.bind(mo.getInstance(),{eventObject:e.nativeEvent}),null,!0)}},E.LOC_SHOW_MORE_REQUESTS)))],(O-o.length>0||0===O&&T-c==0)&&jr().createElement("div",{className:"notifications-title","aria-hidden":"true",role:"heading"},Nr.getInstance().showWidgetCrossButton&&!(T-c)>0&&jr().createElement("div",{className:"widget-close-icon",onClick:function(e){u.log("notifications header cross clicked"),e.preventDefault(),e.stopPropagation(),p()}},jr().createElement(ka.Z,{className:"",size:"S"}))),v.New.length>0&&jr().createElement("div",{className:"segment"},jr().createElement("h3",{className:"segment-heading"},E.LOC_NEW?E.LOC_NEW:gr.displayStrings.LOC_NEW),jr().createElement("div",{className:"normal-notifications-container",role:"listbox","aria-label":E.LOC_NEW},v.New.map((function(t){var n=nl[t.payload.timeline.viewtype];return n?jr().createElement(n,{key:t.id,notificationWidget:h,overlayContainer:g,notification:t,section:gr.Normal_Notifications_Section,uniqueId:"notificationContainer_".concat(t.id),selectedFilter:m,setLoadMoreButtonVisibility:e.setLoadMoreButtonVisibility}):null})))),v.Today.length>0&&jr().createElement("div",{className:"segment"},jr().createElement("h3",{className:"segment-heading"},E.LOC_TODAY?E.LOC_TODAY:gr.displayStrings.LOC_TODAY),jr().createElement("div",{className:"normal-notifications-container",role:"listbox","aria-label":E.LOC_TODAY},v.Today.map((function(t){var n=nl[t.payload.timeline.viewtype];return n?jr().createElement(n,{key:t.id,notificationWidget:h,overlayContainer:g,notification:t,section:gr.Normal_Notifications_Section,uniqueId:"notificationContainer_".concat(t.id),selectedFilter:m,setLoadMoreButtonVisibility:e.setLoadMoreButtonVisibility}):null})))),v.Earlier.length>0&&jr().createElement("div",{className:"segment"},jr().createElement("h3",{className:"segment-heading"},E.LOC_EARLIER?E.LOC_EARLIER:gr.displayStrings.LOC_EARLIER),jr().createElement("div",{className:"normal-notifications-container",role:"listbox","aria-label":E.LOC_EARLIER},v.Earlier.map((function(t){var n=nl[t.payload.timeline.viewtype];return n?jr().createElement(n,{key:t.id,notificationWidget:h,overlayContainer:g,notification:t,section:gr.Normal_Notifications_Section,uniqueId:"notificationContainer_".concat(t.id),selectedFilter:m,setLoadMoreButtonVisibility:e.setLoadMoreButtonVisibility}):null})))),this.showLoadingSpinner()&&jr().createElement(Al,{showSkeletonItem:!0})),S&&jr().createElement("div",{className:"load-more-notification-container"},jr().createElement(Sa.default,{label:E.LOC_LOAD_MORE_NOTIFICATIONS?E.LOC_LOAD_MORE_NOTIFICATIONS:gr.displayStrings.LOC_LOAD_MORE_NOTIFICATIONS,onClick:_,variant:"secondary",className:"load-more-button"})),l&&jr().createElement("div",{className:"banner-container",ref:this.undoBannerRef},jr().createElement(zl,{bannerLabel:E.LOC_NOTIFICATION_DISMISSED?E.LOC_NOTIFICATION_DISMISSED:gr.displayStrings.LOC_NOTIFICATION_DISMISSED,buttonLabel:E.LOC_UNDO?E.LOC_UNDO:gr.displayStrings.LOC_UNDO,onClickCallback:xo.getInstance().handleUndoClick,classOnBanner:Jf.isDeviceTypeMobile()?"notification-undo-banner-on-mobile":"notification-undo-banner"}))))}}])&&iu(n.prototype,i),r&&iu(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(jr().Component);function fu(e){return fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(e)}function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},du.apply(this,arguments)}function pu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,hu(i.key),i)}}function hu(e){var t=function(e,t){if("object"!=fu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=fu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fu(t)?t:String(t)}function gu(e,t,n){return t=vu(t),function(e,t){if(t&&("object"===fu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yu(e)}(e,mu()?Reflect.construct(t,n||[],vu(e).constructor):t.apply(e,n))}function mu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mu=function(){return!!e})()}function vu(e){return vu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vu(e)}function yu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bu(e,t){return bu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bu(e,t)}var _u=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=gu(this,t)).displayStrings=Nr.getInstance().getLocalizedDisplayStrings(),e.getNotificationWidgetView=e.getNotificationWidgetView.bind(yu(e)),e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bu(e,t)}(t,e),n=t,(i=[{key:"componentDidMount",value:function(){Nr.getInstance().cssProperties&&this.props.setNotificationsWidgetCustomProperties(this.notificationsDataWrapper)}},{key:"componentWillUnmount",value:function(){this.notificationsDataWrapper=null}},{key:"getNotificationWidgetView",value:function(e){var t=this,n=this.props,i=n.handleFilterClick,r=n.selectedFilter,o=n.holdNotificationsIds,a=n.handleNewNotificationBannerClick,s=n.onShowAllNotificationsClick,c=n.onHide,l=o.length,u=0!==l?jr().createElement(tu,{holdNotificationsCount:l,displayStrings:this.displayStrings,handleNewNotificationBannerClick:a}):"";switch(e){case gr.SKELETON_SCREEN:return jr().createElement(Al,null);case gr.WELCOME_SCREEN:return jr().createElement(Va,{newNotificationBanner:u});case gr.EMPTY_SCREEN_WITH_FETCH_MORE_BUTTON:return jr().createElement(Ul,du({},this.props,{newNotificationBanner:u}));case gr.EMPTY_SCREEN_WITH_NO_MORE_NOTIFICATIONS:return jr().createElement(Gl,{handleFilterClick:i,selectedFilter:r,onShowAllNotificationsClick:s,newNotificationBanner:u,onHide:c});case gr.SOME_NOTIFICATIONS_AVAILABLE_SCREEN:return jr().createElement(uu,du({ref:function(e){t.someNotificationAvailableScreenRef=e}},this.props));default:return null}}},{key:"render",value:function(){var e=this,t=this.props,n=t.notifications,i=t.pinnedNotifications,r=t.announcementNotification,o=t.pinnedNotificationIdsInNormalContainer,a=t.showFetchingSpinner,s=t.showFetchingSpinnerInCaseOfSearchCall,c=t.pinnedHistoricalNotificationsAvailable,l=t.handleKeyPress,u=t.segmentedNotifications,f=t.filteredPinnedNotifications,d=t.hasMoreHistoricalNotifications,p=n.length+(i.length-o.length),h=u.New.length+u.Today.length+u.Earlier.length+f.length+(r?1:0);return jr().createElement("div",{ref:function(t){e.notificationsDataWrapper=t},className:Ea()("notifications-data-wrapper",Jf.isDeviceTypeMobile()?"notifications-mobile-data-wrapper":""),onKeyDown:l},0===p?Jf.isShowSkeleton(a,s)?e.getNotificationWidgetView(gr.SKELETON_SCREEN):e.getNotificationWidgetView(gr.WELCOME_SCREEN):0===h?d||c?e.getNotificationWidgetView(gr.EMPTY_SCREEN_WITH_FETCH_MORE_BUTTON):e.getNotificationWidgetView(gr.EMPTY_SCREEN_WITH_NO_MORE_NOTIFICATIONS):p?e.getNotificationWidgetView(gr.SOME_NOTIFICATIONS_AVAILABLE_SCREEN):e.getNotificationWidgetView())}}])&&pu(n.prototype,i),r&&pu(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(jr().Component),Cu=function(e){var t=e.height,n=e.width,i=e.className,r=void 0===i?"":i;return jr().createElement("svg",{className:r,width:n,height:t,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},jr().createElement("path",{d:"M17.7862 12.6758C17.6177 12.3672 17.4454 12.0684 17.2749 11.7734C16.4483 10.3389 15.7339 9.10059 15.7339 7.15332C15.7339 4.03418 13.1963 1.49609 10.0767 1.49609C6.95706 1.49609 4.41946 4.03418 4.41946 7.15332C4.41946 8.91992 3.66067 10.2022 2.85745 11.5586C2.63724 11.9307 2.41604 12.3047 2.20804 12.6895C1.83206 13.3857 1.85111 14.21 2.25882 14.8936C2.67093 15.584 3.39554 15.9961 4.1973 15.9961H7.24955C7.24955 17.5127 8.48295 18.7461 9.99955 18.7461C11.5162 18.7461 12.7496 17.5127 12.7496 15.9961H15.8047C16.608 15.9961 17.3326 15.583 17.7437 14.8906C18.1514 14.2031 18.1675 13.375 17.7862 12.6758ZM9.99955 17.2461C9.3101 17.2461 8.74955 16.6855 8.74955 15.9961H11.2496C11.2496 16.6855 10.689 17.2461 9.99955 17.2461ZM16.4537 14.125C16.3872 14.2363 16.1914 14.4961 15.8047 14.4961H4.19731C3.92876 14.4961 3.68559 14.3574 3.54692 14.125C3.48247 14.0166 3.35161 13.7295 3.52837 13.4023C3.72661 13.0342 3.93804 12.6777 4.148 12.3232C5.01909 10.8525 5.91948 9.33105 5.91948 7.15332C5.91948 4.89941 7.82329 2.99609 10.0767 2.99609C12.3301 2.99609 14.2339 4.89941 14.2339 7.15332C14.2339 9.50195 15.1192 11.0371 15.9756 12.5225C16.1402 12.8076 16.3062 13.0957 16.4693 13.3945C16.65 13.7256 16.5186 14.0156 16.4537 14.125Z"}))};function Eu(e){return Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(e)}function Su(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Nu(i.key),i)}}function Nu(e){var t=function(e,t){if("object"!=Eu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Eu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Eu(t)?t:String(t)}function Ou(e,t,n){return t=Iu(t),function(e,t){if(t&&("object"===Eu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Tu()?Reflect.construct(t,n||[],Iu(e).constructor):t.apply(e,n))}function Tu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Tu=function(){return!!e})()}function Iu(e){return Iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Iu(e)}function wu(e,t){return wu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wu(e,t)}var Au=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ou(this,t,[e])).state={hasError:!1},n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wu(e,t)}(t,e),n=t,(i=[{key:"componentDidCatch",value:function(e,t){u.debug("UNCWidget: ErrorBoundary: called with : ",e," : ",t),this.setState({hasError:!0})}},{key:"render",value:function(){var e=this.state.hasError,t=this.props.children;return e?jr().createElement(Va,null):t}}])&&Su(n.prototype,i),r&&Su(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(jr().Component);function ku(e){return ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(e)}var Du=["theme"];function Pu(){return Pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pu.apply(this,arguments)}function Ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ru(Object(n),!0).forEach((function(t){Fu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ru(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fu(e,t,n){return(t=Hu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lu(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uu(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var i=t.length;return ju(t,void 0!==n&&n<i?n:i)}return e(t,n)}function Mu(e){return function(e){if(Array.isArray(e))return ju(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ju(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ju(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ju(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Wu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Hu(i.key),i)}}function Hu(e){var t=function(e,t){if("object"!=ku(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ku(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ku(t)?t:String(t)}function qu(e,t,n){return t=Bu(t),function(e,t){if(t&&("object"===ku(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gu(e)}(e,Vu()?Reflect.construct(t,n||[],Bu(e).constructor):t.apply(e,n))}function Vu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Vu=function(){return!!e})()}function Bu(e){return Bu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bu(e)}function Gu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zu(e,t){return zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zu(e,t)}var Ku=function(e){function t(e,n){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=qu(this,t,[e,n])).state={expanded:!1,tabPress:!1},i.show=function(e){i.overlay.show(),Jf.isValidString(e)&&setTimeout((function(){0!==i.props.holdNotificationsIds.length&&i.handleNewNotificationBannerClick(),setTimeout((function(){var t=document.getElementById("notificationContainer_".concat(e,"_Pinned"));if(t||(t=document.getElementById("notificationContainer_".concat(e))),t){Jf.scrollToDiv(i.notificationWidget.someNotificationAvailableScreenRef.notificationContainerDataWrapper,t,40,1e3),t.style.animation="add-contrast 2s ease-in-out"}}),0)}),0)},i.setNotificationsWidgetCustomProperties=function(e){Nr.getInstance().cssProperties&&(Object.prototype.hasOwnProperty.call(Nr.getInstance().cssProperties,"height")&&""!==Nr.getInstance().cssProperties.height&&0!==Nr.getInstance().cssProperties.height&&(e.style.height="".concat(Nr.getInstance().cssProperties.height,"px"),e.style["max-height"]="".concat(Nr.getInstance().cssProperties.height,"px")),Object.prototype.hasOwnProperty.call(Nr.getInstance().cssProperties,"width")&&""!==Nr.getInstance().cssProperties.width&&0!==Nr.getInstance().cssProperties.width&&(e.style.width="".concat(Nr.getInstance().cssProperties.width,"px")),Object.prototype.hasOwnProperty.call(Nr.getInstance().cssProperties,"border-width")&&(e.style["border-width"]="".concat(Nr.getInstance().cssProperties["border-width"],"px")),Object.prototype.hasOwnProperty.call(Nr.getInstance().cssProperties,"border-radius")&&(e.style["border-radius"]="".concat(Nr.getInstance().cssProperties["border-radius"],"px")),Object.prototype.hasOwnProperty.call(Nr.getInstance().cssProperties,"margin-right")&&(e.style["margin-right"]="".concat(Nr.getInstance().cssProperties["margin-right"],"px")),Object.prototype.hasOwnProperty.call(Nr.getInstance().cssProperties,"top")&&(e.style.top="".concat(Nr.getInstance().cssProperties.top,"px")))},i.loadHistoricalNotificationsOnClick=function(){Nr.getInstance().features&&Nr.getInstance().features.disabledFetchHistoricalNotification&&!i.fetchHistoricalNotificationsInDesktopOnce&&(ea.getInstance().beginHistoricalNotificationsFetching(),i.fetchHistoricalNotificationsInDesktopOnce=!0)},i.onEnterClick=function(e){e.preventDefault(),e.stopPropagation(),Mf.onBlurEventHandlerForTabIndex(i.popOverTargetElement),i.loadHistoricalNotificationsOnClick(),i.show()},i.onKeyPress=function(e){e.preventDefault();var t=new KeyboardEvent("keydown",{key:"Tab",bubbles:!0});e.target.dispatchEvent(t),i.setState({tabPress:!0})},i.hide=function(){u.debug("hiding overlay"),i.overlay.hide()},i.handleGlobalMouseDown=function(e){var t=e.target;i.widgetRef&&i.widgetRef.popoverRef&&!i.widgetRef.popoverRef.contains(t)&&(i.popOverTargetElement&&i.popOverTargetElement.contains(t)&&e.stopPropagation(),i.hide())},i.handleWidgetEvents=function(e,t){u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents - called with : ",e," : ",t);var n=i.props,r=n.selectedFilter,o=n.notifications,a=n.pinnedNotifications;switch(e){case gr.WIDGET_OPEN:var s=i.props.holdNotificationsIds;Nr.getInstance()&&Nr.getInstance().onWidgetOpenCloseCallbackFn&&Nr.getInstance().onWidgetOpenCloseCallbackFn("open"),i.loadHistoricalNotificationsOnClick(),(0!==s.length||Nr.getInstance().badgeCount>0)&&(r.value!==gr.EVERYTHING&&Zr.getInstance().setSelectedFilter({filterID:gr.EVERYTHING,value:gr.EVERYTHING}),So.getInstance().triggerShowingHoldFeedNotifications()),i.setState({expanded:!0}),i.bellIconRef&&i.bellIconRef.buttonRef&&i.bellIconRef.buttonRef.classList.remove("focus-ring"),u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents: WIDGET_OPEN - Notification widget opened");try{co.getInstance().sendAnalyticsForNotificationWidgetVisit()}catch(e){u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents: WIDGET_OPEN - Error in sending analytics for widget open clicked")}try{co.getInstance().sendAnalyticsForWidgetRendered()}catch(e){u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents: WIDGET_OPEN - Error in sending analytics for widget open clicked")}try{if(ra.getInstance().sendMessage(gr.UPDATE_BADGE_COUNT,{value:0},gr.CLIENT_TARGET_TYPE,""),Nr.getInstance().badgeRef&&(Nr.getInstance().badgeRef.style.display="none"),Nr.getInstance().surface&&Nr.getInstance().surface.toUpperCase()===gr.SURFACE_DESKTOP&&ra.getInstance().sendMessage(gr.CHANGE_NOTIFICATION_ICON,{NotificationIconData:{iconType:"normal"}},"Applet",gr.CONTAINER_BL_ID),Nr.getInstance().isWidgetOpen=!0,Io.getInstance().sendAnalyticsForRenderOfNotificationsInNewState(),Nr.getInstance().badgeCount>0){Nr.getInstance().badgeCount=0,ra.getInstance().sendMessage(gr.RESET_LOCAL_BADGE_COUNT,{});var c=ra.getInstance().sendMessage(gr.GET_USER_PROFILE,{},gr.CLIENT_TARGET_TYPE,"",!1);if(void 0===c.UserID||""===c.UserID)break;ra.getInstance().sendMessage(gr.CLEAR_BADGE,{"user-id":c.UserID})}}catch(e){}i.eventStore&&i.eventStore.dispatch(i.eventStore.createEvent("OverlayOpened",{overlayId:mr}));break;case gr.WIDGET_CLOSE:if(u.debug("UNCWidget: NotificationsProvider: `handleWidgetEvents`: WIDGET_CLOSE - Notification widget closed"),Nr.getInstance()&&Nr.getInstance().onWidgetOpenCloseCallbackFn&&Nr.getInstance().onWidgetOpenCloseCallbackFn("close"),i.setState({expanded:!1}),!0===Nr.getInstance().isWidgetOpen){if(u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents: WIDGET_CLOSE - Executing clearing accepted/rejected invites and clearing contrast"),Io.getInstance().removeAllAcceptedOrRejectedInvitations(),Nr.getInstance().badgeRef&&(Nr.getInstance().badgeRef.style.display="none"),Nr.getInstance().badgeCount>0){Nr.getInstance().badgeCount=0,ra.getInstance().sendMessage(gr.RESET_LOCAL_BADGE_COUNT,{});var l=ra.getInstance().sendMessage(gr.GET_USER_PROFILE,{},gr.CLIENT_TARGET_TYPE,"",!1);if(void 0===l.UserID||""===l.UserID)break;ra.getInstance().sendMessage(gr.CLEAR_BADGE,{"user-id":l.UserID})}var f=i.filterNotifications(o,r),d=i.filterNotifications(a,r),p=f.filter((function(e){return e.state===vr.NOTIFICATION_STATE_NEW})),h=d.filter((function(e){return e.state===vr.NOTIFICATION_STATE_NEW})),g=a.filter((function(e){return Lr.isEventNotification(e)&&e.eventNotificationData&&e.eventNotificationData.shouldExpireOnClose})),m=Oa().union(p,h,g);if(m&&m.length>0)try{u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents: WIDGET_CLOSE - marking notifications as unread");var v={},y=[],b=[],_={};v.notifications={},m.forEach((function(e){var t={};t["notification-id"]=e.id,t.state=e.eventNotificationData&&e.eventNotificationData.shouldExpireOnClose?vr.NOTIFICATION_STATE_EXPIRED:vr.NOTIFICATION_STATE_UNREAD,e.local?(e.state=vr.NOTIFICATION_STATE_UNREAD,b.push(t)):y.push(t)})),b.length>0&&(_.notifications=b,ra.getInstance().sendMessage(gr.UPDATE_LOCAL_NOTIFICATIONS_STATE,{content:JSON.stringify(_)})),v.notifications.notification=y,ra.getInstance().sendMessage(gr.UPDATE_NOTIFICATIONS_DATA,{content:JSON.stringify(v)})}catch(e){u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents: WIDGET_CLOSE - Error while marking notifications as unread")}try{co.getInstance().sendAnalyticsForWidgetClosed()}catch(e){u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents: WIDGET_CLOSE - Error in sending analytics for widget close clicked")}Nr.getInstance().isWidgetOpen=!1}i.eventStore&&i.eventStore.dispatch(i.eventStore.createEvent("OverlayClosed",{overlayId:mr})),Nr.getInstance().surface&&Nr.getInstance().surface.toUpperCase()!==gr.SURFACE_DESKTOP&&Nr.getInstance().optimizations&&Nr.getInstance().optimizations.includes(gr.Optimizations.DYNAMIC_LOADING)&&If.getInstance().unmountAndCleanupWidget();break;case gr.WIDGET_SCROLL:var C=i.notificationWidget.someNotificationAvailableScreenRef.notificationContainerDataWrapper;C.scrollTop>0?(So.getInstance().scrollPositionOnTop=!1,C.clientHeight+C.scrollTop+1>=C.scrollHeight&&C.scrollTop>=i.lastScrollTopPosition&&i.fetchMoreNotificationsOnScroll()):0===C.scrollTop&&(So.getInstance().scrollPositionOnTop=!0,So.getInstance().triggerShowingHoldFeedNotifications()),i.lastScrollTopPosition=C.scrollTop;break;case gr.WIDGET_MOUSE_OVER:var E=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;document.body.scrollHeight>window.innerHeight&&E<=5&&(document.body.classList.add("widget-hover"),document.body.classList.remove("widget-hover-exit"));break;case gr.WIDGET_MOUSE_OUT:document.body.classList.contains("widget-hover")&&(document.body.classList.remove("widget-hover"),document.body.classList.add("widget-hover-exit"))}},i.handleKeyPress=function(e){var t=i.notificationWidget.notificationsDataWrapper;38===e.keyCode?(u.debug("UNCWidget: NotificationsProvider: handleKeyPress - up key pressed"),0!==t.scrollTop&&(t.scrollTop-=15)):40===e.keyCode&&(u.debug("UNCWidget: NotificationsProvider: handleKeyPress - down key pressed"),t.scrollTop+=15)},i.handleNewNotificationBannerClick=function(e){e&&e.stopPropagation(),i.props.selectedFilter.value!==gr.EVERYTHING&&Zr.getInstance().setSelectedFilter({filterID:gr.EVERYTHING,value:gr.EVERYTHING}),setTimeout((function(){if(i.notificationWidget.someNotificationAvailableScreenRef){var e=i.notificationWidget.someNotificationAvailableScreenRef.notificationContainerDataWrapper;0===e.scrollTop?So.getInstance().triggerShowingHoldFeedNotifications():i.scrollToTop(e)}else So.getInstance().triggerShowingHoldFeedNotifications()}),0)},i.scrollToTop=function(e){var t=-e.scrollTop/(gr.NOTIFICATIONS_SCROLL_UP_DURATION/15),n=setInterval((function(){0!==e.scrollTop?e.scrollTop+=t:clearInterval(n)}),15)},i.hasContentInNotification=function(e){return!!(e&&e.payload&&e.payload.timeline&&e.payload.timeline.content)&&(e.payload.timeline.viewtype!==gr.COMMENT_CTA_TIMELINE||!!e.payload.timeline.commentSection)},i.updateContainerOffset=function(){var e=qr().findDOMNode(i.container),t=window.getComputedStyle(e),n=t.left,r=t.top,o=i.offset(e),a=n&&n.split("px")[0],s=r&&r.split("px")[0];(o.left||o.scrollLeft)&&(i.container.style.left="".concat(i.getInt(a)-i.getInt(o.left)+i.getInt(o.scrollLeft),"px")),(o.top||o.scrollTop)&&(i.container.style.top="".concat(i.getInt(s)-i.getInt(o.top)+i.getInt(o.scrollTop),"px")),Jf.isDeviceTypeMobile()&&i.setTraySpacingCSSVariable()},i.processAnnouncementNotification=function(e,t){var n=i.getAnnouncementNotificationsSortedInNewOrUnReadState(e,t);if(!n||0===n.length)return null;var r=n[0];return Pr.isAnnouncementNotificationTerminated(r)?null:(i.filterOutAnnouncementNotificationFromNotifications(e,t,r),r)},i.filterOutAnnouncementNotificationFromNotifications=function(e,t,n){if(n){if(e)for(var i=e.length,r=0;r<i;r+=1)e[r]&&e[r].id===n.id&&e.splice(r,1);if(t)for(var o=t.length,a=0;a<o;a+=1)t[a]&&t[a].id===n.id&&t.splice(a,1)}},i.getAnnouncementNotificationsSortedInNewOrUnReadState=function(e,t){var n=[];return e&&n.push.apply(n,Uu(Mu,e.filter((function(e){return Pr.isAnnouncementNotificationAndInNewOrUnReadState(e)})))),t&&n.push.apply(n,Uu(Mu,t.filter((function(e){return Pr.isAnnouncementNotificationAndInNewOrUnReadState(e)})))),n.sort((function(e,t){return t.renderingOrderTimestamp-e.renderingOrderTimestamp})),n},i.onShowAllNotificationsClick=function(e){e.preventDefault(),e.stopPropagation(),u.debug("UNCWidget: NotificationsProvider: show all notifications clicked");try{co.getInstance().sendAnalyticsForButtonClick(gr.SHOW_ALL_NOTIFICATIONS)}catch(e){u.debug("UNCWidget: NotificationsProvider: onShowAllNotificationClick: ButtonClick- Error in sending analytics for showAllNotifications click")}Zr.getInstance().setSelectedFilter({filterID:gr.EVERYTHING,value:gr.EVERYTHING})},i.lastScrollTopPosition=0,i.waitVariant="default",i.fetchHistoricalNotificationsInDesktopOnce=!1;var r=i.props.theme,o=gr.SUPPORTED_THEME_VALUES.findIndex((function(e){return e.toLowerCase()===r.toLowerCase()}));return Nr.getInstance().ccdGlobalStore?i.eventStore=Nr.getInstance().ccdGlobalStore.get("events"):i.eventStore=null,-1===o?i.props.theme=gr.DEFAULT_THEME:o||(i.waitVariant="dots"),i.handleFilterClick=i.handleFilterClick.bind(Gu(i)),i.getSegmentedNotifications=i.getSegmentedNotifications.bind(Gu(i)),i.filterNotifications=i.filterNotifications.bind(Gu(i)),i.fetchMoreNotificationsOnScroll=i.fetchMoreNotificationsOnScroll.bind(Gu(i)),i.onFetchMoreNotificationsClick=i.onFetchMoreNotificationsClick.bind(Gu(i)),i}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zu(e,t)}(t,e),n=t,i=[{key:"componentDidMount",value:function(){var e=this;this.overlayTimeout=setTimeout((function(){return e.updateContainerOffset()}),100),window.addEventListener("resize",this.updateContainerOffset),window.addEventListener("click",this.handleGlobalMouseDown,!0),this.loadContainer=this.container;var t=this.props;t.notifications,t.pinnedNotifications}},{key:"componentWillUnmount",value:function(){clearTimeout(this.overlayTimeout),this.loadContainer=null,this.widgetRef=null,this.notificationWidget=null,window.removeEventListener("resize",this.updateContainerOffset),window.removeEventListener("click",this.handleGlobalMouseDown,!0)}},{key:"getInt",value:function(e){return Number(e)||0}},{key:"fetchMoreNotificationsOnScroll",value:function(){var e=this.props,t=e.showFetchingSpinner,n=e.selectedFilter;e.pinnedHistoricalNotificationsAvailable,u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents: WIDGET_SCROLL - Reached bottom");var i=ea.getInstance().fetchHistoricalNotifications();if(i===gr.CALLING_FETCH){Zr.getInstance().setFetchingSpinnerState();try{co.getInstance().sendAnalyticsForUserTriggeredScroll()}catch(e){u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents: WIDGET_SCROLL - Error in sending analytics for WIDGET_SCROLL")}}else i===gr.NOT_AVAILABLE?Zr.getInstance().hideFetchingSpinnerState():!1===t&&Zr.getInstance().setFetchingSpinnerState();n.value!==gr.EVERYTHING&&ea.getInstance()._fetchPinnedHistoricalNotifications()}},{key:"getSegmentedNotifications",value:function(e){var t=this,n={New:[],Today:[],Earlier:[]},i=!0;return e.forEach((function(e){t.hasContentInNotification(e)&&(i&&e.state===vr.NOTIFICATION_STATE_NEW?n.New.push(e):Jf.isTodaysNotification(e.renderingOrderTimestamp)?(n.Today.push(e),i=!1):(n.Earlier.push(e),i=!1))})),n}},{key:"setTraySpacingCSSVariable",value:function(){var e=window.visualViewport?window.visualViewport.height:window.innerHeight;u.debug("UNCWidget: NotificationsProvider: Mobile Viewport Height: ".concat(e));var t=.0625*e;document.documentElement.style.setProperty("--unc-mobile-viewport-height","".concat(t,"rem"))}},{key:"offset",value:function(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+i,left:t.left+n,scrollTop:i,scrollLeft:n}}},{key:"getExclusiveListOfNormalNotifications",value:function(e,t){return e.filter((function(e){return!t.some((function(t){return t===e.id}))}))}},{key:"filterNotifications",value:function(e,t){if(t.value===gr.EVERYTHING)return e;var n=[];return e.forEach((function(e){if(e.payload.timeline&&e.payload.timeline.filterDetails)if(e.payload.timeline.overrideFilter)n.push(e);else try{e.payload.timeline.filterDetails.forEach((function(i){i.filterID===t.filterID&&i.categories.some((function(e){return e===t.value}))&&n.push(e)}))}catch(t){u.debug("UNCWidget: NotificationsProvider: malformed filterDetails array, this",e,"will only be available in everything Filter :",t)}})),n}},{key:"handleFilterClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{filterId:gr.EVERYTHING,value:gr.EVERYTHING},t=Nr.getInstance().premptiveCallCountOnFilterChange;Zr.getInstance().setSelectedFilter(e);try{co.getInstance().sendAnalyticsForFilterClick(e)}catch(e){u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents: FILTER_CLICK- Error in sending analytics for FILTER_CLICK")}var n=this.props,i=n.notifications,r=n.pinnedNotifications,o=n.pinnedHistoricalNotificationsAvailable,a=n.pinnedNotificationIdsInNormalContainer,s=t;this.getExclusiveListOfNormalNotifications(i,a).length+r.length<10*s&&(u.debug("UNCWidget: NotificationsProvider: making call to timeline and request api if historical notifications available"),o?(ea.getInstance()._fetchPinnedHistoricalNotifications(),ea.getInstance().fetchXHistoricalNotifications(s-1)):ea.getInstance().fetchXHistoricalNotifications(s))}},{key:"onFetchMoreNotificationsClick",value:function(e){e.preventDefault(),e.stopPropagation(),u.debug("UNCWidget: NotificationsProvider: fetching pinned and normal historical notification simultaneously"),this.props.selectedFilter;try{co.getInstance().sendAnalyticsForButtonClick(gr.LOAD_MORE_NOTIFICATIONS)}catch(e){u.debug("UNCWidget: NotificationsProvider: onFetchMoreNotificationClick: ButtonClick- Error in sending analytics for Fetch More click")}ea.getInstance()._fetchPinnedHistoricalNotifications(),ea.getInstance().fetchXHistoricalNotifications(1)}},{key:"render",value:function(){var e,t=this,n=this.state,i=n.expanded,r=n.tabPress,o=!i&&void 0;e=Nr.getInstance().localizedStrings?JSON.parse(JSON.stringify(Nr.getInstance().localizedStrings)):JSON.parse(JSON.stringify(Nr.getInstance().displayData));var a=this.props,s=a.theme,c=Lu(a,Du),l=null,f=null,d="notification-img";if(u.debug("UNCWidget: NotificationsProvider: render customNotificationIcon data : ",Nr.getInstance().customNotificationIcon),Nr.getInstance().customNotificationIcon&&(l=Nr.getInstance().customNotificationIcon.url,Nr.getInstance().customNotificationIcon.domAttributes)){var p=Nr.getInstance().customNotificationIcon.domAttributes;p.class&&(f=p.class),p.id&&(d=p.id)}var h=this.props,g=h.notifications,m=h.pinnedNotifications,v=h.selectedFilter,y=h.pinnedNotificationIdsInNormalContainer,b=h.showFetchingSpinner,_=h.showFetchingSpinnerInCaseOfSearchCall,C=this.getExclusiveListOfNormalNotifications(g,y),E=this.processAnnouncementNotification(C,m),S=this.filterNotifications(C,v),N=this.filterNotifications(m,v),O=this.getSegmentedNotifications(S),T=S.length+N.length+(E?1:0),I=Ea()("providerBaseClass",{"unc-filter-one-notification-popover":1===T},{"unc-filter-two-notification-popover":2===T},{"providerBaseClass-on-mobile":Jf.isDeviceTypeMobile()}),w=Ea()("unc-icon-tooltip",{"unav-notification-icon-tooltip":"DESKTOP"!==Nr.getInstance().surface.toUpperCase()}),A=xu(xu({},c),{},{onHide:this.hide,handleWidgetEvents:this.handleWidgetEvents,setNotificationsWidgetCustomProperties:this.setNotificationsWidgetCustomProperties,handleKeyPress:this.handleKeyPress,scrollToTop:this.scrollToTop,overlayContainer:function(){return t.widgetRef},segmentedNotifications:O,filteredNormalNotifications:S,filteredPinnedNotifications:N,announcementNotification:E,handleFilterClick:this.handleFilterClick,hasMoreHistoricalNotifications:ea.getInstance().hasMoreHistoricalNotificationsAvailable(),onFetchMoreNotificationsClick:this.onFetchMoreNotificationsClick,handleNewNotificationBannerClick:this.handleNewNotificationBannerClick,onShowAllNotificationsClick:this.onShowAllNotificationsClick}),k=xu({},Jf.isRTLLocale()&&{dir:"rtl"});return jr().createElement("div",{className:"unc-container"},jr().createElement(ya.default,{theme:s.toLowerCase(),className:"unc-wrapper"},jr().createElement(ma.default,{shouldUpdatePosition:!1,flip:!1,container:function(){return t.loadContainer},trigger:"click",placement:"bottom",ref:function(e){t.overlay=e},crossOffset:Jf.isRTLLocale()?Nr.surface&&Nr.surface.toUpperCase()===gr.SURFACE_DESKTOP?120:300:Nr.surface&&Nr.surface.toUpperCase()===gr.SURFACE_DESKTOP?-120:-300,offset:Nr.getInstance().surface&&Nr.getInstance().surface.toUpperCase()===gr.SURFACE_DESKTOP?-14:-3,onShow:function(e){return t.handleWidgetEvents(gr.WIDGET_OPEN,e)},onHide:function(e){return t.handleWidgetEvents(gr.WIDGET_CLOSE,e)},onMouseEnter:function(e){return t.handleWidgetEvents(gr.WIDGET_MOUSE_OVER,e)},onMouseLeave:function(e){return t.handleWidgetEvents(gr.WIDGET_MOUSE_OUT,e)}},jr().createElement("div",{className:"notifications-widget-bell ".concat(Nr.getInstance().bellIconTheme?Nr.getInstance().bellIconTheme:s.toLowerCase()," ").concat("DESKTOP"!==Nr.getInstance().surface.toUpperCase()?"unav-widget-bell":""),tabIndex:-1,ref:function(e){t.popOverTargetElement=e},onKeyDown:function(e){return cs.keyDownEventHandler(e,t.onEnterClick.bind(t,e),null,!0,null,null,t.onEnterClick.bind(t,e))}},jr().createElement(ma.default,{placement:"bottom",trigger:["hover","focus"],container:function(){return t.loadContainer},delayShow:1e3,selected:!1,show:o,offset:Nr.getInstance().surface&&Nr.getInstance().surface.toUpperCase()===gr.SURFACE_DESKTOP?-5:-3},jr().createElement("div",{className:Ea()({"is-selected":i,"stop-pointer-events":i})},jr().createElement("div",{className:"notification-badge",style:{display:"none"},ref:function(e){Nr.getInstance().badgeRef=e}},jr().createElement("span",{className:"badge-count",ref:function(e){Nr.getInstance().badgeCountRef=e}})),jr().createElement(Sa.default,{className:Ea()("notification-icon","icon-style",{"is-selected":i,"stop-pointer-events":i,"express-theme":Nr.getInstance().isExpressTheme,"desktop-notification-icon":"DESKTOP"===Nr.getInstance().surface.toUpperCase()}),variant:"action",role:"button",tabIndex:0,icon:l?jr().createElement("img",{alt:"",id:d,className:"notification-img-custom ".concat(f||""),src:l}):Nr.getInstance().surface&&Nr.getInstance().surface.toUpperCase()===gr.SURFACE_DESKTOP?jr().createElement(ba.default,{size:"S",className:"notification-img",icon:jr().createElement(Aa,null)}):jr().createElement(Cu,{height:18,width:18,className:Ea()("unav-svg",{"express-svg":Nr.getInstance().isExpressTheme})}),"aria-label":e.LOC_NOTIFICATIONS,"aria-haspopup":"true","aria-expanded":i,ref:function(e){t.bellIconRef=e},quiet:!0})),Jf.isDeviceTypeMobile()?jr().createElement("div",null):jr().createElement(_a.default,{className:w,placement:"bottom"},e.LOC_NOTIFICATIONS_SMALL))),jr().createElement(va.default,{ref:function(e){t.widgetRef=e},trapFocus:!r,onKeyDown:r?void 0:function(e){return cs.keyDownEventHandler(e,t.onKeyPress.bind(t,e),null,!0,null,t.onKeyPress.bind(t,e),null)},className:Ea()("notifications-widget","notifications-widget-colors","".concat(Nr.getInstance().deviceLocale),Jf.isDeviceTypeMobile()?"notifications-widget-mobile-colors":"",Nr.getInstance().surface&&"DESKTOP"!==Nr.getInstance().surface.toUpperCase()?"no-tip-showing":"tip-showing",{"overflow-y-hidden":Jf.isShowSkeleton(b,_)})},jr().createElement(ya.default,{theme:s.toLowerCase(),className:I},jr().createElement(Au,null,jr().createElement(_u,Pu({ref:function(e){t.notificationWidget=e}},A)))))),jr().createElement("div",Pu({},k,{className:Ea()("unc-overlay-container",Jf.isDeviceTypeMobile()?"unc-overlay-mobile-container":"",{rtl:k.dir}),ref:function(e){t.container=e}}))))}}],i&&Wu(n.prototype,i),r&&Wu(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(jr().Component);Ku.propTypes={theme:ga().string},Ku.defaultProps={theme:gr.DEFAULT_THEME};var Yu=n(6745);function Xu(e){return Xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(e)}var Ju=["theme"];function $u(){return $u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$u.apply(this,arguments)}function Qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Zu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qu(Object(n),!0).forEach((function(t){ef(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ef(e,t,n){return(t=rf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tf(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,rf(i.key),i)}}function rf(e){var t=function(e,t){if("object"!=Xu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Xu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xu(t)?t:String(t)}function of(e,t,n){return t=sf(t),function(e,t){if(t&&("object"===Xu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cf(e)}(e,af()?Reflect.construct(t,n||[],sf(e).constructor):t.apply(e,n))}function af(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(af=function(){return!!e})()}function sf(e){return sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sf(e)}function cf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lf(e,t){return lf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lf(e,t)}var uf=function(e){function t(e,n){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=of(this,t,[e,n])).state={expanded:!1,popupOpen:!1},i.setNotificationsWidgetHeight=function(e){document.body.clientHeight>500&&document.body.clientHeight<=window.innerHeight?document.body.clientHeight-80<580?e.style.maxHeight="".concat(document.body.clientHeight-80,"px"):e.style.maxHeight="650px":window.innerHeight-80<580?e.style.maxHeight="".concat(window.innerHeight-80,"px"):e.style.maxHeight="640px"},i.handleWidgetEvents=function(e,t){u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents - called with : ",e," : ",t);var n=i.props.selectedFilter;switch(e){case gr.WIDGET_OPEN:var r=i.props.holdNotificationsIds;i.loadHistoricalNotificationsOnClick(),(0!==r.length||Nr.getInstance().badgeCount>0)&&(n.value!==gr.EVERYTHING&&Zr.getInstance().setSelectedFilter({filterID:gr.EVERYTHING,value:gr.EVERYTHING}),So.getInstance().triggerShowingHoldFeedNotifications()),i.setState({expanded:!0}),i.bellIconRef&&i.bellIconRef.buttonRef&&i.bellIconRef.buttonRef.classList.remove("focus-ring"),u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents: WIDGET_OPEN - Notification widget opened");try{co.getInstance().sendAnalyticsForNotificationWidgetVisit()}catch(e){u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents: WIDGET_OPEN - Error in sending analytics for widget open clicked ex",e)}try{co.getInstance().sendAnalyticsForWidgetRendered()}catch(e){u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents: WIDGET_OPEN - Error in sending analytics for widget open clicked ex",e)}try{if(ra.getInstance().sendMessage(gr.UPDATE_BADGE_COUNT,{value:0},gr.CLIENT_TARGET_TYPE,""),Nr.getInstance().badgeRef&&(Nr.getInstance().badgeRef.style.display="none"),Nr.getInstance().surface&&Nr.getInstance().surface.toUpperCase()===gr.SURFACE_DESKTOP&&ra.getInstance().sendMessage(gr.CHANGE_NOTIFICATION_ICON,{NotificationIconData:{iconType:"normal"}},"Applet",gr.CONTAINER_BL_ID),Nr.getInstance().isWidgetOpen=!0,Io.getInstance().sendAnalyticsForRenderOfNotificationsInNewState(),Nr.getInstance().badgeCount>0){Nr.getInstance().badgeCount=0,ra.getInstance().sendMessage(gr.RESET_LOCAL_BADGE_COUNT,{},gr.CLIENT_TARGET_TYPE,"");var o=ra.getInstance().sendMessage(gr.GET_USER_PROFILE,{},gr.CLIENT_TARGET_TYPE,"",!1);if(void 0===o.UserID||""===o.UserID)break;ra.getInstance().sendMessage(gr.CLEAR_BADGE,{"user-id":o.UserID})}}catch(e){}i.eventStore&&i.eventStore.dispatch(i.eventStore.createEvent("OverlayOpened",{overlayId:mr}));break;case gr.WIDGET_CLOSE:if(u.debug("UNCWidget: NotificationsProvider: `handleWidgetEvents`: WIDGET_CLOSE - Notification widget closed"),i.setState({expanded:!1}),!0===Nr.getInstance().isWidgetOpen){if(u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents: WIDGET_CLOSE - Executing clearing accepted/rejected invites and clearing contrast"),Io.getInstance().removeAllAcceptedOrRejectedInvitations(),Nr.getInstance().badgeRef&&(Nr.getInstance().badgeRef.style.display="none"),Nr.getInstance().badgeCount>0){Nr.getInstance().badgeCount=0,ra.getInstance().sendMessage(gr.RESET_LOCAL_BADGE_COUNT,{},gr.CLIENT_TARGET_TYPE,"");var a=ra.getInstance().sendMessage(gr.GET_USER_PROFILE,{},gr.CLIENT_TARGET_TYPE,"",!1);if(void 0===a.UserID||""===a.UserID)break;ra.getInstance().sendMessage(gr.CLEAR_BADGE,{"user-id":a.UserID})}var s=i.props,c=s.notifications,l=s.pinnedNotifications,f=i.filterNotifications(c,n),d=i.filterNotifications(l,n),p=f.filter((function(e){return e.state===vr.NOTIFICATION_STATE_NEW})),h=d.filter((function(e){return e.state===vr.NOTIFICATION_STATE_NEW})),g=Oa().union(p,h);if(g&&g.length>0)try{u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents: WIDGET_CLOSE - marking notifications as unread");var m={},v=[];m.notifications={},g.forEach((function(e){var t={};t["notification-id"]=e.id,t.state=vr.NOTIFICATION_STATE_UNREAD,e.local||v.push(t)})),m.notifications.notification=v,ra.getInstance().sendMessage(gr.UPDATE_NOTIFICATIONS_DATA,{content:JSON.stringify(m)})}catch(e){u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents: WIDGET_CLOSE - Error while marking notifications as unread")}Nr.getInstance().isWidgetOpen=!1}i.eventStore&&i.eventStore.dispatch(i.eventStore.createEvent("OverlayClosed",{overlayId:mr}));break;case gr.WIDGET_SCROLL:var y=i.notificationWidget.someNotificationAvailableScreenRef.notificationContainerDataWrapper;y.scrollTop>0?(So.getInstance().scrollPositionOnTop=!1,y.clientHeight+y.scrollTop+1>=y.scrollHeight&&y.scrollTop>=i.lastScrollTopPosition&&i.fetchMoreNotificationsOnScroll()):0===y.scrollTop&&(So.getInstance().scrollPositionOnTop=!0,So.getInstance().triggerShowingHoldFeedNotifications()),i.lastScrollTopPosition=y.scrollTop;break;case gr.WIDGET_MOUSE_OVER:var b=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;document.body.scrollHeight>window.innerHeight&&b<=5&&(document.body.classList.add("widget-hover"),document.body.classList.remove("widget-hover-exit"));break;case gr.WIDGET_MOUSE_OUT:document.body.classList.contains("widget-hover")&&(document.body.classList.remove("widget-hover"),document.body.classList.add("widget-hover-exit"))}},i.updateContainerOffset=function(){},i.onShowAllNotificationsClick=function(e){e.preventDefault(),e.stopPropagation(),u.debug("UNCWidget: NotificationsProvider: show all notifications clicked");try{co.getInstance().sendAnalyticsForButtonClick(gr.SHOW_ALL_NOTIFICATIONS),co.getInstance().sendAnalyticsForButtonClick(gr.SHOW_ALL_NOTIFICATIONS),co.getInstance().sendAnalyticsForButtonClick(gr.SHOW_ALL_NOTIFICATIONS),co.getInstance().sendAnalyticsForButtonClick(gr.SHOW_ALL_NOTIFICATIONS),co.getInstance().sendAnalyticsForButtonClick(gr.SHOW_ALL_NOTIFICATIONS)}catch(e){u.debug("UNCWidget: NotificationsProvider: onShowAllNotificationClick: ButtonClick- Error in sending analytics for showAllNotifications click")}Zr.getInstance().setSelectedFilter({filterID:gr.EVERYTHING,value:gr.EVERYTHING})},i.processAnnouncementNotification=function(e,t){var n=i.getAnnouncementNotificationsSortedInNewOrUnReadState(e,t);if(!n||0===n.length)return null;var r=n[0];return Pr.isAnnouncementNotificationTerminated(r)?null:(i.filterOutAnnouncementNotificationFromNotifications(e,t,r),r)},i.filterOutAnnouncementNotificationFromNotifications=function(e,t,n){if(n){if(e)for(var i=e.length,r=0;r<i;r+=1)e[r]&&e[r].id===n.id&&e.splice(r,1);if(t)for(var o=t.length,a=0;a<o;a+=1)t[a]&&t[a].id===n.id&&t.splice(a,1)}},i.lastScrollTopPosition=0,i.waitVariant="default";var r=i.props.theme,o=gr.SUPPORTED_THEME_VALUES.findIndex((function(e){return e.toLowerCase()===r.toLowerCase()}));return Nr.getInstance().ccdGlobalStore?i.eventStore=Nr.getInstance().ccdGlobalStore.get("events"):i.eventStore=null,-1===o?i.props.theme=gr.DEFAULT_THEME:o||(i.waitVariant="dots"),i.handleFilterClick=i.handleFilterClick.bind(cf(i)),i.getSegmentedNotifications=i.getSegmentedNotifications.bind(cf(i)),i.filterNotifications=i.filterNotifications.bind(cf(i)),i.fetchMoreNotificationsOnScroll=i.fetchMoreNotificationsOnScroll.bind(cf(i)),i.onFetchMoreNotificationsClick=i.onFetchMoreNotificationsClick.bind(cf(i)),i}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lf(e,t)}(t,e),n=t,i=[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",(function(){void 0!==e.notificationsWidgetResizeTimer&&clearTimeout(e.notificationsWidgetResizeTimer),e.notificationsWidgetResizeTimer=setTimeout((function(){e.notificationWidget&&e.notificationWidget.notificationsDataWrapper&&e.setNotificationsWidgetHeight(e.notificationWidget.notificationsDataWrapper)}),20)})),this.overlayTimeout=setTimeout((function(){return e.updateContainerOffset()}),100),window.addEventListener("resize",this.updateContainerOffset),window.addEventListener("click",this.handleGlobalMouseDown,!0)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.overlayTimeout),window.removeEventListener("resize",this.updateContainerOffset),window.removeEventListener("click",this.handleGlobalMouseDown)}},{key:"fetchMoreNotificationsOnScroll",value:function(){var e=this.props,t=e.showFetchingSpinner,n=e.selectedFilter;e.pinnedHistoricalNotificationsAvailable,u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents: WIDGET_SCROLL - Reached bottom");var i=ea.getInstance().fetchHistoricalNotifications();if(i===gr.CALLING_FETCH){Zr.getInstance().setFetchingSpinnerState();try{co.getInstance().sendAnalyticsForUserTriggeredScroll(),co.getInstance().sendAnalyticsForUserTriggeredScroll(),co.getInstance().sendAnalyticsForUserTriggeredScroll(),co.getInstance().sendAnalyticsForUserTriggeredScroll(),co.getInstance().sendAnalyticsForUserTriggeredScroll()}catch(e){u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents: WIDGET_SCROLL - Error in sending analytics for WIDGET_SCROLL")}}else i===gr.NOT_AVAILABLE?Zr.getInstance().hideFetchingSpinnerState():!1===t&&Zr.getInstance().setFetchingSpinnerState();n.value!==gr.EVERYTHING&&ea.getInstance()._fetchPinnedHistoricalNotifications()}},{key:"handleFilterClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{filterId:gr.EVERYTHING,value:gr.EVERYTHING},t=Nr.getInstance().premptiveCallCountOnFilterChange;Zr.getInstance().setSelectedFilter(e);try{co.getInstance().sendAnalyticsForFilterClick(e),co.getInstance().sendAnalyticsForFilterClick(e),co.getInstance().sendAnalyticsForFilterClick(e),co.getInstance().sendAnalyticsForFilterClick(e),co.getInstance().sendAnalyticsForFilterClick(e)}catch(e){u.debug("UNCWidget: NotificationsProvider: handleWidgetEvents: FILTER_CLICK- Error in sending analytics for FILTER_CLICK")}var n=this.props,i=n.notifications,r=n.pinnedNotifications,o=n.pinnedHistoricalNotificationsAvailable,a=n.pinnedNotificationIdsInNormalContainer,s=t;this.getExclusiveListOfNormalNotifications(i,a).length+r.length<10*s&&(u.debug("UNCWidget: NotificationsProvider: making call to timeline and request api if historical notifications available"),o?(ea.getInstance()._fetchPinnedHistoricalNotifications(),ea.getInstance().fetchXHistoricalNotifications(s-1)):ea.getInstance().fetchXHistoricalNotifications(s))}},{key:"onFetchMoreNotificationsClick",value:function(e){e.preventDefault(),e.stopPropagation(),u.debug("UNCWidget: NotificationsProvider: fetching pinned and normal historical notification simultaneously"),this.props.selectedFilter;try{co.getInstance().sendAnalyticsForButtonClick(gr.LOAD_MORE_NOTIFICATIONS),co.getInstance().sendAnalyticsForButtonClick(gr.LOAD_MORE_NOTIFICATIONS),co.getInstance().sendAnalyticsForButtonClick(gr.LOAD_MORE_NOTIFICATIONS),co.getInstance().sendAnalyticsForButtonClick(gr.LOAD_MORE_NOTIFICATIONS),co.getInstance().sendAnalyticsForButtonClick(gr.LOAD_MORE_NOTIFICATIONS)}catch(e){u.debug("UNCWidget: NotificationsProvider: onFetchMoreNotificationClick: ButtonClick- Error in sending analytics for Fetch More click")}ea.getInstance()._fetchPinnedHistoricalNotifications(),ea.getInstance().fetchXHistoricalNotifications(1)}},{key:"render",value:function(){var e,t=this,n=this.state.expanded;e=Nr.getInstance().localizedStrings?JSON.parse(JSON.stringify(Nr.getInstance().localizedStrings)):JSON.parse(JSON.stringify(Nr.getInstance().displayData));var i=this.props,r=i.theme,o=tf(i,Ju),a=null,s=null,c="notification-img";if(u.debug("UNCWidget: NotificationsProvider: render customNotificationIcon data : ",Nr.getInstance().customNotificationIcon),Nr.getInstance().customNotificationIcon&&(a=Nr.getInstance().customNotificationIcon.url,Nr.getInstance().customNotificationIcon.domAttributes)){var l=Nr.getInstance().customNotificationIcon.domAttributes;l.class&&(s=l.class),l.id&&(c=l.id)}var f=this.props,d=f.notifications,p=f.pinnedNotifications,h=f.selectedFilter,g=f.pinnedNotificationIdsInNormalContainer,m=this.getExclusiveListOfNormalNotifications(d,g),v=this.filterNotifications(m,h),y=this.filterNotifications(p,h),b=this.processAnnouncementNotification(m,p),_=this.getSegmentedNotifications(v),C=v.length+y.length,E=Ea()("providerBaseClass",{"unc-filter-one-notification-popover":1===C},{"unc-filter-two-notification-popover":2===C}),S=Zu(Zu({},o),{},{onHide:this.hide,handleWidgetEvents:this.handleWidgetEvents,setNotificationsWidgetCustomProperties:this.setNotificationsWidgetCustomProperties,handleKeyPress:this.handleKeyPress,setNotificationsWidgetHeight:this.setNotificationsWidgetHeight,scrollToTop:this.scrollToTop,overlayContainer:function(){return t.widgetRef},segmentedNotifications:_,filteredPinnedNotifications:y,announcementNotification:b,handleFilterClick:this.handleFilterClick,hasMoreHistoricalNotifications:ea.getInstance().hasMoreHistoricalNotificationsAvailable(),onFetchMoreNotificationsClick:this.onFetchMoreNotificationsClick,handleNewNotificationBannerClick:this.handleNewNotificationBannerClick,onShowAllNotificationsClick:this.onShowAllNotificationsClick});return jr().createElement("div",{className:"unc-container"},jr().createElement(ya.default,{theme:r.toLowerCase(),className:"unc-wrapper"},jr().createElement("div",{className:"notifications-widget-bell notifications-phsp-bell ".concat(Nr.getInstance().bellIconTheme?Nr.getInstance().bellIconTheme:r.toLowerCase()),tabIndex:-1,ref:function(e){t.popOverTargetElement=e},onKeyDown:function(e){return cs.keyDownEventHandler(e,t.onEnterClick.bind(t,e),null,!0,null,null,t.onEnterClick.bind(t,e))}},jr().createElement(ma.default,{placement:"bottom",trigger:"hover",container:function(){return t.container},delayShow:1e3,selected:!1,offset:Nr.getInstance().surface&&Nr.getInstance().surface.toUpperCase()===gr.SURFACE_DESKTOP?-5:-3},jr().createElement("div",null,jr().createElement("div",{className:"notification-badge",style:{display:"none"},ref:function(e){Nr.getInstance().badgeRef=e}},jr().createElement("span",{className:"badge-count",ref:function(e){Nr.getInstance().badgeCountRef=e}})),jr().createElement(Sa.default,{id:"notification-btn",className:Ea()("notification-icon",{"is-selected":n,"stop-pointer-events":n}),variant:"action",role:"button",tabIndex:0,onClick:function(){var e=document.getElementById("notification-btn"),n=document.getElementById("notification-panel-flyout");n&&(t.state.popupOpen?(n.close(),t.handleWidgetEvents(gr.WIDGET_CLOSE),t.state.popupOpen=!1):(n.showFlyout(e,{placement:"auto auto",preventLightDismissal:!0}),t.handleWidgetEvents(gr.WIDGET_OPEN),t.state.popupOpen=!0))},icon:a?jr().createElement("img",{alt:"",id:c,className:"notification-img-custom ".concat(s||""),src:a}):jr().createElement(Yu.Z,{size:"S",className:"notification-img"}),"aria-label":e.LOC_NOTIFICATIONS,"aria-haspopup":"true","aria-expanded":n,ref:function(e){t.bellIconRef=e},quiet:!0})),jr().createElement(_a.default,{className:"unc-icon-tooltip",placement:"bottom"}))),jr().createElement("popup",{id:"notification-panel-flyout",onClose:function(e){t.state.popupOpen=!1,t.handleWidgetEvents(gr.WIDGET_CLOSE,e)}},jr().createElement("div",{className:"unc-photoshop"},jr().createElement(ya.default,{theme:r.toLowerCase(),className:E},jr().createElement("div",{ref:function(e){t.widgetRef=e},className:Ea()("notifications-widget","notifications-widget-colors","".concat(Nr.getInstance().deviceLocale),Nr.getInstance().deviceType&&"Mobile"===Nr.getInstance().deviceType?"notifications-widget-mobile-colors":"")},jr().createElement(_u,$u({ref:function(e){t.notificationWidget=e}},S)))),jr().createElement("div",{className:Ea()("unc-overlay-container",Nr.getInstance().deviceType&&"Mobile"===Nr.getInstance().deviceType?"unc-overlay-mobile-container":""),ref:function(e){t.container=e}})))))}}],i&&nf(n.prototype,i),r&&nf(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(Ku);function ff(e){return ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(e)}function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},df.apply(this,arguments)}function pf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function hf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pf(Object(n),!0).forEach((function(t){gf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gf(e,t,n){return(t=vf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,vf(i.key),i)}}function vf(e){var t=function(e,t){if("object"!=ff(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ff(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ff(t)?t:String(t)}function yf(e,t,n){return t=_f(t),function(e,t){if(t&&("object"===ff(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bf()?Reflect.construct(t,n||[],_f(e).constructor):t.apply(e,n))}function bf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bf=function(){return!!e})()}function _f(e){return _f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_f(e)}function Cf(e,t){return Cf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cf(e,t)}var Ef,Sf=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=yf(this,t,[].concat(i))).notificationsIdVsObjMap=new Map,e.state={notifications:[],pinnedNotifications:[],holdNotificationsIds:[],pinnedNotificationIdsInNormalContainer:[],visiblePinnedNotificationsCount:0,showUndoBanner:!1,requestDismissedNotifCount:0,timelineDismissedNotifCount:0,showFetchingSpinner:!1,pinnedHistoricalNotificationsAvailable:!0,buttonClickInProgress:!1,locale:"en_US",theme:"light",selectedFilter:{filterID:gr.EVERYTHING,value:gr.EVERYTHING},showFetchingSpinnerInCaseOfSearchCall:!1},e._generateProps=function(){return hf(hf({},e.props),e.state)},e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cf(e,t)}(t,e),n=t,(i=[{key:"componentWillUnmount",value:function(){this.provider=null}},{key:"render",value:function(){var e=this;return jr().createElement("div",null,Ur()?jr().createElement(uf,df({ref:function(t){e.provider=t}},this._generateProps())):jr().createElement(Ku,df({ref:function(t){e.provider=t}},this._generateProps())))}}])&&mf(n.prototype,i),r&&mf(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(jr().Component);function Nf(e){return Nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(e)}function Of(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Tf(i.key),i)}}function Tf(e){var t=function(e,t){if("object"!=Nf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Nf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nf(t)?t:String(t)}var If=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=null,this.ccxCoreObj=null,this.initMessageReceived=!1}var t,i,r;return t=e,r=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"deleteInstance",value:function(){e.instance=null}}],(i=[{key:"initializeContextDataHandler",value:function(e,t){var i=this;u.debug("UNCWidget: ContextDataHandler: initializeContextDataHandler - context passed is : ",e),this.context=e,Ef=e,ra.getInstance().initializeNotificationEngineInterfaceObj(e,t);var r=Nr.getInstance().sanitizeLocaleValue(this.context.locale);Nr.getInstance().setDeviceLocale(r),Nr.getInstance().initializeGlobalData(this.context),pa.initialize(),this.loadStringsFromDictionaryResources(r).then((function(e){var t=JSON.parse(e);Nr.getInstance().localizedStrings=t,Nr.getInstance().setLocalizedDisplayStrings(t),i.initMessageProcessed&&"en_US"!==r&&(u.debug("UNCWidget: ContextDataHandler: initializeContextDataHandler - Widget already initilaized but got locale data now therefore re-rendering"),So.getInstance().reloadAfterLocaleChange(r))})).catch((function(){u.debug("UNCWidget: ContextDataHandler: initializeContextDataHandler - dictionary loading failed and will run in English")}));var o=n(8875);o.keys().forEach((function(e){Nr.getInstance().imagePathMap[e]=o(e)}));var a=n(5809);a.keys().forEach((function(e){Nr.getInstance().imagePathMap[e]=a(e)})),u.debug("UNCWidget: ContextDataHandler: initializeContextDataHandler - imagePathMap",Nr.getInstance().imagePathMap);try{co.getInstance().sendAnalyticsForUNCInit()}catch(e){u.debug("UNCWidget: ContextDataHandler: initializeContextDataHandler - Exception in sending init analytics",e)}}},{key:"loadStringsFromDictionaryResources",value:function(e){var t="".concat(e,".json"),n=this;return new Promise((function(e,i){var r={hostname:"".concat(Jf.getBasePathForResources(),"/").concat(He.PATH_PARAM,"/").concat(He.LATEST_VERSION_PARAM,"/Dictionary/").concat(t),methodType:"GET",responseCallback:function(t){u.debug("UNCWidget: ContextDataHandler: loadStringsFromDictionaryResources - dictionary file content loaded:",t),e(t)}.bind(n),errorCallback:function(e){u.debug("UNCWidget: ContextDataHandler: loadStringsFromDictionaryResources - dictionary file content failed to load and will be using english strings"),i(e)}.bind(n)};n.httpComm=new ne(r);var o={requestHeaders:{},content:""};n.httpComm.SendRequest(o)}))}},{key:"loadIngestScriptFiles",value:function(){}},{key:"unmountAndCleanupWidget",value:function(){var e=document.querySelector(this.context.el);if(!e)return u.debug("UNCWidget: ContextDataHandler: unmountAndCleanupWidget - target element not found:");So.getInstance().initializeWithDefault(),ea.getInstance().stopUpdateOfTimeStringOfAllNotifications(),ra.getInstance().sendMessage(gr.RENDER_ENGINE_BELL_ICON,null),setTimeout((function(){qr().unmountComponentAtNode(e)}),0)}},{key:"initiateUXProcessing",value:function(){var e=this;!1===this.initMessageReceived&&this.context?setTimeout((function(){e.initMessageReceived=!0;var t,n=document.querySelector(e.context.el);if(!n)return u.debug("UNCWidget: ContextDataHandler: initiateUXProcessing - target element not found:");Nr.getInstance().surface&&Nr.getInstance().surface.toUpperCase()!==gr.SURFACE_DESKTOP&&Nr.getInstance().optimizations&&Nr.getInstance().optimizations.includes(gr.Optimizations.DYNAMIC_LOADING)&&n&&("notificationIconOnEngine"===n.children[0].id?n.removeChild(n.children[0]):"notificationIconOnEngine"===n.children[1].id&&n.removeChild(n.children[1])),qr().render(jr().createElement(Sf,{ref:function(e){t=e},theme:Ef.theme}),n),Jf.init(t),Zr.getInstance().init(t),xo.getInstance().init(t),mo.getInstance().init(t),So.getInstance().init(t),e.initMessageProcessed=!0,"light"!==Ef.theme&&So.getInstance().updateTheme(Ef.theme);try{e.context&&e.context.onUNCWidgetReady&&"function"==typeof e.context.onUNCWidgetReady&&setTimeout((function(){e.context.onUNCWidgetReady()}),0)}catch(e){u.warn("UNCWidget: ContextDataHandler: executeStateMachine: __LOAD_UI__ - Some exception occured while calling host callback",e)}try{Nr.getInstance().onWidgetReadyCallback&&"function"==typeof Nr.getInstance().onWidgetReadyCallback&&setTimeout((function(){Nr.getInstance().onWidgetReadyCallback()}),0)}catch(e){u.warn("UNCWidget: ContextDataHandler: - Some exception occured while calling onWidgetReadyCallback",e)}try{ca.getInstance().registerObserverForAllNotifications(),Nr.getInstance().features&&Nr.getInstance().features.disabledFetchHistoricalNotification||ea.getInstance().beginHistoricalNotificationsFetching(gr.cacheMessages.INIT)}catch(e){if(u.debug("UNCWidget: ContextDataHandler: initiateUXProcessing - error in initializeUXAndNotificationFetching:"),Nr.getInstance().surface&&Nr.getInstance().surface.toUpperCase()===gr.SURFACE_DESKTOP){var i={};i.message=e.message,i.component="UNCWidget",i.file="ContextDataHandler",ra.getInstance().sendMessage(gr.CCUI_EXCEPTION_HANDLER,i,"Applet",gr.CONTAINER_UI_ID)}}}),10):ca.getInstance().registerObserverForAllNotifications()}},{key:"onThemeChange",value:function(e){this.context&&(this.context.theme=e,Ef.theme=e,So.getInstance().updateTheme(e))}}])&&Of(t.prototype,i),r&&Of(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function wf(e){return wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(e)}function Af(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,kf(i.key),i)}}function kf(e){var t=function(e,t){if("object"!=wf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=wf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wf(t)?t:String(t)}var Df=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,n=[{key:"getDefaultObjectForUNCForAnalytics",value:function(){var e={xApiKey:"unc-web-service",apiKey:"unc-web-service",project:"unc-web-service",source:"UNC"};return e.project="unc-web-service","prod"!==Nr.getInstance().env.toLowerCase()?(e.environment="stage",e.rsid="adbem-cchome-dev"):(e.environment="prod",e.rsid="adbem-cchome-prod"),e}},{key:"sendAnalyticsForReceiptOfNotification",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Nr.getInstance().analyticsEnabled){u.debug("UNCWidget: WebAnalyticsHandler: sendAnalyticsForReceiptOfNotification :  notification object is ",e);var n,i,r=new(We())(this.getDefaultObjectForUNCForAnalytics());r.initializeDefaultData();var o={};if(r.setDataValue(gr.Event_Section,"type","receipt"),r.setDataValue(gr.Event_Section,"subcategory","Message"),this.setConstantFieldsWithValues(r),t||r.setDataValue(gr.Event_Section,"error_type","parsing-error"),e.id&&""!==e.id&&r.setDataValue(gr.Content_Section,"id",e.id),e.type&&""!==e.type&&e.subType&&""!==e.subType&&r.setDataValue(gr.Content_Section,"type","".concat(e.type,":").concat(e.subType)),r.setDataValue(gr.Content_Section,"status",e.state?e.state.toLowerCase():"read"),r.setDataValue(gr.Event_Section,"subtype","notification"),e.trackingSystemPayload&&""!==e.trackingSystemPayload){r.setDataValue("custom","ans.client_payload",e.trackingSystemPayload),o=e.trackingSystemPayload;try{o=JSON.parse(o),Object.prototype.hasOwnProperty.call(o,He.CAMPAIGN_ID)&&(n=o.CAMPAIGN_ID),Object.prototype.hasOwnProperty.call(o,He.VARIATION_ID)&&(i=o.VARIATION_ID)}catch(e){u.warn("UNCWidget: WebAnalyticsHandler: sendAnalyticsForReceiptOfNotification : notifObj.trackingSystemPayload parsing failed with error : ",e)}}e.contentSourceId&&""!==e.contentSourceId&&r.setDataValue("custom","content_source_id",e.contentSourceId),n&&r.setDataValue("exp","campaign_id",n),i&&r.setDataValue("exp","variation_id",i),e.isPinned&&!0===e.isPinned?r.setDataValue(gr.Event_Section,"value","request"):r.setDataValue(gr.Event_Section,"value","notification"),this.setViewTypeAnalytics(r,e);var a=Jf.getAuthorForNotificationTypeSubtype(e.type,e.subType);if(a&&""!==a&&r.setDataValue(gr.Content_Section,"author",a),Nr.getInstance().onAnalyticsEvent)try{Nr.getInstance().onAnalyticsEvent(r.eventsObject)}catch(e){u.warn("UNCWidget: WebAnalyticsHandler: sendAnalyticsForReceiptOfNotification : Error in execution onAnalyticsEvent",e)}r.addToCollection(),r.sendToIngest(),Jf.sendEventToReminder(r)}}},{key:"sendAnalyticsForViewOfNotification",value:function(e){var t;if(Nr.getInstance().analyticsEnabled){u.debug("UNCWidget: WebAnalyticsHandler: sendAnalyticsForViewOfNotification :  notification object is ",e),e.viewEventSent=!0;var n,i,r=new(We())(this.getDefaultObjectForUNCForAnalytics());r.initializeDefaultData();var o={};if(r.setDataValue(gr.Event_Section,"type","render"),r.setDataValue(gr.Event_Section,"subcategory","Message"),this.setFilterRelatedAnalytics(r,e),this.setConstantFieldsWithValues(r),e.id&&""!==e.id&&r.setDataValue(gr.Content_Section,"id",e.id),e.type&&""!==e.type&&e.subType&&""!==e.subType&&r.setDataValue(gr.Content_Section,"type","".concat(e.type,":").concat(e.subType)),r.setDataValue(gr.Content_Section,"status",e.state?e.state.toLowerCase():"read"),r.setDataValue(gr.Event_Section,"subtype","notification"),e.trackingSystemPayload&&""!==e.trackingSystemPayload){r.setDataValue("custom","ans.client_payload",e.trackingSystemPayload),o=e.trackingSystemPayload;try{o=JSON.parse(o),Object.prototype.hasOwnProperty.call(o,He.CAMPAIGN_ID)&&(n=o.CAMPAIGN_ID),Object.prototype.hasOwnProperty.call(o,He.VARIATION_ID)&&(i=o.VARIATION_ID)}catch(e){u.warn("UNCWidget: WebAnalyticsHandler: sendAnalyticsForViewOfNotification : notifObj.trackingSystemPayload parsing failed with error : ",e)}}e.contentSourceId&&""!==e.contentSourceId&&r.setDataValue("custom","content_source_id",e.contentSourceId),n&&r.setDataValue("exp","campaign_id",n),i&&r.setDataValue("exp","variation_id",i),e.isPinned&&!0===e.isPinned?r.setDataValue(gr.Event_Section,"value","request"):r.setDataValue(gr.Event_Section,"value","notification"),r.setDataValue(gr.Content_Section,"name",Ve(null===(t=e.payload.timeline)||void 0===t?void 0:t.content)),this.setViewTypeAnalytics(r,e);var a=Jf.getAuthorForNotificationTypeSubtype(e.type,e.subType);if(a&&""!==a&&r.setDataValue(gr.Content_Section,"author",a),Nr.getInstance().onAnalyticsEvent)try{Nr.getInstance().onAnalyticsEvent(r.eventsObject)}catch(e){u.warn("UNCWidget: WebAnalyticsHandler: sendAnalyticsForViewOfNotification : Error in execution onAnalyticsEvent",e)}r.addToCollection(),r.sendToIngest(),Jf.sendEventToReminder(r)}}},{key:"sendAnalyticsForShowMoreRequestsClicked",value:function(){if(Nr.getInstance().analyticsEnabled){var e=new(We())(this.getDefaultObjectForUNCForAnalytics());if(e.initializeDefaultData(),e.setDataValue(gr.Event_Section,"type","click"),e.setDataValue(gr.Event_Section,"subcategory","Widget"),e.setDataValue(gr.Event_Section,"subtype","view-more"),this.setConstantFieldsWithValues(e),Nr.getInstance().onAnalyticsEvent)try{Nr.getInstance().onAnalyticsEvent(e.eventsObject)}catch(e){u.warn("UNCWidget: WebAnalyticsHandler: sendAnalyticsForShowMoreRequestsClicked : Error in execution onAnalyticsEvent",e)}e.addToCollection(),e.sendToIngest(),Jf.sendEventToReminder(e)}}},{key:"sendAnalyticsForUNCInit",value:function(){if(Nr.getInstance().analyticsEnabled){var e=new(We())(this.getDefaultObjectForUNCForAnalytics());if(e.initializeDefaultData(),e.setDataValue(gr.Event_Section,"type","init"),e.setDataValue(gr.Event_Section,"subtype","component"),e.setDataValue(gr.Event_Section,"subcategory","Widget"),Nr.getInstance().customNotificationIcon&&e.setDataValue(gr.Event_Section,"value","icon-override"),Nr.getInstance().optimizations&&Nr.getInstance().optimizations.length>0){var t=Nr.getInstance().optimizations.map((function(e){return e})).join(" | ");e.setDataValue(gr.Event_Section,"event.value",t),Nr.getInstance().optimizations.includes("disableAnalytics")&&(Nr.getInstance().analyticsEnabled=!1)}if(this.setConstantFieldsWithValues(e),Nr.getInstance().onAnalyticsEvent)try{Nr.getInstance().onAnalyticsEvent(e.eventsObject)}catch(e){u.warn("UNCWidget: WebAnalyticsHandler: sendAnalyticsForUNCInit : Error in execution onAnalyticsEvent",e)}e.addToCollection(),e.sendToIngest(),Jf.sendEventToReminder(e)}}},{key:"sendAnalyticsForNotificationWidgetVisit",value:function(){if(Nr.getInstance().analyticsEnabled){var e=new(We())(this.getDefaultObjectForUNCForAnalytics());if(e.initializeDefaultData(),e.setDataValue(gr.Event_Section,"type","click"),e.setDataValue(gr.Event_Section,"subcategory","Widget"),e.setDataValue(gr.Event_Section,"subtype","icon"),this.setConstantFieldsWithValues(e),Nr.getInstance().badgeCount>0?(e.setDataValue(gr.Event_Section,"value","true"),e.setDataValue(gr.Event_Section,"count",Nr.getInstance().badgeCount)):e.setDataValue(gr.Event_Section,"value","false"),Nr.getInstance().onAnalyticsEvent)try{Nr.getInstance().onAnalyticsEvent(e.eventsObject)}catch(e){u.warn("UNCWidget: WebAnalyticsHandler: sendAnalyticsForNotificationWidgetVisit : Error in execution onAnalyticsEvent",e)}e.addToCollection(),e.sendToIngest(),Jf.sendEventToReminder(e)}}},{key:"sendAnalyticsForWidgetRendered",value:function(){if(Nr.getInstance().analyticsEnabled){var e=new(We())(this.getDefaultObjectForUNCForAnalytics());if(e.initializeDefaultData(),e.setDataValue(gr.Event_Section,"type","render"),e.setDataValue(gr.Event_Section,"subtype","component"),e.setDataValue(gr.Event_Section,"subcategory","Widget"),this.setConstantFieldsWithValues(e),Nr.getInstance().onAnalyticsEvent)try{Nr.getInstance().onAnalyticsEvent(e.eventsObject)}catch(e){u.warn("UNCWidget: WebAnalyticsHandler: sendAnalyticsForWidgetRendered : Error in execution onAnalyticsEvent",e)}e.addToCollection(),e.sendToIngest(),Jf.sendEventToReminder(e)}}},{key:"sendAnalyticsForWidgetClosed",value:function(){if(Nr.getInstance().analyticsEnabled){var e=new(We())(this.getDefaultObjectForUNCForAnalytics());if(e.initializeDefaultData(),e.setDataValue(gr.Event_Section,"type","close"),e.setDataValue(gr.Event_Section,"subtype","component"),e.setDataValue(gr.Event_Section,"subcategory","Widget"),this.setConstantFieldsWithValues(e),Nr.getInstance().onAnalyticsEvent)try{Nr.getInstance().onAnalyticsEvent(e.eventsObject)}catch(e){u.warn("UNCWidget: WebAnalyticsHandler: sendAnalyticsForWidgetClosed : Error in execution onAnalyticsEvent",e)}e.addToCollection(),e.sendToIngest(),Jf.sendEventToReminder(e)}}},{key:"sendAnalyticsForUserTriggeredScroll",value:function(){if(Nr.getInstance().analyticsEnabled){var e=new(We())(this.getDefaultObjectForUNCForAnalytics());e.initializeDefaultData(),e.setDataValue(gr.Event_Section,"type","click"),e.setDataValue(gr.Event_Section,"subcategory","Widget"),e.setDataValue(gr.Event_Section,"subtype","scroll"),this.setFilterRelatedAnalytics(e),this.setConstantFieldsWithValues(e),e.addToCollection(),e.sendToIngest(),Jf.sendEventToReminder(e)}}},{key:"sendAnalyticsForFilterClick",value:function(e){if(Nr.getInstance().analyticsEnabled){var t=new(We())(this.getDefaultObjectForUNCForAnalytics());if(t.initializeDefaultData(),t.setDataValue(gr.Event_Section,"type","click"),t.setDataValue(gr.Event_Section,"subcategory","Widget"),t.setDataValue(gr.Event_Section,"subtype","filter"),t.setDataValue(gr.UI_Section,"filter",e.value),this.setConstantFieldsWithValues(t),Nr.getInstance().onAnalyticsEvent)try{Nr.getInstance().onAnalyticsEvent(t.eventsObject)}catch(e){u.warn("UNCWidget: WebAnalyticsHandler: sendAnalyticsForFilterClick : Error in execution onAnalyticsEvent",e)}t.addToCollection(),t.sendToIngest(),Jf.sendEventToReminder(t)}}},{key:"sendAnalyticsForButtonClick",value:function(e){if(Nr.getInstance().analyticsEnabled){var t=new(We())(this.getDefaultObjectForUNCForAnalytics());if(t.initializeDefaultData(),t.setDataValue(gr.Event_Section,"type","click"),t.setDataValue(gr.Event_Section,"subcategory","Widget"),t.setDataValue(gr.Event_Section,"subtype",e),this.setFilterRelatedAnalytics(t),this.setConstantFieldsWithValues(t),Nr.getInstance().onAnalyticsEvent)try{Nr.getInstance().onAnalyticsEvent(t.eventsObject)}catch(e){u.warn("UNCWidget: WebAnalyticsHandler: sendAnalyticsForButtonClick : Error in execution onAnalyticsEvent",e)}t.addToCollection(),t.sendToIngest(),Jf.sendEventToReminder(t)}}},{key:"sendAnalyticsForNotificationAction",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0;if(Nr.getInstance().analyticsEnabled){u.debug("UNCWidget: WebAnalyticsHandler: sendAnalyticsForNotificationAction :  notification object is ",e);var o,a,s=new(We())(this.getDefaultObjectForUNCForAnalytics());s.initializeDefaultData();var c={};if(s.setDataValue(gr.Event_Section,"type","click"),s.setDataValue(gr.Event_Section,"subtype",t),s.setDataValue(gr.Event_Section,"subcategory","Message"),this.setFilterRelatedAnalytics(s,e),this.setConstantFieldsWithValues(s),e.id&&""!==e.id&&s.setDataValue(gr.Content_Section,"id",e.id),e.type&&""!==e.type&&e.subType&&""!==e.subType&&s.setDataValue(gr.Content_Section,"type","".concat(e.type,":").concat(e.subType)),s.setDataValue(gr.Content_Section,"name",Ve(null===(n=e.payload.timeline)||void 0===n?void 0:n.content)),s.setDataValue(gr.Content_Section,"status",e.state?e.state.toLowerCase():"read"),e.trackingSystemPayload&&""!==e.trackingSystemPayload){s.setDataValue("custom","ans.client_payload",e.trackingSystemPayload),c=e.trackingSystemPayload;try{c=JSON.parse(c),Object.prototype.hasOwnProperty.call(c,He.CAMPAIGN_ID)&&(o=c.CAMPAIGN_ID),Object.prototype.hasOwnProperty.call(c,He.VARIATION_ID)&&(a=c.VARIATION_ID)}catch(e){u.warn("UNCWidget: WebAnalyticsHandler: sendAnalyticsForNotificationAction : notifObj.trackingSystemPayload parsing failed with error : ",e)}}if(e.contentSourceId&&""!==e.contentSourceId&&s.setDataValue("custom","content_source_id",e.contentSourceId),o&&s.setDataValue("exp","campaign_id",o),a&&s.setDataValue("exp","variation_id",a),e.isPinned&&!0===e.isPinned?s.setDataValue(gr.Event_Section,"value","request"):s.setDataValue(gr.Event_Section,"value","notification"),this.setViewTypeAnalytics(s,e),""!==i&&s.setDataValue(gr.Content_Section,"action",i),r)if(s.setDataValue(gr.Event_Section,"clicktype",t),Array.isArray(r)){var l=[];r.forEach((function(e){l.push(e.workflow)})),s.setDataValue(gr.Event_Section,"value",l.join("|")),s.setDataValue(gr.Event_Section,"action",l.join("|"))}else s.setDataValue(gr.Event_Section,"value",r.workflow),s.setDataValue(gr.Event_Section,"action",r.workflow);var f=Jf.getAuthorForNotificationTypeSubtype(e.type,e.subType);if(f&&""!==f&&s.setDataValue(gr.Content_Section,"author",f),Nr.getInstance().onAnalyticsEvent)try{Nr.getInstance().onAnalyticsEvent(s.eventsObject)}catch(e){u.warn("UNCWidget: WebAnalyticsHandler: sendAnalyticsForNotificationAction : Error in execution onAnalyticsEvent",e)}s.addToCollection(),s.sendToIngest(),Jf.sendEventToReminder(s)}}},{key:"setConstantFieldsWithValues",value:function(e){e.setDataValue(gr.Event_Section,"workflow","UNC"),If.getInstance().context.deviceType&&If.getInstance().context.deviceType===gr.DeviceType.MOBILE?(e.setDataValue(gr.Event_Section,"category",gr.SURFACE_MOBILE),e.setDataValue(gr.Source_Section,"platform",gr.SURFACE_MOBILE)):If.getInstance().context.surface&&""!==If.getInstance().context.surface?(e.setDataValue(gr.Event_Section,"category",If.getInstance().context.surface.toUpperCase()),e.setDataValue(gr.Source_Section,"platform",If.getInstance().context.surface.toUpperCase())):(e.setDataValue(gr.Event_Section,"category",gr.SURFACE_WEB),e.setDataValue(gr.Source_Section,"platform",gr.SURFACE_WEB)),e.setDataValue(gr.Event_Section,"category","Desktop"),e.setDataValue(gr.Source_Section,"platform","UXP"),e.setDataValue(gr.Source_Section,"name","UNC"),e.setDataValue(gr.Source_Section,"version",Ge()),Nr.getInstance().imsClientID&&""!==Nr.getInstance().imsClientID&&e.setDataValue(gr.Source_Section,"client_id",Nr.getInstance().imsClientID),Nr.getInstance().appID&&""!==Nr.getInstance().appID&&e.setDataValue(gr.Source_Section,"app_id",Nr.getInstance().appID),Nr.getInstance().userGuid&&e.setDataValue(gr.Event_Section,"user_guid",Nr.getInstance().userGuid),Nr.getInstance().ownerOrg&&e.setDataValue(gr.Event_Section,"org_guid",Nr.getInstance().ownerOrg);var t=Nr&&Nr.getInstance()?Nr.getInstance().getDeviceLocale():null;if(e.setDataValue(gr.Event_Section,"locale",t),If.getInstance().context.analyticsConfig&&If.getInstance().context.analyticsConfig.componentDetails&&"object"===wf(If.getInstance().context.analyticsConfig.componentDetails))for(var n=Object.keys(If.getInstance().context.analyticsConfig.componentDetails),i=0;i<n.length;i+=1){var r=n[i];-1!==gr.Component_Supported_Keys.indexOf(r)&&("name"===r?e.setDataValue(gr.Environment_Section,"com.name",If.getInstance().context.analyticsConfig.componentDetails[r]):"version"===r&&e.setDataValue(gr.Environment_Section,"com.version",If.getInstance().context.analyticsConfig.componentDetails[r]))}if(If.getInstance().context.analyticsConfig&&If.getInstance().context.analyticsConfig.eventDetails&&"object"===wf(If.getInstance().context.analyticsConfig.eventDetails))for(var o=Object.keys(If.getInstance().context.analyticsConfig.eventDetails),a=0;a<o.length;a+=1){var s=o[a];-1!==gr.Event_Supported_Keys.indexOf(s)&&e.setDataValue(gr.Event_Section,s,If.getInstance().context.analyticsConfig.eventDetails[s])}if(If.getInstance().context.analyticsConfig&&If.getInstance().context.analyticsConfig.consumerDetails&&"object"===wf(If.getInstance().context.analyticsConfig.consumerDetails)){for(var c=Object.keys(If.getInstance().context.analyticsConfig.consumerDetails),l=0;l<c.length;l+=1){var u=c[l];-1!==gr.Consumer_Supported_Keys.indexOf(u)&&e.setDataValue(gr.Consumer_Section,u,If.getInstance().context.analyticsConfig.consumerDetails[u])}var f=e.getDevice();f&&""!==f&&e.setDataValue(gr.Consumer_Section,"device",f);var d=e.getOSVersion();d&&""!==d&&e.setDataValue(gr.Consumer_Section,"os_version",d)}}},{key:"setFilterRelatedAnalytics",value:function(e,t){if(Nr.getInstance().filterDetails&&e.setDataValue(gr.UI_Section,"filter",Zr.getInstance().getSelectedFilter().value),t){var n=Jf.getPipeSeparatedFilters(t);Jf.isValidString(n)&&e.setDataValue(gr.Custom_Section,"notificationFilterCategory",n)}}},{key:"setViewTypeAnalytics",value:function(e,t){t.isAnnouncementNotification&&!0===t.isAnnouncementNotification?e.setDataValue(gr.UI_Section,"view_type","announcement_notification"):t.isPinned&&!0===t.isPinned?e.setDataValue(gr.UI_Section,"view_type","pinned_notification"):e.setDataValue(gr.UI_Section,"view_type","notification")}}],i=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"deleteInstance",value:function(){e.instance=null}}],n&&Af(t.prototype,n),i&&Af(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Pf(e){return Pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(e)}function Rf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rf(Object(n),!0).forEach((function(t){Ff(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ff(e,t,n){return(t=Uf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Uf(i.key),i)}}function Uf(e){var t=function(e,t){if("object"!=Pf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Pf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pf(t)?t:String(t)}var Mf=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"handleClickAction",value:function(e,t,n){var i=this,r=e.notification,o=e.notification.payload.timeline.dismissOnClick;switch(u.debug("UNCWidget: RenderingUtility: handleClickAction - invoked with:",t,n),n.event&&(n.event.preventDefault(),n.event.stopPropagation(),n.event.nativeEvent&&"function"==typeof n.event.nativeEvent.stopImmediatePropagation&&n.event.nativeEvent.stopImmediatePropagation()),t){case gr.OPEN_IN_NEW_TAB:if(n.target&&""!==n.target){if(Ur()){var a=n.target;if("#"===a)break;var s=n.ssoEnabled&&"true"===n.ssoEnabled.toString()||n.event.currentTarget.attributes.ssoEnabled&&"true"===n.event.currentTarget.attributes.ssoEnabled.value,c={clientId:n.ssoTargetClientID&&""!==n.ssoTargetClientID?n.ssoTargetClientID:n.event.currentTarget.attributes.ssotargetclientid&&n.event.currentTarget.attributes.ssotargetclientid.value||"",scope:n.ssoTargetScope&&""!==n.ssoTargetScope?n.ssoTargetScope:n.event.currentTarget.attributes.ssotargetscope&&n.event.currentTarget.attributes.ssotargetscope.value||""};try{u.debug("UNCWidget: RenderingUtility: openURL:","url: ".concat(a,","),"needSSO: ".concat(s,","));var l=new URL(a);s?Jf.getJumpURL(l.href,c).then((function(e){e&&""!==e?(window.require("uxp").shell.openExternal(e),u.debug("UNCWidget: RenderingUtility: openURL: success:","url: ".concat(a,","))):(window.require("uxp").shell.openExternal(l.href),u.error("UNCWidget: RenderingUtility: openURL: error: invalid jumpURL, opening URL without SSO:","url: ".concat(a,",")))})).catch((function(e){window.require("uxp").shell.openExternal(l.href),u.error("UNCWidget: RenderingUtility: openURL: error in fetching jump URL:","url: ".concat(a,","),"error: ".concat(e))})):window.require("uxp").shell.openExternal(l.href)}catch(e){u.error("UNCWidget: RenderingUtility: openURL: exception:","url: ".concat(a,","),"error: ".concat(e))}}else if(Nr.getInstance().surface&&Nr.getInstance().surface.toUpperCase()===gr.SURFACE_DESKTOP)if(n.ccdRoutePath&&pa.CCDAssetNotificationHandlingForDesktop)pa.handleAssetsFileNotification(n,r);else{var f={},d={};if(d.url=n.target,"#"===d.url)break;n.ssoEnabled&&"true"===n.ssoEnabled.toString()||n.event.currentTarget.attributes["ssoEnabled".toLowerCase()]&&"true"===n.event.currentTarget.attributes["ssoEnabled".toLowerCase()].value?(d.needSSO="true",n.ssoTargetClientID&&""!==n.ssoTargetClientID||n.event.currentTarget&&n.event.currentTarget.attributes["ssoTargetClientID".toLowerCase()]&&""!==n.event.currentTarget.attributes["ssoTargetClientID".toLowerCase()].value?n.ssoTargetClientID&&""!==n.ssoTargetClientID?d.clientId=n.ssoTargetClientID:d.clientId=n.event.currentTarget.attributes["ssoTargetClientID".toLowerCase()].value:d.clientId=vr.DEFAULT_TARGET_CLIENT_ID,n.ssoTargetScope&&""!==n.ssoTargetScope||n.event.currentTarget&&n.event.currentTarget.attributes["ssoTargetScope".toLowerCase()]&&""!==n.event.currentTarget.attributes["ssoTargetScope".toLowerCase()].value?n.ssoTargetScope&&""!==n.ssoTargetScope?d.scope=n.ssoTargetScope:d.scope=n.event.currentTarget.attributes["ssoTargetScope".toLowerCase()].value:d.scope=vr.DEFAULT_TARGET_SCOPE):d.needSSO="false",f.message=d,ra.getInstance().sendMessage(gr.OPEN_URL_REQUEST,f,"Applet",gr.CONTAINER_BL_ID)}else n.openInSameTab?window.open(n.target,"_self"):window.open(n.target,"_blank");try{co.getInstance().sendAnalyticsForNotificationAction(r,n.clickType,n.target)}catch(e){u.warn("UNCWidget: RenderingUtility: handleClickAction - Error while sending event for link click opening ex",e)}r.state!==vr.NOTIFICATION_STATE_PROGRESS&&r.handleNotificationClickAction()}else r.state!==vr.NOTIFICATION_STATE_PROGRESS&&r.handleNotificationClickAction();break;case gr.DEEPLINK_WORKFLOW_CLICKED:var p=n.deepLinkWorkflows,h=!1;if(u.debug("UNCWidget: RenderingUtility: handleClickAction: DEEPLINK_WORKFLOW_CLICKED: DeepLinkWorkflows:",p),"UXP"===Nr.getInstance().hostPlatform)return Nr.getInstance().isADSRunning?(this.handleDeeplinkWorkflowsForDesktopApps(r,p,n),h=!0):h=!1,h;switch(Nr.getInstance().surface.toUpperCase()){case gr.SURFACE_DESKTOP:var g={};g.message=gr.HANDLE_DEEPLINK_REQUEST;var m={};Array.isArray(p)?p.forEach((function(e){e.endpoint="unc-widget"})):p.endpoint="unc-widget",m.deepLinkWorkflows=p,g.data=m,n.clickType="deeplink",u.debug("UNCWidget: RenderingUtility: handleClickAction: DEEPLINK_WORKFLOW_CLICKED: callBackDataObj: ",g);try{Nr.getInstance().hostCallBackFn&&"function"==typeof Nr.getInstance().hostCallBackFn?(Nr.getInstance().hostCallBackFn(g),h=!0):u.warn("UNCWidget: RenderingUtility: handleClickAction: DEEPLINK_WORKFLOW_CLICKED - callback function is not defined .")}catch(e){h=!1,u.warn("UNCWidget: RenderingUtility: handleClickAction: DEEPLINK_WORKFLOW_CLICKED - Exception while invoking hostCallBack for route handling action",e)}try{io.getInstance().sendAnalyticsForNotificationAction(r,n.clickType,n.target,p)}catch(e){u.warn("UNCWidget: RenderingUtility: handleClickAction: DEEPLINK_WORKFLOW_CLICKED - Error while sending event for deeplink handling")}break;case gr.SURFACE_WEB:var v="";u.debug("UNCWidget: RenderingUtility: handleClickAction: DEEPLINK_WORKFLOW_CLICKED - deeplink from web surface");try{Jf.isDeviceTypeMobile()||Nr.getInstance().isCCDPresent&&(window.CCWamclient.areClientsConnected()?Array.isArray(p)?p.forEach((function(e){i.executeDeeplinkWorkflowViaWAM(e)})):this.executeDeeplinkWorkflowViaWAM(p):Array.isArray(p)?p.forEach((function(e){window.CCWamclient.executeWorkflowViaCCDURI(Nr.getInstance().env,e)})):window.CCWamclient.executeWorkflowViaCCDURI(Nr.getInstance().env,p),n.clickType="deeplink",v=p,h=!0)}catch(e){h=!1,u.error("UNCWidget: RenderingUtility: handleClickAction: DEEPLINK_WORKFLOW_CLICKED - Error while executing deeplink on web via WAM: ",e)}try{Df.getInstance().sendAnalyticsForNotificationAction(r,n.clickType,n.target,v)}catch(e){u.warn("UNCWidget: RenderingUtility: handleClickAction: DEEPLINK_WORKFLOW_CLICKED - Error while sending event for deeplink handling")}}return r.state!==vr.NOTIFICATION_STATE_PROGRESS&&r.handleNotificationClickAction(),this.handleDismissOnClick(r,o),h;case gr.PRIMARY_CLICKED:case gr.SECONDARY_CLICKED:r.takeActionOnPrimarySecondaryClick(t);break;case gr.DISMISS_CLICKED:r.handleDismissClickForNotification(!0);break;case gr.UNPIN_CLICKED:r.handlePinClickForNotification();break;case gr.MARK_AS_UNREAD_CLICKED:r.markNotificationAsUnread();break;case gr.MARK_AS_READ_CLICKED:r.handleNotificationClickAction(!0);break;case gr.HANDLE_NOTIFICATION_CLICK:default:if("body"===n.clickType)try{co.getInstance().sendAnalyticsForNotificationAction(r,n.clickType)}catch(e){u.warn("UNCWidget: RenderingUtility: handleClickAction - Error while sending event for link click opening")}r.state!==vr.NOTIFICATION_STATE_PROGRESS&&r.handleNotificationClickAction()}}},{key:"getAttributeValues",value:function(e){var t={};return["clickAction","panelName","sapCode","version","passToHostClient","href"].forEach((function(n){var i=e.currentTarget.attributes.getNamedItem(n);i&&(t[n]=i)})),t}},{key:"handleURLClick",value:function(e,t){t.preventDefault(),t.stopPropagation(),t.nativeEvent&&"function"==typeof t.nativeEvent.stopImmediatePropagation&&t.nativeEvent.stopImmediatePropagation();var n=t.currentTarget.attributes;Ur()&&(n=this.getAttributeValues(t));var i=e.notification;if(n.clickAction&&"panelSwitch"===n.clickAction.value){i.state!==vr.NOTIFICATION_STATE_PROGRESS&&i.handleNotificationClickAction();var r={};r.message=n.clickAction.value;var o={};if(!n.panelName||!n.panelName.value)return void u.warn("UNCWidget: RenderingUtility: handleURLClick - for clickAction as PanelSwitch, PanelName is not defined therefore returning");o.panelName=n.panelName.value,o.id=i.id,o.type=i.type,o.subType=i.subType,r.data=o;try{Nr.getInstance().hostCallBackFn&&"function"==typeof Nr.getInstance().hostCallBackFn&&Nr.getInstance().hostCallBackFn(r)}catch(e){u.warn("UNCWidget: RenderingUtility: handleURLClick - Exception while invoking hostCallBack for panelSwitch action",e)}}else if(n.clickAction&&"appInstall"===n.clickAction.value){i.state!==vr.NOTIFICATION_STATE_PROGRESS&&i.handleNotificationClickAction();var a={};a.message=n.clickAction.value;var s={};if(!n.sapCode||!n.sapCode.value)return void u.warn("UNCWidget: RenderingUtility: handleURLClick - for appInstall action sapCode is must");s.sapCode=n.sapCode.value,n.version&&n.version.value&&(s.version=n.version.value),s.id=i.id,s.type=i.type,s.subType=i.subType,a.data=s;try{Nr.getInstance().hostCallBackFn&&"function"==typeof Nr.getInstance().hostCallBackFn&&Nr.getInstance().hostCallBackFn(a)}catch(e){u.warn("UNCWidget: RenderingUtility: handleURLClick - Exception while invoking hostCallBack for appInstall action",e)}}else if(n.clickAction&&"appLaunch"===n.clickAction.value);else if(n.passToHostClient&&"true"===n.passToHostClient.value){if(i.state!==vr.NOTIFICATION_STATE_PROGRESS&&i.handleNotificationClickAction(),Nr.getInstance().hostCallBackFn&&"function"==typeof Nr.getInstance().hostCallBackFn){var c={message:"UserActedOnNotification"},l={};l.id=i.id,l.type=i.type,l.subType=i.subType,n.href&&n.href.value&&(l.url=n.href.value);for(var f=0;f<t.currentTarget.attributes.length;f+=1){var d=t.currentTarget.attributes[f].name;"href"!==d&&"passtohostclient"!==d.toLowerCase()&&(l[t.currentTarget.attributes[f].name]=t.currentTarget.attributes[f].value)}c.data=l,Nr.getInstance().hostCallBackFn(c)}else if(n.href&&n.href.value&&"#"!==n.href.value){var p={event:t,target:n.href.value,clickType:"link"};t.currentTarget.attributes["openInSameTab".toLowerCase()]&&"true"===t.currentTarget.attributes["openInSameTab".toLowerCase()].value&&(p.openInSameTab=!0),this.handleClickAction(e,gr.OPEN_IN_NEW_TAB,p)}}else if(n.href&&n.href.value&&"#"!==n.href.value){var h={event:t,target:n.href.value,clickType:"link"};t.currentTarget.attributes["openInSameTab".toLowerCase()]&&"true"===t.currentTarget.attributes["openInSameTab".toLowerCase()].value&&(h.openInSameTab=!0),this.handleClickAction(e,gr.OPEN_IN_NEW_TAB,h)}}},{key:"passClickActionToHostClient",value:function(e,t){t.preventDefault(),t.stopPropagation(),t.nativeEvent&&"function"==typeof t.nativeEvent.stopImmediatePropagation&&t.nativeEvent.stopImmediatePropagation();var n=e.payload.timeline.commentSection;if(n.passToHostClient&&"true"===n.passToHostClient.toString().toLowerCase()&&Nr.getInstance().hostCallBackFn&&"function"==typeof Nr.getInstance().hostCallBackFn){var i={message:"UserActedOnNotification"},r={};r.id=e.id,r.type=e.type,r.subType=e.subType,(n.ctaURL||n.commentURL)&&(n.ctaURL?r.url=n.ctaURL:r.url=n.commentURL),n.detailsNeededByHostClient&&(r=xf(xf({},r),n.detailsNeededByHostClient)),i.data=r,Nr.getInstance().hostCallBackFn(i)}e.state!==vr.NOTIFICATION_STATE_PROGRESS&&e.handleNotificationClickAction()}},{key:"onBlurEventHandlerForTabIndex",value:function(e){e&&(e.style["outline-style"]="none")}},{key:"onMouseDownEventHandlerForTabIndex",value:function(e){e&&(e.style["outline-style"]="none")}},{key:"checkIfClassToBeApplied",value:function(e,t){var n=e.notification,i=e.section,r=e.selectedFilter,o=n.payload.timeline.viewtype,a=!1;switch(t){case gr.Class_Contrast:Jf.isNotificationStateValidForNew(n.state)&&(a=!0);break;case gr.Class_PinnedContrast:i===gr.Pinned_Notifications_Section&&!0===n.isPinned&&(a=!0);break;case gr.Class_AnnouncementContrast:i===gr.Announcement_Notifications_Section&&Pr.isAnnouncementNotification(n)&&(a=!0);break;case gr.Class_Hidden:(i===gr.Normal_Notifications_Section&&!0===n.isPinned||i===gr.Pinned_Notifications_Section&&!1===n.isPinned||i===gr.Pinned_Notifications_Section&&!1===n.isExpandedPinned&&r.value===gr.EVERYTHING||n.state===vr.NOTIFICATION_STATE_DISMISSED||!0===n.isNotificationDismissed)&&(a=!0);break;case"hyperlink":(n.payload.timeline.defaultAction||Jf.isNotificationStateValidForNew(n.state)||0===gr.SUPPORTED_VIEW_TYPES.indexOf(o))&&(a=!0)}return a}},{key:"handleDefaultAction",value:function(e,t){u.debug("UNCWidget: RenderingUtility: handleDefaultAction"),t.preventDefault(),t.stopPropagation();var n=e.notification,i=e.notification.payload.timeline,r=i.defaultAction,o=i.dismissOnClick;if(r&&r.passToHostClient&&"true"===r.passToHostClient.toString().toLowerCase()&&Nr.getInstance().hostCallBackFn&&"function"==typeof Nr.getInstance().hostCallBackFn){var a={message:"UserActedOnNotification"},s={};s.id=n.id,s.type=n.type,s.subType=n.subType,r.url&&(s.url=r.url),r.detailsNeededByHostClient&&(s=xf(xf({},s),r.detailsNeededByHostClient)),a.data=s,Nr.getInstance().hostCallBackFn(a),n.handleNotificationClickActionAnalytics(),n.state!==vr.NOTIFICATION_STATE_PROGRESS&&n.handleNotificationClickAction()}else if(r.url||r.deepLinkWorkflows){var c,l=r.deepLinkWorkflows;if(u.debug("UNCWidget: RenderingUtility: handleDefaultAction: deeplinkworkflows: ",l),l&&this.handleClickAction(e,gr.DEEPLINK_WORKFLOW_CLICKED,{deepLinkWorkflows:l,event:t}))return void u.debug("UNCWidget: RenderingUtility: handleDefaultAction:  sucessfully handeled deeplink");if(r.ccdRoutePath){if(r.fallbackURL){var f=encodeURIComponent(r.fallbackURL);if(r.ccdRoutePath=r.ccdRoutePath.concat("&fallbackURL=").concat(f),r.needSSO&&"true"===r.needSSO&&(r.ccdRoutePath=r.ccdRoutePath.concat("&needSSO=").concat(r.needSSO)),r.targetClientID&&r.targetScope){var d=encodeURIComponent(r.targetClientID),p=encodeURIComponent(r.targetScope);r.ccdRoutePath=r.ccdRoutePath.concat("&targetClientID=").concat(d).concat("&targetScope=").concat(p)}}c=r.ccdRoutePath}var h={event:t,target:r.url,ccdRoutePath:c,clickType:"link"};r.openInSameTab&&"true"===r.openInSameTab.toString().toLowerCase()&&(h.openInSameTab=!0);var g=r.SSODetails;g&&g.ssoEnabled&&"true"===g.ssoEnabled.toString()?(h.ssoEnabled="true",h.ssoTargetClientID=g.ssoTargetClientID,h.ssoTargetScope=g.ssoTargetScope):h.ssoEnabled="false",this.handleClickAction(e,gr.OPEN_IN_NEW_TAB,h)}else this.handleClickAction(e,gr.HANDLE_NOTIFICATION_CLICK,{clickType:"body",event:t});this.handleDismissOnClick(n,o)}},{key:"handleDismissOnClick",value:function(e,t){t&&e.handleDismissClickForNotification(!1,0)}},{key:"handleDeeplinkWorkflowsForDesktopApps",value:function(e,t,n){if(Array.isArray(t))t.forEach((function(e){var t={data:e};zn.dispatch({type:"accc.app.deepLink.request",data:JSON.stringify(t)})}));else{var i={data:t};zn.dispatch({type:"accc.app.deepLink.request",data:JSON.stringify(i)})}n.clickType="deeplink",e.state!==vr.NOTIFICATION_STATE_PROGRESS&&e.handleNotificationClickAction();try{co.getInstance().sendAnalyticsForNotificationAction(e,n.clickType,n.target,t)}catch(e){u.warn("UNCWidget: RenderingUtility: handleDeeplinkWorkflowsForDesktopApps: DEEPLINK_WORKFLOW_CLICKED - Error while sending event for deeplink handling for UXP")}}}],(n=[{key:"showActionList",value:function(e){var t,n=this;return t=Nr.getInstance().localizedStrings?JSON.parse(JSON.stringify(Nr.getInstance().localizedStrings)):JSON.parse(JSON.stringify(Nr.getInstance().displayData)),jr().createElement(Wr.MenuItem,{onClick:function(t){return n.handleClickAction(e,gr.DISMISS_CLICKED,{eventObject:t})}},t.LOC_DISMISS)}}])&&Lf(t.prototype,n),i&&Lf(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function jf(e){return jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(e)}function Wf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}}(e,t)||Gf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hf(){Hf=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new k(i||[]);return r(a,"_invoke",{value:T(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",h="executing",g="completed",m={};function v(){}function y(){}function b(){}var _={};l(_,a,(function(){return this}));var C=Object.getPrototypeOf,E=C&&C(C(D([])));E&&E!==n&&i.call(E,a)&&(_=E);var S=b.prototype=v.prototype=Object.create(_);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(r,o,a,s){var c=f(e[r],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==jf(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function T(t,n,i){var r=d;return function(o,a){if(r===h)throw new Error("Generator is already running");if(r===g){if("throw"===o)throw a;return{value:e,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var c=I(s,i);if(c){if(c===m)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var l=f(t,n,i);if("normal"===l.type){if(r=i.done?g:p,l.arg===m)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=g,i.method="throw",i.arg=l.arg)}}}function I(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var o=f(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(jf(t)+" is not iterable")}return y.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},N(O.prototype),l(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new O(u(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},N(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=D,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:D(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function qf(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function Vf(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){qf(o,i,r,a,s,"next",e)}function s(e){qf(o,i,r,a,s,"throw",e)}a(void 0)}))}}function Bf(e){return function(e){if(Array.isArray(e))return zf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Gf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gf(e,t){if(e){if("string"==typeof e)return zf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zf(e,t):void 0}}function zf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Kf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Yf(i.key),i)}}function Yf(e){var t=function(e,t){if("object"!=jf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=jf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jf(t)?t:String(t)}Mf.executeDeeplinkWorkflowViaWAM=function(e){window.CCWamclient.executeWorkflow(e).then((function(e){e.status&&u.debug("UNCWidget: RenderingUtility: handleClickAction: DEEPLINK_WORKFLOW_CLICKED: successfully handled deeplink")})).catch((function(t){t.status||(u.debug("UNCWidget: RenderingUtility: handleClickAction: DEEPLINK_WORKFLOW_CLICKED: ".concat(JSON.stringify(t.error))),window.CCWamclient.executeWorkflowViaCCDURI(Nr.getInstance().env,e))}))};var Xf,Jf=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i,r,o;return t=e,n=null,i=[{key:"init",value:function(t){e.container=t}},{key:"getTimeStringToShowOnUI",value:function(e){var t;t=Nr.getInstance().localizedStrings?JSON.parse(JSON.stringify(Nr.getInstance().localizedStrings)):JSON.parse(JSON.stringify(Nr.getInstance().displayData));var n,i=(new Date).getTime(),r=(i+=Nr.getInstance().getTimeStampDrift())-e;if((r=Math.floor(r/1e3))<60)n=t.LOC_JUST_NOW;else if(r<3600)if(r<120)n=t.LOC_ONE_MINUTE_AGO;else{var o=Math.floor(r/60);n=(n=t.LOC_MULTIPLE_MINUTES_AGO).replace("{0}",o)}else if(r<86400)if(r<7200)n=t.LOC_ONE_HOUR_AGO;else{var a=Math.floor(r/3600);n=(n=t.LOC_MULTIPLE_HOURS_AGO).replace("{0}",a)}else if(r<604800)if(r<172800)n=t.LOC_ONE_DAY_AGO;else{var s=Math.floor(r/86400);n=(n=t.LOC_MULTIPLE_DAYS_AGO).replace("{0}",s)}else if(r<2419200)if(r<1209600)n=t.LOC_ONE_WEEK_AGO;else{var c=Math.floor(r/604800);n=(n=t.LOC_MULTIPLE_WEEKS_AGO).replace("{0}",c)}else if(r<31536e3)if(r<5270400)n=t.LOC_ONE_MONTH_AGO;else{var l=Math.floor(r/2678400);1===l&&(l=2),n=(n=t.LOC_MULTIPLE_MONTHS_AGO).replace("{0}",l)}else if(r<63072e3)n=t.LOC_ONE_YEAR_AGO;else{var u=Math.floor(r/31536e3);n=(n=t.LOC_MULTIPLE_YEARS_AGO).replace("{0}",u)}return n}},{key:"getBasePathForResources",value:function(){return Nr.getInstance().env.toLowerCase()===gr.ENVIRONMENTS.PROD?He.PROD_BASE_PATH:Nr.getInstance().env.toLowerCase()===gr.ENVIRONMENTS.DEV?He.DEV_BASE_PATH:Nr.getInstance().env.toLowerCase()===gr.ENVIRONMENTS.LOCAL?"/":Nr.getInstance().env.toLowerCase()===gr.ENVIRONMENTS.QE?He.QE_BASE_PATH:He.STAGE_BASE_PATH}},{key:"getIconForTypeSubType",value:function(e,t){var n=this.getBasePathForResources();return e===vr.TYPE_BEHANCE?n+Nr.getInstance().imagePathMap["./2x/behance_icon@2x.png"]:t===vr.SUBTYPE_REDHAWK_COMMENT||t===vr.SUBTYPE_REDHAWK_COMMENT_ADD||t===vr.SUBTYPE_REDHAWK_COMMENT_DELETE||t===vr.SUBTYPE_REDHAWK_COMMENT_MODIFY||t===vr.SUBTYPE_REDHAWK_COMMENT_REPLY||t===vr.SUBTYPE_REDHAWK_COMMENT_RESOLVE?n+Nr.getInstance().imagePathMap["./2x/xd_icon@2x.png"]:n+Nr.getInstance().imagePathMap["./2x/creative_cloud_icon@2x.png"]}},{key:"getAvatarIconURLAndServiceIconInfo",value:function(e,t,n){var i={},r=this.getBasePathForResources();return e&&(e.avatarIconDetails&&Object.prototype.hasOwnProperty.call(e.avatarIconDetails,"avatarIcon")?(""!==e.avatarIconDetails.avatarIcon?i.avatarIcon=e.avatarIconDetails.avatarIcon:i.avatarIcon=r+Nr.getInstance().imagePathMap["./1x/unc_thumbnail_noavatar.svg"],i.avatarIconFallback=r+Nr.getInstance().imagePathMap["./1x/unc_thumbnail_noavatar.svg"],e.avatarIconDetails.avatarUrl?(i.avatarClickURL=e.avatarIconDetails.avatarUrl,i.SSODetails=e.avatarIconDetails.SSODetails):i.avatarClickURL="",e.serviceIconDetails&&Object.prototype.hasOwnProperty.call(e.serviceIconDetails,"serviceIcon")&&""!==e.serviceIconDetails.serviceIcon?i.serviceIcon=e.serviceIconDetails.serviceIcon:i.serviceIcon=this.getIconForTypeSubType(t,n),i.serviceIconFallback=this.getIconForTypeSubType(t,n),e.avatarIconDetails.openInSameTab&&"true"===e.avatarIconDetails.openInSameTab.toString().toLowerCase()&&(i.openInSameTab=!0)):(e.serviceIconDetails&&Object.prototype.hasOwnProperty.call(e.serviceIconDetails,"serviceIcon")&&""!==e.serviceIconDetails.serviceIcon?i.avatarIcon=e.serviceIconDetails.serviceIcon:i.avatarIcon=r+Nr.getInstance().imagePathMap["./2x/creative_cloud_thumbnail@2x.png"],i.avatarIconFallback=r+Nr.getInstance().imagePathMap["./2x/creative_cloud_thumbnail@2x.png"],e.serviceIconDetails&&e.serviceIconDetails.serviceUrl?(i.avatarClickURL=e.serviceIconDetails.serviceUrl,i.SSODetails=e.serviceIconDetails.SSODetails):i.avatarClickURL="",e.serviceIconDetails&&e.serviceIconDetails.openInSameTab&&"true"===e.serviceIconDetails.openInSameTab.toString().toLowerCase()&&(i.openInSameTab=!0)),e.commentSection&&e.commentSection.icons&&e.commentSection.icons.length>0&&(i.commentSectionIcons=e.commentSection.icons)),i}},{key:"getCriteriaForFetchingNotifications",value:function(e){for(var t={},n=this.getListOfTypeSubtypeForInvites(),i={OR:[]},r=0;r<n.length;r+=1){var o={AND:[]},a=n[r];o.AND.push({field:"type",value:a.type,operator:"EQ"}),o.AND.push({field:"sub-type",value:a.subtype,operator:"EQ"}),i.OR.push(o)}var s={field:"state",value:vr.NOTIFICATION_STATE_EXPIRED,operator:"NE"},c={AND:[]};if(c.AND.push(i),c.AND.push(s),e>0){var l={AND:[]};l.AND.push(c);var u={field:vr.TIMESTAMP_KEY,value:e,operator:"LT"};l.AND.push(u),t=l}else t=c;return t}},{key:"getListOfTypeSubtypeForInvites",value:function(){for(var e=Nr.getInstance().searchTypeSubtypes,t=[],n=0;n<e.length;n+=1){var i=e[n].split("__");t.push({type:i[0],subtype:i[1]})}return t}},{key:"getEmptyNotificationScreenIcon",value:function(){return!Ur()||"dark"!==Nr.getInstance().theme&&"darkest"!==Nr.getInstance().theme?this.getBasePathForResources()+Nr.getInstance().imagePathMap["./1x/unc_illustration_nullstate.svg"]:this.getBasePathForResources()+Nr.getInstance().imagePathMap["./1x/unc_empty_icon_psdark.svg"]}},{key:"getUnavIcon",value:function(){return this.getBasePathForResources()+Nr.getInstance().imagePathMap["./1x/S2_Icon_Bell_20_N.svg"]}},{key:"getNoFilteredNotificationsIcon",value:function(){return this.getBasePathForResources()+Nr.getInstance().imagePathMap["./1x/unc_illustration_notfound.svg"]}},{key:"getAuthorForNotificationTypeSubtype",value:function(e,t){return e===vr.TYPE_BEHANCE?"behance":e===vr.TYPE_FOLDER_COLLAB?"stormcloud":e===vr.TYPE_ANYWHERE_PRODUCTION?"anywhere":e===vr.TYPE_DESIGN_LIBRARY?"designlibrary":t===vr.SUBTYPE_REDHAWK_COMMENT||t===vr.SUBTYPE_REDHAWK_COMMENT_ADD||t===vr.SUBTYPE_REDHAWK_COMMENT_DELETE||t===vr.SUBTYPE_REDHAWK_COMMENT_MODIFY||t===vr.SUBTYPE_REDHAWK_COMMENT_REPLY||t===vr.SUBTYPE_REDHAWK_COMMENT_RESOLVE?"xd":"generic"}},{key:"checkIfThisTypeSubtypeIsSupported",value:function(e){var t=!0;return e===vr.TYPE_FOLDER_COLLAB&&!1===wr.getInstance().filesPanelEnabled?(u.info("UNCWidget: checkIfThisTypeSubtypeIsSupported: Files and folder collab notifications are not supported from FES"),t=!1):e===vr.TYPE_DESIGN_LIBRARY&&!1===wr.getInstance().designLibraryFeatureEnabled?(u.info("UNCWidget: checkIfThisTypeSubtypeIsSupported: Design Library notifications are not supported from FES"),t=!1):t=!0,t}},{key:"getAppropriateSubContent",value:function(e){if("string"===e.key)return e.value;if("date"===e.key){var t=0;if("string"==typeof e.value)t=parseInt(e.value,10);else{if("number"!=typeof e.value)return"";t=e.value}"seconds"===e.format&&(t*=1e3);var n="",i=new Date(t);switch(i.getMonth()){case 0:n="Jan ";break;case 1:n="Feb ";break;case 2:n="Mar ";break;case 3:n="Apr ";break;case 4:n="May ";break;case 5:n="Jun ";break;case 6:n="Jul ";break;case 7:n="Aug ";break;case 8:n="Sep ";break;case 9:n="Oct ";break;case 10:n="Nov ";break;case 11:n="Dec "}n+="".concat(i.getDate(),", ");var r=i.getHours(),o=i.getMinutes(),a=r>=12?"PM":"AM";return n+="".concat("0".concat(r=(r%=12)||12).slice(-2),":").concat("0".concat(o).slice(-2)," ").concat(a)}return e.value}},{key:"getAppropriateSubContentHeader",value:function(e){return"date"===e.key?"Due By:":""}},{key:"isNotificationStateValidForNew",value:function(e){return e===vr.NOTIFICATION_STATE_NEW||e===vr.NOTIFICATION_STATE_UNREAD}},{key:"isDeviceTypeMobile",value:function(){return Nr.getInstance().deviceType&&Nr.getInstance().deviceType===gr.DeviceType.MOBILE}},{key:"isDesktopSurface",value:function(){return Nr.getInstance().surface&&Nr.getInstance().surface.toUpperCase()===gr.SURFACE_DESKTOP}},{key:"isShowSkeleton",value:function(e,t){return e||t}},{key:"isTodaysNotification",value:function(e){return e>=(new Date).setHours(0,0,0,0)}},{key:"scrollToDiv",value:function(e,t,n,i){var r=e.scrollTop,o=t.offsetTop-e.offsetTop-r-n,a=i,s=null;requestAnimationFrame((function t(n){s||(s=n);var i,c=n-s,l=r+o*((i=c/a)<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1);e.scrollTop=l,c<a&&requestAnimationFrame(t)}))}},{key:"isValidString",value:function(e){return!(null==e||""===e)}},{key:"getPipeSeparatedFilters",value:function(e){var t="";if(e.payload.timeline&&e.payload.timeline.filterDetails){if(e.payload.timeline.overrideFilter)return t;try{e.payload.timeline.filterDetails.forEach((function(e){var n=[];n=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var i=t.length;return zf(t,void 0!==n&&n<i?n:i)}return e(t,n)}(Bf,e.categories),t+=n.join(" | "),t+=" | "})),t=t.slice(0,-3)}catch(n){t="",u.debug("UNCWidget: NotificationsProvider: malformed filterDetails array, this",e,"will not forward its filterDetails data :",n)}}return t}},{key:"isRTLLocale",value:function(){return gr.locales.rtlLocales.includes(Nr.getInstance().deviceLocale)}},{key:"shouldShowTimeString",value:function(e,t){return Pr.checkNotificationRenderedAsNonAnnouncement(e,t)&&!Lr.isEventNotification(e)}},{key:"getCurrentTimeFromAkamai",value:(o=Vf(Hf().mark((function e(){var t;return Hf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=fetch("https://time.akamai.com"),e.abrupt("return",t);case 5:return e.prev=5,e.t0=e.catch(0),u.debug("UNCWidget: getCurrentTimeFromAkamai: error while fetching current time: ",e.t0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,5]])}))),function(){return o.apply(this,arguments)})},{key:"isNotificationValidForSurface",value:function(e){try{if(Nr.getInstance().acceptNotificationsForSurface&&Array.isArray(Nr.getInstance().acceptNotificationsForSurface)&&Nr.getInstance().acceptNotificationsForSurface.length>0)return Nr.getInstance().acceptNotificationsForSurface.some((function(t){return e.timeline.filterDetails.some((function(e){return e.categories.some((function(e){return e.toLowerCase()===t.toLowerCase()}))}))}))}catch(e){return u.debug("UNCWidget: Utils: error while parsing filterDetails: ",e),!1}return!0}},{key:"getNewNotifications",value:function(e){var t,n=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Gf(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e.entries());try{for(i.s();!(t=i.n()).done;){var r=Wf(t.value,2)[1];r.state===vr.NOTIFICATION_STATE_NEW&&n.push(r)}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"isActionExecuted",value:function(e,t,n){if(e){var i=e.passToHostClient,r=e.deepLinkWorkflows,o=e.targetUrl,a=e.SSODetails,s=e.openInSameTab;if(i&&"true"===i.toString().toLowerCase()&&Nr.getInstance().hostCallBackFn&&"function"==typeof Nr.getInstance().hostCallBackFn)return Mf.passClickActionToHostClient(n.notification,t),!0;if(r&&Mf.handleClickAction(n,gr.DEEPLINK_WORKFLOW_CLICKED,{deepLinkWorkflows:r,event:t}))return!0;if(o){var c={event:t,target:o,clickType:"link"},l=a||{},u=l.ssoEnabled,f=l.ssoTargetClientID,d=l.ssoTargetScope;return u&&"true"===u.toString().toLowerCase()?(c.ssoEnabled="true",c.ssoTargetClientID=f,c.ssoTargetScope=d):c.ssoEnabled="false",s&&"true"===s.toString().toLowerCase()&&(c.openInSameTab=!0),Mf.handleClickAction(n,gr.OPEN_IN_NEW_TAB,c),!0}}return!1}},{key:"onPrimaryButtonClick",value:function(e,t){var n=t.notification;if(n&&n.payload){var i=n.payload.primaryButtonDetails;if(this.isActionExecuted(i,e,t))return}Mf.handleClickAction(t,gr.PRIMARY_CLICKED,{event:e})}},{key:"onSecondaryButtonClick",value:function(e,t){var n=t.notification;if(n&&n.payload){var i=n.payload.secondaryButtonDetails;if(this.isActionExecuted(i,e,t))return}Mf.handleClickAction(t,gr.SECONDARY_CLICKED,{event:e})}},{key:"checkButtonVisibility",value:function(e,t){if(e){if(Object.prototype.hasOwnProperty.call(e,"label")&&""===e.label.trim())return!1;if(["passToHostClient","deepLinkWorkflows","targetUrl"].some((function(t){return Object.prototype.hasOwnProperty.call(e,t)})))return!0}return!!t}},{key:"getButtonLabelAndVariant",value:function(e,t){var n=t.label,i=t.variant;return e&&(Object.prototype.hasOwnProperty.call(e,"label")&&(n=e.label.trim()),Object.prototype.hasOwnProperty.call(e,"variant")&&(i=e.variant.trim().toLowerCase())),{label:n,variant:i}}},{key:"getJumpURL",value:(r=Vf(Hf().mark((function e(t,n){var i,r,o,a,s,c,l,f,d,p,h,g,m;return Hf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return","");case 2:if(u.debug("UNCWidget: Utils: getJumpURL:","url: ".concat(t,","),"ssoDetails: ".concat(JSON.stringify(n),",")),i=Nr.getInstance().env,r=He.UNC_CLIENT_ID,o=i.toLowerCase()===gr.ENVIRONMENTS.PROD?He.IMS_ENDPOINT_URLS.PROD:He.IMS_ENDPOINT_URLS.STAGE,void 0!==(a=ra.getInstance().sendMessage(gr.GET_USER_PROFILE,{},gr.CLIENT_TARGET_TYPE,"",!1)).AccessToken&&""!==a.AccessToken){e.next=9;break}return e.abrupt("return","");case 9:if(o&&r){e.next=12;break}return u.error("UNCWidget: Utils: getJumpURL: IMS endpoint or client ID not configured:","url: ".concat(t,",")),e.abrupt("return","");case 12:return s=n.clientId,c=n.scope,l=n.responseType,f=void 0===l?"token":l,d=new URLSearchParams({bearer_token:"".concat(a.AccessToken),target_client_id:s,target_redirect_uri:t,target_scope:c,target_response_type:f,locale:Nr.getInstance().deviceLocale,client_id:r}),p={"Content-Type":"application/x-www-form-urlencoded","X-IMS-ClientId":r},h="".concat(o,"/ims/jumptoken/v1"),e.prev=16,e.next=19,fetch(h,{method:"POST",headers:p,body:d.toString()});case 19:if(!(g=e.sent).ok){e.next=27;break}return e.next=23,g.json();case 23:if(!(m=e.sent)||!m.jump){e.next=27;break}return u.debug("UNCWidget: Utils: getJumpURL: success:","url: ".concat(t,",")),e.abrupt("return",m.jump);case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(16),u.error("UNCWidget: Utils: getJumpURL: error in jump URL data:","url: ".concat(t,","),"error: ".concat(e.t0));case 32:return e.abrupt("return","");case 33:case"end":return e.stop()}}),e,null,[[16,29]])}))),function(e,t){return r.apply(this,arguments)})},{key:"sendEventToReminder",value:function(e){var t={};t=e instanceof We()?Be(e):e,ra.getInstance().sendMessage("AnalyticsEventFromHost",t,gr.DEFAULT_TARGET_TYPE,gr.DEFAULT_TARGET_ID)}}],n&&Kf(t.prototype,n),i&&Kf(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function $f(e){return $f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(e)}function Qf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ed(i.key),i)}}function Zf(e,t,n){return t&&Qf(e.prototype,t),n&&Qf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ed(e){var t=function(e,t){if("object"!=$f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=$f(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$f(t)?t:String(t)}Jf.container=null;var td=Zf((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));function nd(e){return nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(e)}function id(){id=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new k(i||[]);return r(a,"_invoke",{value:T(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",h="executing",g="completed",m={};function v(){}function y(){}function b(){}var _={};l(_,a,(function(){return this}));var C=Object.getPrototypeOf,E=C&&C(C(D([])));E&&E!==n&&i.call(E,a)&&(_=E);var S=b.prototype=v.prototype=Object.create(_);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(r,o,a,s){var c=f(e[r],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==nd(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function T(t,n,i){var r=d;return function(o,a){if(r===h)throw new Error("Generator is already running");if(r===g){if("throw"===o)throw a;return{value:e,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var c=I(s,i);if(c){if(c===m)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var l=f(t,n,i);if("normal"===l.type){if(r=i.done?g:p,l.arg===m)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=g,i.method="throw",i.arg=l.arg)}}}function I(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var o=f(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(nd(t)+" is not iterable")}return y.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},N(O.prototype),l(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new O(u(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},N(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=D,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:D(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function rd(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function od(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ad(i.key),i)}}function ad(e){var t=function(e,t){if("object"!=nd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=nd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nd(t)?t:String(t)}Xf=td,td.initializeWAMClient=function(e){var t={env:e.env,clientId:e.imsClientID,userContext:{accessToken:e.accessToken},sendAnalytics:!0,isLoggingEnabled:!1,callbacks:{onSuccessCallback:function(e){var t=e.timeTakenInWAMWF;u.debug("UNCEngine: UNCContainer: Connection with Thor via WAM is established in: ",t)},onFailureCallback:function(e){u.error("UNCEngine: UNCContainer: Connection with Thor via WAM could not be established, error is: ".concat(JSON.stringify(e.error)))},clientTokenExpiryCheck:function(){return!0},onClientStateCallback:function(e){},onMessageCallback:function(e){window.CCWamclient.processMessage(e);u.debug("UNCEngine: UNCContainer: onMessage callback is called via WAM")}}};window.CCWamclient.initialize(t),window.CCWamclient.isCCDPresent({env:e.env},!0).then((function(e){u.debug("UNCEngine: UNCContainer: isCCDPresent: ",e),Dt.isCCDPresent=e,de.sendMessageToApplet("IsCCDPresent",{isCCDPresent:e},"UNCWidget")}))},td.loadWam=function(e){try{var t=e.featureFlagEntries["feature-entry"],n=e.env===Fe.ENVIRONMENTS.PROD?He.BIFROST_HOSTED_URLS.PROD:He.BIFROST_HOSTED_URLS.STAGE;t.forEach((function(t){if(t.state===He.ENABLED&&"unc.appList.wam"===t.id){var i=JSON.parse(t.data);i.appList&&i.appList.find((function(t){return t===e.appID}))&&(window.CCWamclient?(u.debug("UNCEngine: UNCContainer: wam library already loaded by surface"),Xf.initializeWAMClient(e)):(u.debug("UNCEngine: UNCContainer: wam connection initialization by UNC"),at.loadJS(n,!0,(function(){Xf.initializeWAMClient(e)}))))}}))}catch(e){u.error("UNCEngine: UNCContainer: error while initializing WAM client with exception: ",e)}};var sd=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i,r,o;return t=e,n=null,i=[{key:"fetchAndParseUNCFeatureFlags",value:(r=id().mark((function e(t){var n,i,r,o,a;return id().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=He.FEATURE_FLAG_URLS.PROD,t.env&&t.env.toLowerCase()===Fe.ENVIRONMENTS.STAGE&&(n=He.FEATURE_FLAG_URLS.STAGE),e.prev=2,e.next=5,fetch(n,{cache:"no-store"});case 5:return i=e.sent,e.next=8,i.text();case 8:return r=e.sent,o=JSON.parse(r),t.featureFlagEntries=o,a=t.appID.replace(/\s+/g,"_"),o["feature-entry"].forEach((function(e){if(e.state===He.ENABLED&&e.data)try{var n=JSON.parse(e.data);if("unc.".concat(t.appID,".filter")===e.id)t.filterConfig=n;else if("unc.".concat(t.appID,".push")===e.id)t.pushViaCCDConfig=n;else if("unc.deactivate.longpoll.focusout"===e.id)t.focusoutLongPollTerminationSurfaces=(null==n?void 0:n.appList)||[];else if("unc.appList.cache"===e.id)n.appList.includes(t.appID)&&(t.isCacheEnabled=!0);else if(e.id.startsWith("unc.".concat(a,".reminder"))||e.id.startsWith("unc.uncGlobal.reminder")){var i=e.id.split("_")[0].split(".").pop();u.debug("UNCEngine: FeatureFlagUtils: Processing UNC reminder feature and initializing UNCTracker");var r=e.id.startsWith("unc.global");Yi.initialize(t),Yi.handleReminderFeatureData(n,a,i,r)}}catch(t){u.error("UNCEngine: UNCContainer: error while parsing feature-config: ",e.id," error: ",t)}})),Yi.isReminderFeatureEnabled()&&Yi.syncRemindersFromTrackingServer(),e.abrupt("return",o);case 17:return e.prev=17,e.t0=e.catch(2),u.error("UNCEngine: UNCContainer: error while fetching feature-config: ",e.t0),e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[2,17]])})),o=function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function a(e){rd(o,n,i,a,s,"next",e)}function s(e){rd(o,n,i,a,s,"throw",e)}a(void 0)}))},function(e){return o.apply(this,arguments)})},{key:"parseCCDFeatureFlags",value:function(e,t){var n=this;try{var i=t["feature-response"];if(!i||!i["feature-entry"])return void u.warn("UNCEngine: FeatureFlagUtils: No feature-response or feature-entry found in CCD data");var r=i["feature-entry"];u.debug("UNCEngine: FeatureFlagUtils: Processing CCD feature flags, count:",r.length),r.forEach((function(t){n.isCCDRemindersEnabled(t,e)&&(u.debug("UNCEngine: FeatureFlagUtils: Processing CCD reminder feature:",t["@id"]),n.processCCDReminderFeatureDetail(t,e))})),u.debug("UNCEngine: FeatureFlagUtils: CCD feature flags processed successfully")}catch(e){u.error("UNCEngine: FeatureFlagUtils: Error parsing CCD feature flags:",e)}}},{key:"isCCDRemindersEnabled",value:function(e,t){return(e["@id"].startsWith("uncGlobal.fw.reminder.")||e["@id"].startsWith("ccd.fw.reminder."))&&"ENABLED"===e["@state"]}},{key:"processCCDReminderFeatureDetail",value:function(e,t){try{var n=t.appID.replace(/\s+/g,"_"),i=e["@id"],r=e.data;Yi.initialize(t);var o=i.split("_")[0].split(".").pop(),a=i.startsWith("uncGlobal.fw.reminder");u.debug("UNCEngine: FeatureFlagUtils: Processing CCD reminder feature:",i,"reminderAppID:",n," reminderId:",o),Yi.handleReminderFeatureData(r,n,o,a)}catch(t){u.error("UNCEngine: FeatureFlagUtils: Error processing CCD feature detail: ".concat(e["@id"]," error: ").concat(t," "))}}}],n&&od(t.prototype,n),i&&od(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),cd=sd;var ld=0;function ud(e){return"__private_"+ld+++"_"+e}function fd(e){return fd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(e)}function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dd.apply(this,arguments)}function pd(){pd=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new k(i||[]);return r(a,"_invoke",{value:T(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",h="executing",g="completed",m={};function v(){}function y(){}function b(){}var _={};l(_,a,(function(){return this}));var C=Object.getPrototypeOf,E=C&&C(C(D([])));E&&E!==n&&i.call(E,a)&&(_=E);var S=b.prototype=v.prototype=Object.create(_);function N(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(r,o,a,s){var c=f(e[r],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==fd(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function T(t,n,i){var r=d;return function(o,a){if(r===h)throw new Error("Generator is already running");if(r===g){if("throw"===o)throw a;return{value:e,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var c=I(s,i);if(c){if(c===m)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var l=f(t,n,i);if("normal"===l.type){if(r=i.done?g:p,l.arg===m)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=g,i.method="throw",i.arg=l.arg)}}}function I(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var o=f(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(fd(t)+" is not iterable")}return y.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},N(O.prototype),l(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new O(u(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},N(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=D,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:D(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function hd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function gd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hd(Object(n),!0).forEach((function(t){md(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function md(e,t,n){return(t=Cd(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vd(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function yd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Cd(i.key),i)}}function _d(e,t,n){return t&&bd(e.prototype,t),n&&bd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cd(e){var t=function(e,t){if("object"!=fd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=fd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fd(t)?t:String(t)}var Ed=function(){function e(){yd(this,e),this._clientCallback=function(e,t){u.debug("UNCEngine: UNCContainer: client callback not provided or not a valid fn, namespace: ",e,", data: ",t)},this._clientNamespaces={},this._userProfile=null}var t,n;return _d(e,[{key:"_sendMessage",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this._ccxCore.handleMessage({targetType:n,message:e,data:t,targetID:i})}},{key:"_getUserProfile",value:function(){return this._userProfile}},{key:"_setUserProfile",value:function(e){return e?hr.sanitizeUserProfile(e)?(this._userProfile=new hr(e),kt.setUserProfile(this._userProfile),!0):(u.warn("UNCEngine: UNCContainer: _setUserProfile - Input user profile sanity failed"),!1):(u.warn("UNCEngine: UNCContainer: _setUserProfile - Cannot set empty user profile: userProfile not defined"),!1)}},{key:"_invalidateUserProfile",value:function(){delete this._userProfile,this._userProfile=null}},{key:"_fetchFilterDetailsAndLoadUI",value:(t=pd().mark((function e(t){return pd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.optimizations&&t.optimizations.includes("disableFilterAndWAM")){e.next=11;break}return e.prev=1,u.debug("UNCEngine: UNCContainer: fetching feature flag details..."),e.next=5,cd.fetchAndParseUNCFeatureFlags(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),u.warn("UNCEngine: UNCContainer: filter details fetching failed with exception: ",e.t0);case 10:t.uiConfig.surface===Fe.Surface.WEB&&t.deviceType!==Fe.DeviceType.MOBILE&&td.loadWam(gd(gd({},t),{},{accessToken:this._userProfile.AccessToken}));case 11:this._loadUI(t);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})),n=function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(e){vd(o,i,r,a,s,"next",e)}function s(e){vd(o,i,r,a,s,"throw",e)}a(void 0)}))},function(e){return n.apply(this,arguments)})},{key:"_loadUI",value:function(e,t){var n=at.getUIContext(e),i=at.UNCWidgetPath(e);if(n.surface.toLowerCase()!==Fe.Surface.DESKTOP&&n.optimizations&&n.optimizations.includes(Fe.Optimizations.DYNAMIC_LOADING))this._loadBL(e);else{var r=dd({},i,{initData:{},statusCallback:function(t){t.status?(u.debug("UNCEngine: UNCContainer: _loadUI - success returned in loading UNCWIdget"),n.isCCDPresent=Dt.isCCDPresent,this._sendMessage("InitContext",n,"Applet","UNCWidget"),u.debug("UNCEngine: UNCContainer: _loadUI - Initializing UNCWidget with context: ",n),this._loadBL(e)):u.debug("UNCEngine: UNCContainer: _loadUI - error returned in loading UNCWIdget")}.bind(this),panels:void 0});this._sendMessage("LoadModule",r,"JSCore")}}},{key:"_loadBL",value:function(e){if(!this.uncEnginObj){this.uncEnginObj=new ur;var t={id:"UNCEngine",moduleObject:this.uncEnginObj,initData:""};this._sendMessage("RegisterModule",t,"JSCore")}this._sendMessage("InitContext",e,"Applet","UNCEngine")}},{key:"initialize",value:function(e){if(e&&e.initJSON&&"object"===fd(e.initJSON)){this._ccxCore=e.hostObject;var t=e.initJSON.applicationContext;t.namespaces&&"object"===fd(t.namespaces)&&(this._clientNamespaces=t.namespaces),e.initJSON.callback&&"function"==typeof e.initJSON.callback&&(this._clientCallback=e.initJSON.callback),t.userProfile&&"object"===fd(t.userProfile)&&(this._setUserProfile(t.userProfile),delete t.userProfile),kt.initialize(t),t.uiEnabled?t.uiConfig&&"object"===fd(t.uiConfig)&&this._fetchFilterDetailsAndLoadUI(t):this._loadBL(t)}}},{key:"handleInitAndWidgetDisplay",value:function(e){e.isCCDPresent=Dt.isCCDPresent,e.badgeCount=Dt.badgeCount,e.theme=Dt.theme,u.debug("UNCEngine: UNCContainer: _loadUI - success returned in loading UNCWIdget"),this._ccxCore.handleMessage({targetType:"Applet",targetID:"UNCWidget",message:"InitContext",data:e,isAsync:!1}),u.debug("UNCEngine: UNCContainer: _loadUI - Initializing UNCWidget with context: ",e),this._ccxCore.handleMessage({targetType:"Applet",targetID:"UNCWidget",message:"Init",data:{},isAsync:!1}),u.debug("UNCEngine: UNCContainer: Sending Init message to UNCWidget"),this._ccxCore.handleMessage({targetType:"Applet",targetID:"UNCWidget",message:"HistoricalNotificationsNamespace",data:Mi.getLocalHistoricalNotificationList(),isAsync:!1}),u.debug("UNCEngine: UNCContainer: Sending LocalNotificationsNamespace message to UNCWidget"),this._ccxCore.handleMessage({targetType:"Applet",targetID:"UNCWidget",message:"ShowNotificationWidget",data:{}}),kt.setDataCustomIcon("Not pending")}},{key:"handleMessage",value:function(e){var t=this,n=e.message;switch(n){case"ShowOSTray":u.debug("UNCEngine: UNCContainer: handleMessage: ShowOSTray - Calling client callback with namespace '",this._clientNamespaces[n],"'");try{this._clientCallback(this._clientNamespaces[n],e.data)}catch(e){u.debug("UNCEngine: UNCContainer: handleMessage: ShowOSTray - Exception in calling client callback",e)}return;case"UpdateBadge":u.debug("UNCEngine: UNCContainer: handleMessage: UpdateBadge - Calling client callback with namespace '",this._clientNamespaces[n],"'");try{this._clientCallback(this._clientNamespaces[n],e.data)}catch(e){u.debug("UNCEngine: UNCContainer: handleMessage: ShowOSTray - Exception in calling client callback",e)}return;case"GetUserProfile":return u.debug("UNCEngine: UNCContainer: handleMessage: GetUserProfile - Sending userProfile Data to ",e.sourceID),this._getUserProfile();case"RefreshUserProfile":if(this._userProfile){u.debug("UNCEngine: UNCContainer: handleMessage: RefreshUserProfile - Recieved request from ",e.sourceID,"Invalidating existing user profile and fetching updated profile"),this._invalidateUserProfile();try{this._clientCallback(n,e.data)}catch(e){u.debug("UNCEngine: UNCContainer: handleMessage: ShowOSTray - Exception in calling client callback",e)}}return;case"NotificationIconClick":u.debug("UNCEngine: UNCContainer: handleMessage: NotificationIconClick - Recieved data: ",e);var i=e.data;if(i.widgetClosed){var r=at.getUIContext(i.context);this.handleInitAndWidgetDisplay(r)}else{var o=dd({},{id:"UNCWidget",version:"1.0",path:i.UNCWidgetJSPath,cssPath:i.UNCWidgetCSSPath},{initData:{},statusCallback:function(e){if(e.status){var n=at.getUIContext(i.context);t.handleInitAndWidgetDisplay(n),u.debug("UNCEngine: UNCContainer: ShowNotificationWidgetWithoutDelay message to UNCWidget")}else kt.setDataCustomIcon("Not pending"),u.debug("UNCEngine: UNCContainer: _loadUI - error returned in loading UNCWIdget"),t._ccxCore.handleMessage({targetType:"Applet",targetID:"UNCEngine",message:"LoadErrorScreen",data:{}})},panels:void 0});this._ccxCore.handleMessage({targetType:"JSCore",message:"LoadModule",data:o})}return;default:u.debug("UNCEngine: UNCContainer: handleMessage: default - Calling client callback with namespace '",n,"'");try{this._clientCallback(n,e.data)}catch(e){u.debug("UNCEngine: UNCContainer: handleMessage: ShowOSTray - Exception in calling client callback",e)}}}},{key:"finalize",value:function(e){}},{key:"handleMessageFromInterface",value:function(e,t){switch(e){case"RegisterObservers":return void this._sendMessage("RegisterObservers",t,"Applet","UNCEngine");case"UnregisterObservers":return void this._sendMessage("UnregisterObservers",t,"Applet","UNCEngine");case"GetNotifications":return void this._sendMessage("GetNotifications",t,"Applet","UNCEngine");case"PostNotifications":return void this._sendMessage("PostNotifications",t,"Applet","UNCEngine");case"UpdateNotifications":return void this._sendMessage("UpdateNotifications",t,"Applet","UNCEngine");case"UpdateNotificationContent":return void this._sendMessage("UpdateNotificationContent",t,"Applet","UNCWidget");case"UpdateTheme":return this._sendMessage("ThemeChange",t,"Applet","UNCWidget"),void this._sendMessage("ThemeChange",t,"Applet","UNCEngine");case"cleanUp":return void this._sendMessage("cleanUp",t,"Applet","UNCEngine");case"UpdateUserProfile":if(!t)return;var n=t;"string"==typeof n&&(n=JSON.parse(t)),this.userProfile&&this._invalidateUserProfile(),this._setUserProfile(n);var i={};return void this._sendMessage("UpdateUserProfile",i,"Applet","UNCEngine");case"ClearBadge":return void this._sendMessage("ClearBadge",t,"Applet","UNCEngine");case"UpdateAnalyticsConfig":return void this._sendMessage("UpdateAnalyticsConfig",t,"Applet","UNCEngine");case"ShowNotificationWidget":return void this._sendMessage("ShowNotificationWidget",t,"Applet","UNCWidget");case"HideNotificationWidget":this._sendMessage("HideNotificationWidget",t,"Applet","UNCWidget");break;case"HandleOfflineToOnline":this._sendMessage("NetworkIsOnline",i,"Applet","UNCEngine");break;case"AddNotification":this._sendMessage("AddNotification",t,"Applet","UNCEngine");break;case"AnalyticsEventFromHost":this._sendMessage("AnalyticsEventFromHost",t,"Applet","UNCEngine")}}}]),e}(),Sd=ud("intializeUNC"),Nd=function(){function e(t){yd(this,e),Object.defineProperty(this,Sd,{value:Od}),this.initializeUNC=at.debounce(function(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}(this,Sd)[Sd].bind(this),1e3),this.initializeUNC(t)}return _d(e,[{key:"RegisterObservers",value:function(e){this._uncContainer.handleMessageFromInterface("RegisterObservers",e)}},{key:"UnregisterObservers",value:function(e){this._uncContainer.handleMessageFromInterface("UnregisterObservers",e)}},{key:"GetNotifications",value:function(e){this._uncContainer.handleMessageFromInterface("GetNotifications",e)}},{key:"PostNotifications",value:function(e){this._uncContainer.handleMessageFromInterface("PostNotifications",e)}},{key:"UpdateNotifications",value:function(e){this._uncContainer.handleMessageFromInterface("UpdateNotifications",e)}},{key:"UpdateNotificationContent",value:function(e){this._uncContainer.handleMessageFromInterface("UpdateNotificationContent",e)}},{key:"UpdateUserProfile",value:function(e){this._uncContainer.handleMessageFromInterface("UpdateUserProfile",e)}},{key:"ClearBadge",value:function(e){this._uncContainer.handleMessageFromInterface("ClearBadge",e)}},{key:"UpdateDeviceID",value:function(e){this._uncContainer.handleMessageFromInterface("UpdateDeviceID",e)}},{key:"UpdateAnalyticsConfig",value:function(e){this._uncContainer.handleMessageFromInterface("UpdateAnalyticsConfig",e)}},{key:"ShowNotificationWidget",value:function(e){this._uncContainer.handleMessageFromInterface("ShowNotificationWidget",e)}},{key:"HideNotificationWidget",value:function(e){this._uncContainer.handleMessageFromInterface("HideNotificationWidget",e)}},{key:"updateTheme",value:function(e){this._uncContainer.handleMessageFromInterface("UpdateTheme",e)}},{key:"cleanUp",value:function(e){this._uncContainer.handleMessageFromInterface("cleanUp",e)}},{key:"updateContext",value:function(e){console.log("UNCEngine: updateContext called "),this.initializeUNC(e)}},{key:"HandleOfflineToOnline",value:function(){this._uncContainer.handleMessageFromInterface("HandleOfflineToOnline")}},{key:"AddNotification",value:function(e){this._uncContainer.handleMessageFromInterface("AddNotification",e)}},{key:"AnalyticsEventFromHost",value:function(e){this._uncContainer.handleMessageFromInterface("AnalyticsEventFromHost",e)}}]),e}();function Od(e){if(e&&e.applicationContext&&"object"===fd(e.applicationContext)){u.debug("UNCEngine: Initializing UNCEngine context: ",e),this._ccxCore||(this._ccxCore=new F),this._uncContainer||(this._uncContainer=new Ed),this._ccxCore.initialize({hostObject:function(e){u.warn("UNCEngine: UNC: Message received for core loader (host process), message object: ",e)}});var t={targetType:"JSCore",message:"RegisterModule",data:{id:"UNCContainer",moduleObject:this._uncContainer,initData:e}};this._ccxCore.handleMessage(t)}}}(),UNC=i}();